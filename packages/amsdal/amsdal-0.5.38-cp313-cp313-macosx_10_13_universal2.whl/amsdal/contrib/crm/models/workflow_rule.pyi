from amsdal_models.classes.model import Model
from amsdal_utils.models.enums import ModuleType
from typing import Any, ClassVar, Literal

class WorkflowRule(Model):
    """Configuration for workflow automation rules.

    Defines rules that trigger actions when certain conditions are met
    on CRM entities (create, update, delete events).
    """
    __module_type__: ClassVar[ModuleType] = ...
    name: str = ...
    entity_type: Literal['Contact', 'Account', 'Deal', 'Activity'] = ...
    trigger_event: Literal['create', 'update', 'delete'] = ...
    condition_field: str | None = ...
    condition_operator: Literal['equals', 'not_equals', 'contains', 'greater_than', 'less_than'] | None = ...
    condition_value: Any | None = ...
    action_type: Literal['update_field', 'create_activity', 'send_notification'] = ...
    action_config: dict[str, Any] = ...
    is_active: bool = ...
    @property
    def display_name(self) -> str:
        """Return display name for the workflow rule."""
