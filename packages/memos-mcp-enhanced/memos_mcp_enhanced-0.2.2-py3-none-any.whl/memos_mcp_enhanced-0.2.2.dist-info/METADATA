Metadata-Version: 2.4
Name: memos-mcp-enhanced
Version: 0.2.2
Summary: Enhanced MCP server for Memos with complete CRUD and search capabilities
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: mcp>=1.1.2
Requires-Dist: httpx>=0.27.0
Requires-Dist: pydantic>=2.9.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: pydantic-settings>=2.0.0
Provides-Extra: dev
Requires-Dist: pytest>=8.3.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.24.0; extra == "dev"
Requires-Dist: ruff>=0.6.0; extra == "dev"
Requires-Dist: mypy>=1.11.0; extra == "dev"
Dynamic: license-file

# Memos MCP Server Enhanced

[English](#english) | [ä¸­æ–‡](#chinese)

<a name="english"></a>
## ğŸ‡¬ğŸ‡§ English

An enhanced [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) server for [Memos](https://usememos.com/), enabling LLMs (like Claude, Cursor, etc.) to interact seamlessly with your Memos knowledge base.

> **Privacy Note**: This project runs locally on your machine. Your Memos data is only accessed by the MCP client you authorize.

### âœ¨ Key Features

*   **Complete CRUD**: Create, read, update, and delete memos.
*   **Smart Search**: Support for natural language date filtering (e.g., "find notes from last week", "search for 'meeting' in 2024"). **Now supports searching archived memos!**
*   **Task Management**: Dedicated tools for managing TODO lists (`list_todos`, `create_todo`, `complete_todo`).
*   **Resource Management**: Upload files, manage attachments, and attach them to memos.
*   **Batch Operations**: Archive or delete multiple memos in one go.
*   **Template System**: Create memos from reusable templates with variable substitution.
*   **Export Tools**: Export content to Obsidian vaults or format for WeChat Official Accounts.

### ğŸš€ Quick Start

#### Prerequisites
*   A running [Memos](https://usememos.com/) instance (v0.22+ recommended).
*   An API Token from Memos (Settings -> Access Tokens).
*   [`uv`](https://github.com/astral-sh/uv) installed (recommended) or Python 3.10+.

#### Configuration (Claude Desktop / Cursor)

Add the following to your MCP configuration file:

```json
{
  "memos": {
    "command": "uvx",
    "args": ["memos-mcp-enhanced"],
    "env": {
      "MEMOS_INSTANCE_URL": "https://your-memos-url.com",
      "MEMOS_API_TOKEN": "your-api-token-here"
    }
  }
}
```

### ğŸ“¦ Installation (Local Development)

1.  Clone the repository:
    ```bash
    git clone https://github.com/Mebigger/memos-mcp-enhanced.git
    cd memos-mcp-enhanced
    ```

2.  Create a `.env` file:
    ```bash
    cp .env.example .env
    # Edit .env with your configuration
    ```

3.  Run the server:
    ```bash
    uv run memos-mcp
    ```

### ğŸ› ï¸ Available Tools

The server exposes 26 tools including:
*   `search_memos`: Search with keywords and date ranges.
*   `create_memo` / `update_memo`: Manage memo content and metadata (including backdating).
*   `upload_resource` / `add_attachment`: Handle files.
*   `batch_operation`: Bulk actions.
*   `export_to_obsidian`: Sync to your local vault.

---

<a name="chinese"></a>
## ğŸ‡¨ğŸ‡³ ä¸­æ–‡

[Memos](https://usememos.com/) çš„å¢å¼ºç‰ˆ [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) æœåŠ¡å™¨ã€‚å®ƒèµ‹äºˆäº† LLMï¼ˆå¦‚ Claude, Cursor ç­‰ï¼‰è¯»å†™å’Œç®¡ç†ä½  Memos çŸ¥è¯†åº“çš„èƒ½åŠ›ã€‚

> **éšç§è¯´æ˜**ï¼šæ­¤æœåŠ¡åœ¨æ‚¨çš„æœ¬åœ°æœºå™¨ä¸Šè¿è¡Œã€‚æ‚¨çš„ Memos æ•°æ®ä»…åœ¨æ‚¨æˆæƒçš„ MCP å®¢æˆ·ç«¯ä¸­å¤„ç†ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

*   **å…¨åŠŸèƒ½ CRUD**: åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ç¬”è®°ã€‚
*   **æ™ºèƒ½æœç´¢**: æ”¯æŒè‡ªç„¶è¯­è¨€çš„æ—¥æœŸè¿‡æ»¤æœç´¢ï¼ˆæ”¯æŒå¦‚ "æŸ¥æ‰¾ä¸Šå‘¨çš„ç¬”è®°"ã€"æœç´¢å»å¹´çš„è®°å½•" ç­‰è‡ªç„¶è¯­è¨€ï¼‰ã€‚**ç°å·²æ”¯æŒæœç´¢å½’æ¡£ç¬”è®°ï¼**
*   **å¾…åŠç®¡ç†**: ä¸“é—¨çš„ TODO ç®¡ç†å·¥å…· (`list_todos`, `create_todo`, `complete_todo`)ã€‚
*   **é™„ä»¶ç®¡ç†**: æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€ç®¡ç†åŠç»‘å®šåˆ°ç¬”è®°ã€‚
*   **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡å½’æ¡£ã€åˆ é™¤ç¬”è®°ã€‚
*   **æ¨¡æ¿ç³»ç»Ÿ**: å†…ç½®æ¨¡æ¿å¼•æ“ï¼Œæ”¯æŒå‚æ•°æ›¿æ¢ï¼Œå¿«é€Ÿç”Ÿæˆå‘¨æŠ¥ã€æ—¥è®°ç­‰ã€‚
*   **å¯¼å‡ºå·¥å…·**: æ”¯æŒå°†ç¬”è®°å¯¼å‡ºåˆ° Obsidian æœ¬åœ°åº“ï¼Œæˆ–æ ¼å¼åŒ–ä¸ºå¾®ä¿¡å…¬ä¼—å·æ–‡ç« ã€‚

### ï¿½ å¿«é€Ÿå¼€å§‹

#### å‰ç½®è¦æ±‚
*   ä¸€ä¸ªè¿è¡Œä¸­çš„ [Memos](https://usememos.com/) å®ä¾‹ (å»ºè®® v0.22+)ã€‚
*   Memos API Token (åœ¨ è®¾ç½® -> Access Tokens ä¸­è·å–)ã€‚
*   å®‰è£… [`uv`](https://github.com/astral-sh/uv) (æ¨è) æˆ– Python 3.10+ã€‚

#### é…ç½®æ–¹å¼ (Claude Desktop / Cursor)

åœ¨æ‚¨çš„ MCP é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```json
{
  "memos": {
    "command": "uvx",
    "args": ["memos-mcp-enhanced"],
    "env": {
      "MEMOS_INSTANCE_URL": "https://your-memos-url.com",
      "MEMOS_API_TOKEN": "your-api-token-here"
    }
  }
}
```

### ğŸ“¦ æœ¬åœ°å¼€å‘å®‰è£…

1.  å…‹éš†ä»“åº“ï¼š
    ```bash
    git clone https://github.com/Mebigger/memos-mcp-enhanced.git
    cd memos-mcp-enhanced
    ```

2.  é…ç½®ç¯å¢ƒå˜é‡ï¼š
    ```bash
    cp .env.example .env
    # ç¼–è¾‘ .env æ–‡ä»¶å¡«å…¥ä½ çš„ API ä¿¡æ¯
    ```

3.  è¿è¡ŒæœåŠ¡ï¼š
    ```bash
    uv run memos-mcp
    ```

### ğŸ› ï¸ å¯ç”¨å·¥å…·

æœ¬æœåŠ¡æä¾› 26 ä¸ªå¢å¼ºå·¥å…·ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
*   `search_memos`: æ”¯æŒå…³é”®è¯å’Œè‡ªç„¶è¯­è¨€æ—¥æœŸèŒƒå›´æœç´¢ã€‚
*   `create_memo` / `update_memo`: ç®¡ç†ç¬”è®°å†…å®¹ã€å±æ€§ï¼ˆæ”¯æŒä¿®æ”¹æ˜¾ç¤ºæ—¶é—´ï¼‰ã€‚
*   `upload_resource` / `add_attachment`: æ–‡ä»¶ä¸Šä¼ ä¸é™„ä»¶ç®¡ç†ã€‚
*   `batch_operation`: æ‰¹é‡å¤„ç†ã€‚
*   `export_to_obsidian`: å¯¼å‡ºåˆ°æœ¬åœ° Obsidian åº“ã€‚

---

## License

MIT
