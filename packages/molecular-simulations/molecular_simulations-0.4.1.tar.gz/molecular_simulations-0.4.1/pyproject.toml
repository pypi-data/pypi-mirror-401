[build-system]
requires = ['hatchling']
build-backend = 'hatchling.build'

[project]
name = 'molecular_simulations'
version = '0.4.1'
authors = [
  { name='Matt Sinclair', email='msinclair@anl.gov' },
]
description = '''
A small package for building molecular systems using the AMBER \
force field and deploying OpenMM simulations on HPC clusters using Parsl.
'''
readme = 'README.md'
requires-python = '>= 3.10'
classifiers = [
    'Programming Language :: Python :: 3',
]
license = 'MIT'
license-files = ['LICEN[CS]E*']
dependencies = [
    'black-pdbfixer',
    'MDAnalysis>=2.7',
    'mdtraj',
    'natsort',
    'numba',
    'openmm>=8.0',
    'parmed',
    'parsl>=2024.1.29',
    'polars',
    'pydantic',
    'pyyaml',
    'rust-simulation-tools',
    'scikit-learn',
    'seaborn'
]

[project.urls]
Homepage = 'https://github.com/msinclair-py/molecular-dynamics'
Issues = 'https://github.com/msinclair-py/molecular-dynamics/issues'

[project.optional-dependencies]
ligand = [
    'openbabel',
    'rdkit'
]
docutils = [
    'sphinx',
    'sphinx-rtd-theme',
    'sphinx-wagtail-theme',
    'docutils'
]
dev = [
    'pytest>=7.0',
    'pytest-cov>=4.0',
    'numpy>=1.22'
]

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.wheel]
packages = ['src/molecular_simulations']

[tool.pytest.ini_options]
addopts = '-q --maxfail=1'
filterwarnings = [
    'ignore::DeprecationWarning:importlib._bootstrap',
]
testpaths = ['tests']
markers = [
    'slow: potentially long-running test',
    'requires_openmm: needs OpenMM runtime',
    'requires_amber: needs AmberTools/tleap',
    'requires_rdkit: needs RDKit installation',
    'integration: end-to-end integration test',
    'unit: isolated unit test',
]
