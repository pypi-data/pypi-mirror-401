[project]
name = "neonize"
description = "Neonize is a Python library designed to streamline the automation of tasks on WhatsApp"
readme = "README.md"
requires-python = ">=3.10"
dynamic = []
dependencies = [
    "httpx>=0.28.1",
    "linkpreview>=0.11.0",
    "phonenumbers>=8.13.52",
    "pillow>=11.1.0",
    "protobuf>=6.32.1",
    "python-magic>=0.4.27 ; sys_platform != 'win32'",
    "python-magic-bin>=0.4.14 ; sys_platform == 'win32'",
    "requests>=2.32.3",
    "segno>=1.6.1",
    "tqdm>=4.67.1",
]
version = "0.3.12.post1"

[project.urls]
HomePage = "https://github.com/krypton-byte/neonize"

[dependency-groups]
dev = [
    "mypy-protobuf>=3.6.0",
    "taskipy>=1.14.1",
    "types-requests>=2.32.0.20241016",
    "wheel>=0.45.1",
]
docs = [
    "furo>=2024.8.6",
    "mkdocs-material>=9.7.0",
    "mkdocstrings>=1.0.0",
    "mkdocstrings-python>=1.12.2",
    "mkdocs-git-revision-date-localized-plugin>=1.3.0",
    "myst-parser>=4.0.0",
    "sphinx>=8.1.3",
    "sphinx-autodoc-typehints>=3.0.0",
]

[tool.taskipy.tasks.build]
cmd = "uv run -m tools.goneonize"
help = "build goneonize"

[tool.taskipy.tasks.docsbuild]
cmd = "uv run -m tools.docs"
help = "build autogen documentation for neonize"

[tool.taskipy.tasks.version]
cmd = "uv run -m tools.version_cli"
help = "set neonize & goneonize version"

[tool.taskipy.tasks.download]
cmd = "uv run -m tools.download"
help = "Download goneonize from github release with specific version"

[tool.taskipy.tasks.repack]
cmd = "uv run -m tools.repack"
help = "generate wheel with spesific os & arch"

[tool.taskipy.tasks.proto]
cmd = "uv run -m tools.update_proto"
help = "update whatsapp proto files"

[tool.taskipy.tasks.goneonize_changed]
cmd = "uv run -m tools.build_goneonize_decision"
help = "This command to compares the latest release of goneonize"

[tool.taskipy.tasks.docs-serve]
cmd = "mkdocs serve"
help = "Start MkDocs development server with live reload"

[tool.taskipy.tasks.docs-build]
cmd = "mkdocs build"
help = "Build MkDocs documentation to site/ directory"

[tool.taskipy.tasks.docs-deploy]
cmd = "mkdocs gh-deploy"
help = "Deploy documentation to GitHub Pages"

[tool.taskipy.tasks.docs-clean]
cmd = "rm -rf site/"
help = "Clean built documentation"

[tool.taskipy.tasks.docs-validate]
cmd = "mkdocs build --strict"
help = "Build docs with strict validation"

[tool.uv.workspace]
exclude = [
    "docs/",
    "goneonize/",
]
members = [
    "neonize/neonize-*",
]

[tool.pdm.version]
source = "file"
path = "neonize/__init__.py"

[tool.pdm.build]
includes = [
    "neonize/",
    "neonize/neonize-*",
]
excludes = [
    "goneonize",
]

[tool.ruff]
exclude = [
    "proto",
    "*.pyi",
]
line-length = 100

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
skip-magic-trailing-comma = false
line-ending = "auto"
docstring-code-format = false
docstring-code-line-length = "dynamic"

[build-system]
requires = [
    "pdm-backend",
]
build-backend = "pdm.backend"
