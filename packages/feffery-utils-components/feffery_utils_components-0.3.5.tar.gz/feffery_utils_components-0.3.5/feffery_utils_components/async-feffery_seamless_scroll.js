(window.webpackJsonpfeffery_utils_components=window.webpackJsonpfeffery_utils_components||[]).push([[29],{1130:function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function e(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t=void 0,r=void 0,u=void 0,c=void 0,i=void 0,o=void 0,a=1,s=arguments[0]||{},f=!1,l=arguments.length;if("boolean"==typeof s&&(f=s,s=arguments[1]||{},a++),"object"!==(void 0===s?"undefined":n(s))&&"function"!=typeof s&&(s={}),a===l)return s;for(;a<l;a++)if(null!=(r=arguments[a]))for(t in r)u=s[t],c=r[t],i=Array.isArray(c),f&&c&&("object"===(void 0===c?"undefined":n(c))||i)?(i?(i=!1,o=u&&Array.isArray(u)?u:[]):o=u&&"object"===(void 0===u?"undefined":n(u))?u:{},s[t]=e(f,o,c)):void 0!==c&&(s[t]=c);return s}},1131:function(e,t){e.exports=function(){window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e)},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}},551:function(e,t,n){"use strict";n.r(t);var r=n(1),u=n.n(r),c=n(1130),i=n.n(c),o=n(271);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,u,c,i,o=[],a=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=c.call(n)).done)&&(o.push(r.value),o.length!==t);a=!0);}catch(e){s=!0,u=e}finally{try{if(!a&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw u}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n(1131)();var f=function(e,t){var n=Object(r.useRef)(!1);Object(r.useEffect)((function(){n.current?e():n.current=!0}),t)},l=function(e){var t=e.id,n=e.key,c=e.leftSwitchChildren,o=e.rightSwitchChildren,s=e.children,l=e.className,m=e.style,b=e.data,d=e.classOption,h=(e.setProps,Object(r.useRef)(null)),w=Object(r.useRef)(null),y=Object(r.useRef)(null),p=Object(r.useRef)(0),v=Object(r.useRef)(0),O=Object(r.useRef)(0),j=Object(r.useRef)(0),g=Object(r.useRef)(0),S=Object(r.useRef)(0),M=Object(r.useRef)(0),A=Object(r.useRef)(null),T=Object(r.useRef)(null),R=Object(r.useRef)(null),E=Object(r.useRef)(null),x=Object(r.useRef)(null),C=Object(r.useRef)(null),F=Object(r.useRef)(!1),k=Object(r.useRef)("ease-in"),D=a(Object(r.useState)(0),2),H=D[0],q=D[1],W=a(Object(r.useState)(0),2),_=W[0],I=W[1],L=a(Object(r.useState)(0),2),N=L[0],P=L[1],U=a(Object(r.useState)(0),2),z=U[0],Y=U[1],J=a(Object(r.useState)(0),2),X=J[0],$=J[1],B=a(Object(r.useState)(0),2),G=B[0],K=B[1],Q=a(Object(r.useState)(0),2),V=Q[0],Z=Q[1],ee=a(Object(r.useState)(""),2),te=ee[0],ne=ee[1],re=a(Object(r.useState)(null),2),ue=re[0],ce=re[1],ie=a(Object(r.useState)(null),2),oe=ie[0],ae=ie[1],se=a(Object(r.useState)(null),2),fe=se[0],le=se[1],me=a(Object(r.useState)(null),2),be=me[0],de=me[1],he=a(Object(r.useState)(null),2),we=he[0],ye=he[1],pe=Object(r.useMemo)((function(){return{step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}}),[]),ve=Object(r.useMemo)((function(){return i()({},pe,d)}),[d]);Object(r.useEffect)((function(){ce((function(){return p.current<0}))}),[H]),Object(r.useEffect)((function(){ae((function(){return Math.abs(p.current)<S.current-g.current}))}),[H,G,X]),Object(r.useEffect)((function(){le((function(){return{position:"absolute",margin:"".concat(j.current/2,"px 0 0 -").concat(ve.switchOffset,"px"),transform:"translate(-100%,-50%)"}}))}),[z,ve.switchOffset]),Object(r.useEffect)((function(){de((function(){return{position:"absolute",margin:"".concat(j.current/2,"px 0 0 ").concat(g.current+ve.switchOffset,"px"),transform:"translateY(-50%)"}}))}),[z,X,ve.switchOffset]);var Oe=Object(r.useMemo)((function(){return ue?"":ve.switchDisabledClass}),[ue,ve.switchDisabledClass]),je=Object(r.useMemo)((function(){return oe?"":ve.switchDisabledClass}),[oe,ve.switchDisabledClass]),ge=Object(r.useMemo)((function(){return Ee?{float:"left",overflow:"hidden"}:{overflow:"hidden"}}),[Ee]);Object(r.useEffect)((function(){ye((function(){return{transform:"translate(".concat(p.current,"px,").concat(v.current,"px)"),transition:"all ".concat(k.current," ").concat(O.current,"ms"),overflow:"hidden"}}))}),[H,_,V,N]);var Se=Object(r.useMemo)((function(){return ve.navigation}),[ve.navigation]),Me=Object(r.useMemo)((function(){return!Se&&ve.autoPlay}),[Se]),Ae=Object(r.useMemo)((function(){return b.length>=ve.limitMoveNum}),[b.length,ve.limitMoveNum]),Te=Object(r.useMemo)((function(){return ve.hoverStop&&Me&&Ae}),[ve.hoverStop,Me,Ae]),Re=Object(r.useMemo)((function(){return ve.openTouch}),[ve.openTouch]),Ee=Object(r.useMemo)((function(){return ve.direction>1}),[ve.direction]),xe=Object(r.useMemo)((function(){return ve.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1}),[ve.isSingleRemUnit]),Ce=Object(r.useMemo)((function(){return ve.singleWidth*xe}),[ve.singleWidth,xe]),Fe=Object(r.useMemo)((function(){return ve.singleHeight*xe}),[ve.singleHeight,xe]),ke=Object(r.useMemo)((function(){var e,t=ve.step;return(e=Ee?Ce:Fe)>0&&e%t>0&&console.error("如果设置了单步滚动,step需是单步大小的约数,否则无法保证单步滚动结束的位置是否准确。~~~~~"),t}),[ve.step,Ee,Ce,Fe]),De=function(){He(),_e()},He=function(){cancelAnimationFrame(x.current||"")},qe=function(){},We=function(){F.current||(He(),x.current=requestAnimationFrame(function(){var e=M.current/2,t=S.current/2,n=ve.direction,r=ve.waitTime;1===n?(Math.abs(v.current)>=e&&(v.current=0,I((function(e){return e+1}))),v.current-=ke,I((function(e){return e+1}))):0===n?(v.current>=0&&(v.current=-1*e,I((function(e){return e+1}))),v.current+=ke,I((function(e){return e+1}))):2===n?(Math.abs(p.current)>=t&&(p.current=0,q((function(e){return e+1}))),p.current-=ke,q((function(e){return e+1}))):3===n&&(p.current>=0&&(p.current=-1*t,q((function(e){return e+1}))),p.current+=ke,q((function(e){return e+1}))),C.current&&clearTimeout(C.current),Fe?Math.abs(v.current)%Fe<ke?C.current=setTimeout((function(){We()}),r):We():Ce&&Math.abs(p.current)%Ce<ke?C.current=setTimeout((function(){We()}),r):We()}.bind(h.current)))},_e=function(){var e=ve.switchDelay;if(Ie(b),ne(""),Ee){j.current=h.current.offsetHeight,Y((function(e){return e+1})),g.current=h.current.offsetWidth,$((function(e){return e+1}));var t=y.current.offsetWidth;Me&&(t=2*t+1),w.current.style.width=t+"px",S.current=t,K((function(e){return e+1}))}if(!Me)return k.current="linear",Z((function(e){return e+1})),O.current=e,void P((function(e){return e+1}));(k.current="ease-in",Z((function(e){return e+1})),O.current=0,P((function(e){return e+1})),Ae)?(ne(y.current.innerHTML),setTimeout((function(){M.current=w.current.offsetHeight,We()}),0)):(He(),p.current=0,q((function(e){return e+1})),v.current=0,I((function(e){return e+1})))},Ie=function(e){e.length>100&&console.warn("数据达到了".concat(e.length,"条有点多哦~,可能会造成部分老旧浏览器卡顿。"))},Le=function(){F.current=!1,We()},Ne=function(){F.current=!0,C.current&&clearTimeout(C.current),He()};return Object(r.useEffect)((function(){return window.addEventListener("scrollend",qe),_e(),function(){window.removeEventListener("scrollend",qe),He(),clearTimeout(C.current)}}),[]),f((function(){Ie(b),De()}),[b]),f((function(){Me?De():Ne()}),[Me]),u.a.createElement("div",{id:t,key:n,className:l,style:m,ref:h},Se&&u.a.createElement("div",{style:fe,class:Oe,onClick:function(){if(ue){if(Math.abs(p.current)<ve.switchSingleStep)return p.current=0,void q((function(e){return e+1}));p.current+=ve.switchSingleStep,q((function(e){return e+1}))}}},c),Se&&u.a.createElement("div",{style:be,class:je,onClick:function(){if(oe){if(S.current-g.current+p.current<ve.switchSingleStep)return p.current=g.current-S.current,void q((function(e){return e+1}));p.current-=ve.switchSingleStep,q((function(e){return e+1}))}}},o),u.a.createElement("div",{ref:w,style:we,onMouseEnter:function(){Te&&Ne()},onMouseLeave:function(){Te&&Le()},onTouchStart:function(e){if(Re){var t,n=e.targetTouches[0],r=ve.waitTime,u=ve.singleHeight,c=ve.singleWidth;A.current={x:n.pageX,y:n.pageY},E.current=v.current,R.current=p.current,u&&c?(t&&clearTimeout(t),t=setTimeout((function(){He()}),r+20)):He()}},onTouchMove:function(e){if(!(!Re||e.targetTouches.length>1||e.scale&&1!==e.scale)){var t=e.targetTouches[0],n=ve.direction;T.current={x:t.pageX-A.current.x,y:t.pageY-A.current.y},event.preventDefault();var r=Math.abs(T.current.x)<Math.abs(T.current.y)?1:0;1===r&&n<2?(v.current=E.current+T.current.y,I((function(e){return e+1}))):0===r&&n>1&&(p.current=R.current+T.current.x,q((function(e){return e+1})))}},onTouchEnd:function(){if(Re){var e,t=ve.direction;if(O.current=50,P((function(e){return e+1})),1===t)v.current>0&&(v.current=0,I((function(e){return e+1})));else if(0===t){var n=M.current/2*-1;v.current<n&&(v.current=n,I((function(e){return e+1})))}else if(2===t)p.current>0&&(p.current=0,q((function(e){return e+1})));else if(3===t){var r=-1*S.current;p.current<r&&(p.current=r,q((function(e){return e+1})))}e&&clearTimeout(e),e=setTimeout((function(){O.current=0,P((function(e){return e+1})),We()}),O.current)}}},u.a.createElement("div",{ref:y,style:ge},s),u.a.createElement("div",{dangerouslySetInnerHTML:{__html:te},style:ge})))};t.default=l,l.defaultProps=o.b,l.propTypes=o.c}}]);
//# sourceMappingURL=async-feffery_seamless_scroll.js.map
//# sourceMappingURL=async-feffery_seamless_scroll.js.map