# v3.14.0 æ–‡æ¡£å’Œæ¨¡æ¿å®¡è®¡æŠ¥å‘Š

> **å®¡è®¡æ—¥æœŸ**: 2025-12-04
> **å®¡è®¡èŒƒå›´**: æ–‡æ¡£ç³»ç»Ÿã€è„šæ‰‹æ¶æ¨¡æ¿ã€ç”¨æˆ·æŒ‡å—

---

## æ‰§è¡Œæ‘˜è¦

**å…³é”®å‘ç°**: æ–‡æ¡£å’Œæ¨¡æ¿ç³»ç»Ÿ**ä¸¥é‡è¿‡æ—¶**ï¼Œå¤§é‡å†…å®¹åœç•™åœ¨ v3.5/v3.12ï¼Œæœªæ›´æ–°åˆ° v3.14.0 æ–°æ¶æ„ã€‚

**å½±å“èŒƒå›´**:
- âŒ ç”¨æˆ·æŒ‡å—: 9/21 æ–‡æ¡£æåˆ°æ—§ Interceptor ç³»ç»Ÿ
- âŒ è„šæ‰‹æ¶æ¨¡æ¿: conftest.py æ¨¡æ¿ç‰ˆæœ¬æ ‡æ³¨ä¸º v3.12.0
- âŒ API å®¢æˆ·ç«¯æ¨¡æ¿: å·²ä½¿ç”¨ @api_classï¼Œä½†æ··ç”¨æ—§å¯¼å…¥è·¯å¾„
- âš ï¸ ç¼ºå°‘ v3.14.0 å¿«é€Ÿå¼€å§‹æŒ‡å—

---

## è¯¦ç»†å®¡è®¡ç»“æœ

### 1. ç”¨æˆ·æŒ‡å— (docs/user-guide/)

#### âŒ ä¸¥é‡è¿‡æ—¶çš„æ–‡æ¡£

| æ–‡ä»¶ | å½“å‰ç‰ˆæœ¬ | é—®é¢˜ | ä¼˜å…ˆçº§ |
|------|----------|------|--------|
| `QUICK_START_V3.5.md` | v3.5.0 | ç‰ˆæœ¬ä¸¥é‡è¿‡æ—¶ï¼Œéœ€è¦ v3.14.0 å¿«é€Ÿå¼€å§‹ | ğŸ”´ High |
| `BEST_PRACTICES.md` | v3.12 | æåˆ° Interceptorï¼Œæœªæ›´æ–°åˆ° Middleware | ğŸ”´ High |
| `USER_MANUAL.md` | v3.12 | å¤§é‡æ—§ API ç¤ºä¾‹ | ğŸ”´ High |
| `VERIFIED_BEST_PRACTICES.md` | æ—§ç‰ˆ | æœ€ä½³å®è·µæœªæ›´æ–° | ğŸŸ¡ Medium |
| `configuration.md` | æ—§ç‰ˆ | é…ç½®ç¤ºä¾‹æœªæ›´æ–° | ğŸŸ¡ Medium |

#### âœ… å·²æ›´æ–°çš„æ–‡æ¡£

- `extensions.md` - å¯èƒ½éœ€è¦æ›´æ–°åˆ°æ’ä»¶ç³»ç»Ÿ
- `debugging.md` - Debug ç³»ç»Ÿç›¸å¯¹ç‹¬ç«‹
- `examples.md` - éœ€è¦æ£€æŸ¥ç¤ºä¾‹ä»£ç 

### 2. è„šæ‰‹æ¶æ¨¡æ¿ (src/df_test_framework/cli/templates/)

#### âŒ project/conftest.py

**é—®é¢˜**:
```python
# ç‰ˆæœ¬æ ‡æ³¨
\"\"\"v3.12.0å‡çº§ç‰ˆæœ¬:
- âœ… é…ç½®åŒ–æ‹¦æˆªå™¨ï¼ˆé›¶ä»£ç ç­¾åå’ŒTokenè®¤è¯ï¼‰  # âŒ åº”ä¸º"ä¸­é—´ä»¶"
...
"æ¡†æ¶ç‰ˆæœ¬": "df-test-framework v3.12.0",  # âŒ åº”ä¸º v3.14.0
```

**éœ€è¦æ›´æ–°**:
- [ ] ç‰ˆæœ¬å·æ”¹ä¸º v3.14.0
- [ ] "æ‹¦æˆªå™¨" â†’ "ä¸­é—´ä»¶"
- [ ] æ·»åŠ  v3.14.0 æ–°ç‰¹æ€§è¯´æ˜ï¼ˆEventBusã€MiddlewareChainï¼‰
- [ ] æ›´æ–°ç¤ºä¾‹ä»£ç ä½¿ç”¨æ–° API

#### âœ… generators/api_client.py

**å·²æ­£ç¡®ä½¿ç”¨**:
```python
from df_test_framework.testing.decorators import api_class  # âœ… æ­£ç¡®
@api_class("{api_name}_api", scope="session")  # âœ… æ­£ç¡®
```

**å°é—®é¢˜**:
- å¯¼å…¥è·¯å¾„æ··ç”¨ï¼ˆéƒ¨åˆ†ä»æ—§è·¯å¾„å¯¼å…¥ï¼‰

#### âš ï¸ generators/settings_enhanced.py

**éœ€è¦æ£€æŸ¥**:
- HTTP é…ç½®ä¸­çš„ interceptors é…ç½®
- æ˜¯å¦éœ€è¦æ·»åŠ  middlewares ç¤ºä¾‹

### 3. åŠŸèƒ½æŒ‡å— (docs/guides/)

#### ğŸ“‹ ç°æœ‰æŒ‡å—

| æŒ‡å— | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|------|------|--------|
| `async_http_client.md` | æœªæ£€æŸ¥ | ğŸŸ¡ |
| `distributed_tracing.md` | æœªæ£€æŸ¥ | ğŸŸ¡ |
| `message_queue.md` | æœªæ£€æŸ¥ EventBus é›†æˆ | ğŸŸ¡ |
| `test_data_cleanup.md` | åº”è¯¥æ˜¯æœ€æ–°çš„ (v3.11.1) | ğŸŸ¢ |

#### âŒ ç¼ºå¤±çš„ v3.14.0 æŒ‡å—

**æ€¥éœ€è¡¥å……**:
- [ ] `middleware_guide.md` - ä¸­é—´ä»¶ä½¿ç”¨æŒ‡å—
- [ ] `event_bus_guide.md` - äº‹ä»¶æ€»çº¿ä½¿ç”¨æŒ‡å—
- [ ] `telemetry_guide.md` - å¯è§‚æµ‹æ€§é›†æˆæŒ‡å—
- [ ] `migration_v3.13_to_v3.14.md` - å®æˆ˜è¿ç§»æŒ‡å—ï¼ˆè¡¥å……è¯¦ç»†ç¤ºä¾‹ï¼‰

### 4. API å‚è€ƒæ–‡æ¡£ (docs/api-reference/)

**çŠ¶æ€**: æœªè¯¦ç»†æ£€æŸ¥

**é¢„æœŸé—®é¢˜**:
- API ç­¾åå¯èƒ½è¿‡æ—¶
- ç¼ºå°‘æ–° API æ–‡æ¡£ï¼ˆMiddlewareã€EventBusï¼‰

---

## ä¼˜å…ˆçº§è¡ŒåŠ¨è®¡åˆ’

### ğŸ”´ P0 - ç«‹å³ä¿®å¤ï¼ˆé˜»å¡ç”¨æˆ·ä½¿ç”¨ï¼‰

1. **åˆ›å»º v3.14.0 å¿«é€Ÿå¼€å§‹æŒ‡å—**
   - æ–‡ä»¶: `docs/user-guide/QUICK_START_V3.14.md`
   - å†…å®¹: 5åˆ†é’Ÿä¸Šæ‰‹ï¼Œä½¿ç”¨æ–°æ¶æ„ API

2. **æ›´æ–°è„šæ‰‹æ¶ conftest.py æ¨¡æ¿**
   - æ–‡ä»¶: `src/df_test_framework/cli/templates/project/conftest.py`
   - æ”¹åŠ¨: ç‰ˆæœ¬å·ã€æœ¯è¯­ã€ç¤ºä¾‹ä»£ç 

3. **æ›´æ–°ä¸»è¦ç”¨æˆ·æŒ‡å—**
   - `docs/user-guide/USER_MANUAL.md`
   - `docs/user-guide/BEST_PRACTICES.md`

### ğŸŸ¡ P1 - é‡è¦ï¼ˆå½±å“ç”¨æˆ·ä½“éªŒï¼‰

4. **åˆ›å»º v3.14.0 åŠŸèƒ½æŒ‡å—**
   - `docs/guides/middleware_guide.md`
   - `docs/guides/event_bus_guide.md`
   - `docs/guides/telemetry_guide.md`

5. **æ›´æ–°é…ç½®æ–‡æ¡£**
   - `docs/user-guide/configuration.md`
   - æ·»åŠ  middlewaresã€event_bus é…ç½®ç¤ºä¾‹

### ğŸŸ¢ P2 - ä¼˜åŒ–ï¼ˆæå‡æ–‡æ¡£è´¨é‡ï¼‰

6. **æ›´æ–° API å‚è€ƒæ–‡æ¡£**
   - è‡ªåŠ¨ç”Ÿæˆæˆ–æ‰‹åŠ¨æ›´æ–° API ç­¾å

7. **å®¡æŸ¥æ‰€æœ‰ç¤ºä¾‹ä»£ç **
   - ç¡®ä¿æ‰€æœ‰ç¤ºä¾‹ä½¿ç”¨æ–° API

---

## æœ¯è¯­æ›´æ–°æ¸…å•

**å…¨å±€æ›¿æ¢**:
- âŒ "æ‹¦æˆªå™¨" / "Interceptor" â†’ âœ… "ä¸­é—´ä»¶" / "Middleware"
- âŒ "InterceptorChain" â†’ âœ… "MiddlewareChain"
- âŒ "BaseInterceptor" â†’ âœ… "BaseMiddleware"
- âŒ `df_test_framework.clients.http.interceptors` â†’ âœ… `df_test_framework.capabilities.clients.http.middleware`

**æ–°å¢æœ¯è¯­**:
- âœ… "EventBus" - äº‹ä»¶æ€»çº¿
- âœ… "Telemetry" - å¯è§‚æµ‹æ€§
- âœ… "ExecutionContext" - æ‰§è¡Œä¸Šä¸‹æ–‡
- âœ… "å››å±‚æ¶æ„" - Core/Infrastructure/Capabilities/Testing

---

## ç‰ˆæœ¬æ ‡æ³¨è§„èŒƒ

**æ–‡æ¡£å¤´éƒ¨æ ‡æ³¨**:
```markdown
# åŠŸèƒ½åç§°

> **ç‰ˆæœ¬è¦æ±‚**: df-test-framework >= 3.14.0
> **æ›´æ–°æ—¥æœŸ**: 2025-12-04
```

**ä»£ç æ³¨é‡Šæ ‡æ³¨**:
```python
# v3.14.0: ä½¿ç”¨æ–°çš„ Middleware ç³»ç»Ÿ
from df_test_framework.capabilities.clients.http.middleware import SignatureMiddleware
```

---

## æµ‹è¯•éªŒè¯

**éªŒè¯æ­¥éª¤**:
1. âœ… è¿è¡Œ `df-test init my-project` ç”Ÿæˆé¡¹ç›®
2. âœ… æ£€æŸ¥ç”Ÿæˆçš„ conftest.py ç‰ˆæœ¬å·
3. âœ… æ£€æŸ¥ç”Ÿæˆçš„ API å®¢æˆ·ç«¯ä»£ç 
4. âœ… éªŒè¯å¿«é€Ÿå¼€å§‹æŒ‡å—çš„ç¤ºä¾‹ä»£ç å¯è¿è¡Œ

---

## é™„å½•ï¼šå—å½±å“æ–‡ä»¶æ¸…å•

### éœ€è¦æ›´æ–°çš„æ–‡æ¡£ (15+ ä¸ª)

```
docs/user-guide/
â”œâ”€â”€ QUICK_START_V3.5.md â†’ QUICK_START_V3.14.md
â”œâ”€â”€ USER_MANUAL.md
â”œâ”€â”€ BEST_PRACTICES.md
â”œâ”€â”€ VERIFIED_BEST_PRACTICES.md
â”œâ”€â”€ QUICK_REFERENCE.md
â”œâ”€â”€ configuration.md
â”œâ”€â”€ nested-settings-guide.md
â”œâ”€â”€ security-best-practices.md
â””â”€â”€ testing-development.md

docs/guides/
â”œâ”€â”€ async_http_client.md
â”œâ”€â”€ message_queue.md
â””â”€â”€ [æ–°å¢] middleware_guide.md
â””â”€â”€ [æ–°å¢] event_bus_guide.md
â””â”€â”€ [æ–°å¢] telemetry_guide.md
```

### éœ€è¦æ›´æ–°çš„æ¨¡æ¿ (5+ ä¸ª)

```
src/df_test_framework/cli/templates/
â”œâ”€â”€ project/conftest.py
â”œâ”€â”€ project/base_api.py
â”œâ”€â”€ generators/settings_enhanced.py
â”œâ”€â”€ generators/api_client.py
â””â”€â”€ generators/test.py
```

---

## æ¨èå®æ–½é¡ºåº

**é˜¶æ®µ 1: ç´§æ€¥ä¿®å¤ï¼ˆ1-2å¤©ï¼‰**
1. åˆ›å»º `QUICK_START_V3.14.md`
2. æ›´æ–° conftest.py æ¨¡æ¿
3. æ›´æ–° USER_MANUAL.md

**é˜¶æ®µ 2: åŠŸèƒ½è¡¥å…¨ï¼ˆ2-3å¤©ï¼‰**
4. åˆ›å»º 3 ä¸ªåŠŸèƒ½æŒ‡å—ï¼ˆMiddleware/EventBus/Telemetryï¼‰
5. æ›´æ–°é…ç½®æ–‡æ¡£
6. æ›´æ–°æœ€ä½³å®è·µ

**é˜¶æ®µ 3: å…¨é¢å®¡æŸ¥ï¼ˆ3-5å¤©ï¼‰**
7. å®¡æŸ¥æ‰€æœ‰ç¤ºä¾‹ä»£ç 
8. æ›´æ–° API å‚è€ƒæ–‡æ¡£
9. æµ‹è¯•éªŒè¯æ‰€æœ‰æ–‡æ¡£

---

## æ€»ç»“

**å½“å‰çŠ¶æ€**: âŒ æ–‡æ¡£ä¸¥é‡æ»å

**å…³é”®é—®é¢˜**:
1. ç”¨æˆ·æŒ‰ç…§ç°æœ‰æ–‡æ¡£æ— æ³•æ­£ç¡®ä½¿ç”¨ v3.14.0 æ–°ç‰¹æ€§
2. è„šæ‰‹æ¶ç”Ÿæˆçš„ä»£ç å«æœ‰è¿‡æ—¶çš„ç‰ˆæœ¬æ ‡æ³¨
3. ç¼ºå°‘å…³é”®åŠŸèƒ½çš„ä½¿ç”¨æŒ‡å—

**å»ºè®®**: ç«‹å³å¯åŠ¨ P0 ä»»åŠ¡ï¼Œä¼˜å…ˆä¿è¯ç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹ v3.14.0ã€‚
