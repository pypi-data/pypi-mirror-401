Metadata-Version: 2.1
Name: harpiawatchforest
Version: 1.0.0
Summary: Sistema de detecci√≥n de p√©rdida de cobertura vegetal mediante Google Earth Engine
Home-page: 
Author: Elvis Garcia, Yubrany Gonzalez
Author-email: 
Maintainer: Ministerio de Ambiente de Panam√°
License: MIT
Project-URL: Homepage, https://github.com/elvisgarcia/HarpiaWatchForest
Project-URL: Repository, https://github.com/elvisgarcia/HarpiaWatchForest
Project-URL: Issues, https://github.com/elvisgarcia/HarpiaWatchForest/issues
Keywords: google-earth-engine,remote-sensing,deforestation,forest-monitoring,vegetation-loss
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Science/Research
Classifier: Topic :: Scientific/Engineering :: GIS
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE.txt
Requires-Dist: earthengine-api >=0.1.350

# HarpiaWatchForest ü¶Öüå≥

[![Python Version](https://img.shields.io/badge/python-3.7%2B-blue)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

Sistema de detecci√≥n autom√°tica de p√©rdida de cobertura vegetal mediante an√°lisis de im√°genes satelitales Sentinel-2 y Google Earth Engine.

**Desarrollado por:** Elvis Garcia y Yubrany Gonzalez  
**Organizaci√≥n:** Ministerio de Ambiente de Panam√°

## üìã Descripci√≥n

HarpiaWatchForest es un sistema avanzado de monitoreo forestal que utiliza an√°lisis de series temporales de NDVI (√çndice de Vegetaci√≥n de Diferencia Normalizada) y el algoritmo CCDC (Continuous Change Detection and Classification) para identificar cambios en la cobertura vegetal a nivel de corregimientos en Panam√°.

### Caracter√≠sticas principales

- ‚úÖ Detecci√≥n autom√°tica de p√©rdidas de cobertura vegetal
- ‚úÖ An√°lisis temporal basado en NDVI semanal
- ‚úÖ Integraci√≥n con Google Earth Engine
- ‚úÖ Filtrado autom√°tico de nubes mediante Cloud Score+
- ‚úÖ Enriquecimiento con capas de capacidad agrol√≥gica y √°reas protegidas (SINAP)
- ‚úÖ Exportaci√≥n autom√°tica a Google Drive en formato Shapefile
- ‚úÖ Procesamiento por hex√°gonos para optimizaci√≥n
- ‚úÖ Configuraci√≥n flexible de par√°metros

## üöÄ Instalaci√≥n

```bash
pip install HarpiaWatchForest
```

## üì¶ Requisitos

- Python 3.7+
- Cuenta de Google Earth Engine (https://earthengine.google.com/)
- Credenciales autenticadas de GEE

## üîß Configuraci√≥n inicial

### 1. Autenticaci√≥n en Google Earth Engine

```python
import ee
ee.Authenticate()  # Solo la primera vez
```

### 2. Uso b√°sico

```python
from harpiawatch import HarpiaAnalyzer, HarpiaConfig

# Crear configuraci√≥n
config = HarpiaConfig()

# Configurar par√°metros
config.set_corregimientos(['Buena Vista', 'Chepigana'])
config.set_periodo(year=2026, month=1)
config.set_parametros_deteccion(min_area_ha=0.15, threshold_ndvi=-0.15)

# Inicializar analizador
analyzer = HarpiaAnalyzer(config)
analyzer.initialize(authenticate=False)  # True solo la primera vez

# Procesar
resultados = analyzer.procesar()
```

### 3. Uso avanzado - Configuraci√≥n de assets personalizados

```python
from harpiawatch import HarpiaConfig

config = HarpiaConfig()

# Cambiar proyecto de Earth Engine
config.set_ee_project('mi-proyecto-gee')

# Configurar assets personalizados
config.set_assets(
    distrito="projects/mi-proyecto/assets/distritos",
    corregimientos="projects/mi-proyecto/assets/corregimientos",
    sinap="projects/mi-proyecto/assets/areas_protegidas",
    hexagonos="projects/mi-proyecto/assets/grilla_hexagonal",
    capacidad_agrologica="projects/mi-proyecto/assets/capacidad_suelos"
)
```

## üìñ Ejemplos de uso

### Ejemplo 1: An√°lisis de un solo corregimiento

```python
from harpiawatch import HarpiaAnalyzer, HarpiaConfig

config = HarpiaConfig()
config.lista_corregimientos = ['Buena Vista']
config.year_analisis = 2026
config.month_analisis = 1

analyzer = HarpiaAnalyzer(config)
analyzer.initialize()
analyzer.procesar()
```

### Ejemplo 2: Listar corregimientos disponibles

```python
from harpiawatch import HarpiaAnalyzer

analyzer = HarpiaAnalyzer()
analyzer.initialize()
corregimientos = analyzer.listar_corregimientos()
```

### Ejemplo 3: Obtener hex√°gonos de un corregimiento

```python
analyzer = HarpiaAnalyzer()
analyzer.initialize()
hexagonos = analyzer.obtener_hexagonos('Chepigana')
print(f"Total de hex√°gonos: {len(hexagonos)}")
```

### Ejemplo 4: Configuraci√≥n completa personalizada

```python
from harpiawatch import HarpiaConfig, HarpiaAnalyzer

# Crear configuraci√≥n personalizada
config = HarpiaConfig()

# Corregimientos a analizar
config.set_corregimientos([
    'Buena Vista',
    'Chepigana',
    'Las Palmas'
])

# Per√≠odo de an√°lisis
config.set_periodo(year=2025, month=12)

# Par√°metros de detecci√≥n
config.set_parametros_deteccion(
    min_area_ha=0.20,        # √Årea m√≠nima de 0.2 hect√°reas
    threshold_ndvi=-0.18     # Umbral m√°s estricto
)

# Rango de fechas para datos Sentinel-2
config.set_rango_fechas(
    date_start='2024-01-01',
    date_end='2025-12-31'
)

# Ejecutar an√°lisis
analyzer = HarpiaAnalyzer(config)
analyzer.initialize()
resultados = analyzer.procesar()

# Ver resumen
for r in resultados:
    print(f"{r['corregimiento']}: {r['estado']}")
```

## üìä Par√°metros configurables

### Par√°metros de an√°lisis

| Par√°metro | Descripci√≥n | Valor por defecto |
|-----------|-------------|-------------------|
| `lista_corregimientos` | Lista de corregimientos a procesar | `['Buena Vista', 'Chepigana']` |
| `year_analisis` | A√±o del an√°lisis | `2026` |
| `month_analisis` | Mes del an√°lisis (1-12) | `1` |
| `min_area_ha` | √Årea m√≠nima de pol√≠gonos (ha) | `0.15` |
| `threshold_ndvi_low` | Umbral de p√©rdida de NDVI | `-0.15` |
| `date_start` | Fecha inicio datos Sentinel-2 | `'2023-01-01'` |
| `date_end` | Fecha fin datos Sentinel-2 | `'2029-12-31'` |

### Assets de capas base

| Asset | Descripci√≥n | Ruta por defecto |
|-------|-------------|------------------|
| `asset_distrito` | L√≠mites de distritos | `projects/proyecto-cobertura-boscosa/assets/Mapas_Panama/Lim_Distrito` |
| `asset_corregimientos` | L√≠mites de corregimientos | `projects/proyecto-cobertura-boscosa/assets/Mapas_Panama/Lim_Corregimiento` |
| `asset_sinap` | Sistema Nacional de √Åreas Protegidas | `projects/proyecto-cobertura-boscosa/assets/Mapas_Panama/SINAP` |
| `asset_hexagonos` | Grilla hexagonal | `projects/proyecto-cobertura-boscosa/assets/Mapas_Panama/hexagonos_2025` |
| `asset_capacidad_agrologica` | Capacidad agrol√≥gica del suelo | `projects/proyecto-cobertura-boscosa/assets/Mapas_Panama/Capacidad_Agrologica` |

## üìÅ Estructura de salida

Los resultados se exportan autom√°ticamente a Google Drive con la siguiente estructura:

```
Google Drive/
‚îî‚îÄ‚îÄ SHP-PERDIDAS-CORREGIMIENTO-{NOMBRE}-{MES}-{A√ëO}/
    ‚îú‚îÄ‚îÄ Perdidas_NDVI_GRID_ID_1_0_15ha_January2026_W1-W5.shp
    ‚îú‚îÄ‚îÄ Perdidas_NDVI_GRID_ID_2_0_15ha_January2026_W1-W5.shp
    ‚îî‚îÄ‚îÄ ...
```

Cada shapefile contiene:
- Geometr√≠a de los pol√≠gonos detectados
- Fecha de detecci√≥n
- Semana y a√±o
- ID de hex√°gono
- Nombre del corregimiento
- Capacidad agrol√≥gica
- Informaci√≥n de √°reas protegidas (SINAP)
- √Årea en hect√°reas

## üî¨ Metodolog√≠a

1. **Filtrado de nubes:** Cloud Score+ de Google Earth Engine
2. **C√°lculo de NDVI:** √çndice normalizado semanal usando bandas B8 y B4
3. **Detecci√≥n de cambios:** An√°lisis temporal mediante CCDC
4. **Umbralizaci√≥n:** Identificaci√≥n de p√©rdidas significativas
5. **Vectorizaci√≥n:** Conversi√≥n a pol√≠gonos
6. **Enriquecimiento:** Adici√≥n de atributos contextuales
7. **Exportaci√≥n:** Generaci√≥n de shapefiles por hex√°gono

## ü§ù Contribuciones

Este proyecto fue desarrollado por el Ministerio de Ambiente de Panam√° para el monitoreo y conservaci√≥n de los recursos forestales del pa√≠s.

## üìÑ Licencia

MIT License - Ver archivo LICENSE para m√°s detalles

## üë• Autores

- **Elvis Garcia** - Desarrollo y dise√±o del algoritmo
- **Yubrany Gonzalez** - Desarrollo y dise√±o del algoritmo

**Organizaci√≥n:** Ministerio de Ambiente de Panam√°

## üìß Contacto

Para preguntas, sugerencias o reportes de problemas, por favor contactar a:
- eggarcia@miambiente.gob.pa
- ydgonzalez@miambiente.gob.pa

## üôè Agradecimientos

- Google Earth Engine 
- Programa Copernicus
- Ministerio de Ambiente de Panam√°

---

**Versi√≥n:** 1.0.0  
**Fecha:** Enero 2026  
**Ministerio de Ambiente de Panam√°** üáµüá¶
