[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "mars-risk"      
version = "0.0.1"       
description = "High-performance Risk Modeling Toolkit powered by Polars"
readme = "README.md"
requires-python = ">=3.10" # 推荐 3.10 或 3.11 以获得最佳性能
license = {file = "LICENSE"}
keywords = ["risk", "scorecard", "polars", "credit-scoring", "feature-engineering"]
authors = [
  {name = "christian", email = "lee_sq001@163.com"}
]

# 核心依赖列表 (The Golden Standard)
dependencies = [
    # --- Core Engine ---
    "polars>=1.0.0",       # 使用 1.0+ 稳定版 API
    "numpy>=1.24.0",       # 基础科学计算
    "pandas>=2.0.0",       # 兼容性支持
    "pyarrow>=14.0.0",     # 零拷贝数据交换核心库

    # --- Machine Learning (GBDT) ---
    "xgboost>=2.0.0",      # 原生支持 Polars 接口
    "lightgbm>=4.3.0",     # 更好的稳定性与 Mac 支持
    "catboost>=1.2.0",     # 类别特征处理神器

    # --- Mathematics & Stats ---
    "scipy>=1.10.0",       # 统计计算
    "scikit-learn>=1.3.0", # 决策树分箱

    # --- Utilities ---
    "tqdm>=4.66.0",        # 进度条
    "joblib>=1.3.0",       # 并行计算
    "colorlog>=6.7.0",     # 日志美化
    "psutil>=5.9.0"        # 内存监控
]

# 安装命令: pip install -e ".[dev]"
[project.optional-dependencies]
dev = [
    "pytest>=7.4.0",       # 单元测试
    "black>=23.0.0",       # 代码格式化
    "jupyterlab>=4.0.0",   # 交互式开发
    "matplotlib>=3.7.0",   # (可选) 如果需要画图
    "seaborn>=0.12.0"      # (可选) 如果需要画图
]

# 自动发现包配置
[tool.setuptools.packages.find]
where = ["src"]
include = ["mars*"]        # 确保只打包 mars 开头的包