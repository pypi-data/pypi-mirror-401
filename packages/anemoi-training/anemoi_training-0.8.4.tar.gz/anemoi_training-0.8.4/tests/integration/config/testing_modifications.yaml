# Modifications for testing training cycles
dataloader:
  num_workers:
    training: 2
    validation: 2
  batch_size:
    training: 2
    validation: 2
  limit_batches:
    training: 2
    validation: 2

diagnostics:
  plot:
    callbacks: []
    asynchronous: False # Whether to plot asynchronously
  log:
    wandb:
      enabled: False
      entity: null # override '???'
    tensorboard:
      enabled: False
    mlflow:
      _target_: anemoi.training.diagnostics.mlflow.logger.AnemoiMLflowLogger
      enabled: False
      tracking_uri: null # override '???'

system:
  hardware:
    accelerator: auto
    num_gpus_per_node: 1
    num_nodes: 1
    num_gpus_per_model: 1

  output:
    # We overwrite this in the test to use pytest tmp_path but need a value for hydra
    root: ${oc.env:PWD}/tmp_output/

  input:
    graph: null
    truncation: null
    truncation_inv: null

graph:
  overwrite: True

model:
  num_channels: 16

training:
  max_epochs: 2
