Metadata-Version: 2.4
Name: pypn_habref_api
Version: 0.4.3
Summary: Python lib related to Habref referential (INPN)
Home-page: https://github.com/PnX-SI/Habref-api-module
Maintainer: Parcs nationaux des Écrins et des Cévennes
Maintainer-email: geonature@ecrins-parcnational.fr
Classifier: Development Status :: 1 - Planning
Classifier: Intended Audience :: Developers
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.11
Classifier: License :: OSI Approved :: GNU Affero General Public License v3
Classifier: Operating System :: OS Independent
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: python-dotenv
Requires-Dist: flask
Requires-Dist: flask-marshmallow
Requires-Dist: flask-sqlalchemy
Requires-Dist: flask-migrate
Requires-Dist: marshmallow-sqlalchemy
Requires-Dist: marshmallow
Requires-Dist: psycopg2
Requires-Dist: requests
Requires-Dist: utils-flask-sqlalchemy>=0.4.1
Requires-Dist: sqlalchemy<2
Provides-Extra: tests
Requires-Dist: pytest; extra == "tests"
Requires-Dist: pytest-flask; extra == "tests"
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license-file
Dynamic: maintainer
Dynamic: maintainer-email
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: summary

# Habref-api-module

[![pytest](https://github.com/PnX-SI/Habref-api-module/actions/workflows/pytest.yml/badge.svg)](https://github.com/PnX-SI/Habref-api-module/actions/workflows/pytest.yml)
[![codecov](https://codecov.io/gh/PnX-SI/Habref-api-module/branch/master/graph/badge.svg?token=YM6Q6SO4EI)](https://codecov.io/gh/PnX-SI/Habref-api-module)

API d'interrogation d'Habref : référentiel des typologies d’habitats et de végétation pour la France (https://inpn.mnhn.fr/telechargement/referentiels/habitats).

## Technologies

- Python 3
- Flask
- SQLAlchemy

## Installation

- Créer un virtualenv et l'activer :

```
virtualenv -p /usr/bin/python3 venv
source venv/bin/acticate
```

- Installer le module :

```
pip install https://github.com/PnX-SI/Habref-api-module/archive/<X.Y.Z>.zip
```

- Installer le schéma de base de données :

Le module est fourni avec une commande pour installer la base de données. Cette commande télécharge le référentiel Habref et créé un schéma de base de données nommé ``ref_habitats``.

```
# Depuis le virtualenv
install_habref_schema <database uri>
# Exemple :
# install_habref_schema "postgresql://geonatadmin:monpassachanger@localhost:5432/geonature2db"
```
