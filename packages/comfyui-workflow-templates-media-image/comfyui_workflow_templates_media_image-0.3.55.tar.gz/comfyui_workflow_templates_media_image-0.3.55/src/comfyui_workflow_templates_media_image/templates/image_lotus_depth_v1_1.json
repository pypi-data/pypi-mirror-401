{
  "id": "5bfb5805-0127-4895-983d-351adc2654fe",
  "revision": 0,
  "last_node_id": 74,
  "last_link_id": 244,
  "nodes": [
    {
      "id": 12,
      "type": "LoadImage",
      "pos": [
        242.257194430249,
        -334.20196987094687
      ],
      "size": [
        385.015625,
        545.59375
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            243
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": []
        }
      ],
      "title": "input",
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "LoadImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "image_lotus_depth_v1_1_input_image.png",
        "image"
      ]
    },
    {
      "id": 74,
      "type": "c7d32155-757f-4e5d-a139-7e438da96f2f",
      "pos": [
        677.6848679894708,
        -334.20197906968644
      ],
      "size": [
        312,
        488
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 243
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            244
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "-1",
            "sigma"
          ]
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "cnr_id": "comfy-core",
        "ver": "0.4.0"
      },
      "widgets_values": [
        999.0000000000002
      ]
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": [
        1040.0849705451897,
        -334.2019292481719
      ],
      "size": [
        410.390625,
        540.390625
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 244
        }
      ],
      "outputs": [],
      "title": "output",
      "properties": {
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "SaveImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Lotus_depth"
      ]
    },
    {
      "id": 72,
      "type": "MarkdownNote",
      "pos": [
        -330,
        -330
      ],
      "size": [
        530,
        770
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "For Local User",
      "properties": {},
      "widgets_values": [
        "Guide: [Subgraph](https://docs.comfy.org/interface/features/subgraph)\n\n## Report issue\n\nNote: please update ComfyUI first ([guide](https://docs.comfy.org/zh-CN/installation/update_comfyui)) and prepare required models. Desktop/Cloud ship stable builds; nightly-supported models may not be included yet, please wait for the next stable release.\n\n- Cannot run / runtime errors: [ComfyUI/issues](https://github.com/comfyanonymous/ComfyUI/issues)\n- UI / frontend issues: [ComfyUI_frontend/issues](https://github.com/Comfy-Org/ComfyUI_frontend/issues)\n- Workflow issues: [workflow_templates/issues](https://github.com/Comfy-Org/workflow_templates/issues)\n\n\n## Model links\n\n**diffusion_models**\n\n- [lotus-depth-d-v1-1.safetensors](https://huggingface.co/Comfy-Org/lotus/resolve/main/lotus-depth-d-v1-1.safetensors)\n\n**vae**\n\n- [vae-ft-mse-840000-ema-pruned.safetensors](https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.safetensors)\n\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚      â””â”€â”€ lotus-depth-d-v1-1.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ vae/\nâ”‚          â””â”€â”€ vae-ft-mse-840000-ema-pruned.safetensors\n```\n"
      ],
      "color": "#432",
      "bgcolor": "#000"
    }
  ],
  "links": [
    [
      243,
      12,
      0,
      74,
      0,
      "IMAGE"
    ],
    [
      244,
      74,
      0,
      9,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "definitions": {
    "subgraphs": [
      {
        "id": "c7d32155-757f-4e5d-a139-7e438da96f2f",
        "version": 1,
        "state": {
          "lastGroupId": 1,
          "lastNodeId": 73,
          "lastLinkId": 243,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Lotus depth",
        "inputNode": {
          "id": -10,
          "bounding": [
            -60,
            -172.61268043518066,
            120,
            80
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            1650,
            -172.61268043518066,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "3bdd30c3-4ec9-485a-814b-e7d39fb6b5cc",
            "name": "pixels",
            "type": "IMAGE",
            "linkIds": [
              37
            ],
            "localized_name": "pixels",
            "pos": [
              40,
              -152.61268043518066
            ]
          },
          {
            "id": "f9a1017c-f4b9-43b4-94c2-41c088b3a492",
            "name": "sigma",
            "type": "FLOAT",
            "linkIds": [
              243
            ],
            "pos": [
              40,
              -132.61268043518066
            ]
          }
        ],
        "outputs": [
          {
            "id": "2ec278bd-0b66-4b30-9c5b-994d5f638214",
            "name": "IMAGE",
            "type": "IMAGE",
            "linkIds": [
              242
            ],
            "localized_name": "IMAGE",
            "pos": [
              1670,
              -152.61268043518066
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 8,
            "type": "VAEDecode",
            "pos": [
              1380,
              -240
            ],
            "size": [
              210,
              46
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "samples",
                "name": "samples",
                "type": "LATENT",
                "link": 232
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": 240
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "slot_index": 0,
                "links": [
                  35
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "VAEDecode",
              "widget_ue_connectable": {}
            },
            "widgets_values": []
          },
          {
            "id": 10,
            "type": "UNETLoader",
            "pos": [
              135.34181213378906,
              -290.1947937011719
            ],
            "size": [
              305.93701171875,
              82
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "slot_index": 0,
                "links": [
                  31,
                  241
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "UNETLoader",
              "models": [
                {
                  "name": "lotus-depth-d-v1-1.safetensors",
                  "url": "https://huggingface.co/Comfy-Org/lotus/resolve/main/lotus-depth-d-v1-1.safetensors",
                  "directory": "diffusion_models"
                }
              ],
              "widget_ue_connectable": {}
            },
            "widgets_values": [
              "lotus-depth-d-v1-1.safetensors",
              "default"
            ]
          },
          {
            "id": 14,
            "type": "VAELoader",
            "pos": [
              134.531494140625,
              -165.18197631835938
            ],
            "size": [
              305.93701171875,
              58
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "VAE",
                "name": "VAE",
                "type": "VAE",
                "slot_index": 0,
                "links": [
                  38,
                  240
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "VAELoader",
              "models": [
                {
                  "name": "vae-ft-mse-840000-ema-pruned.safetensors",
                  "url": "https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.safetensors",
                  "directory": "vae"
                }
              ],
              "widget_ue_connectable": {}
            },
            "widgets_values": [
              "vae-ft-mse-840000-ema-pruned.safetensors"
            ]
          },
          {
            "id": 16,
            "type": "SamplerCustomAdvanced",
            "pos": [
              990.6585693359375,
              -319.9144287109375
            ],
            "size": [
              355.20001220703125,
              326
            ],
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "noise",
                "name": "noise",
                "type": "NOISE",
                "link": 237
              },
              {
                "localized_name": "guider",
                "name": "guider",
                "type": "GUIDER",
                "link": 27
              },
              {
                "localized_name": "sampler",
                "name": "sampler",
                "type": "SAMPLER",
                "link": 33
              },
              {
                "localized_name": "sigmas",
                "name": "sigmas",
                "type": "SIGMAS",
                "link": 194
              },
              {
                "localized_name": "latent_image",
                "name": "latent_image",
                "type": "LATENT",
                "link": 201
              }
            ],
            "outputs": [
              {
                "localized_name": "output",
                "name": "output",
                "type": "LATENT",
                "slot_index": 0,
                "links": [
                  232
                ]
              },
              {
                "localized_name": "denoised_output",
                "name": "denoised_output",
                "type": "LATENT",
                "slot_index": 1,
                "links": []
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "SamplerCustomAdvanced",
              "widget_ue_connectable": {}
            },
            "widgets_values": []
          },
          {
            "id": 18,
            "type": "DisableNoise",
            "pos": [
              730.47705078125,
              -320
            ],
            "size": [
              210,
              26
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "NOISE",
                "name": "NOISE",
                "type": "NOISE",
                "slot_index": 0,
                "links": [
                  237
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "DisableNoise",
              "widget_ue_connectable": {}
            },
            "widgets_values": []
          },
          {
            "id": 19,
            "type": "BasicGuider",
            "pos": [
              730.2631225585938,
              -251.22537231445312
            ],
            "size": [
              210,
              46
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 241
              },
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": 238
              }
            ],
            "outputs": [
              {
                "localized_name": "GUIDER",
                "name": "GUIDER",
                "type": "GUIDER",
                "slot_index": 0,
                "links": [
                  27
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "BasicGuider",
              "widget_ue_connectable": {}
            },
            "widgets_values": []
          },
          {
            "id": 20,
            "type": "BasicScheduler",
            "pos": [
              488.64459228515625,
              -147.67201232910156
            ],
            "size": [
              210,
              106
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 31
              }
            ],
            "outputs": [
              {
                "localized_name": "SIGMAS",
                "name": "SIGMAS",
                "type": "SIGMAS",
                "slot_index": 0,
                "links": [
                  66
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "BasicScheduler",
              "widget_ue_connectable": {}
            },
            "widgets_values": [
              "normal",
              1,
              1
            ]
          },
          {
            "id": 21,
            "type": "KSamplerSelect",
            "pos": [
              730.2631225585938,
              -161.22537231445312
            ],
            "size": [
              210,
              58
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "SAMPLER",
                "name": "SAMPLER",
                "type": "SAMPLER",
                "slot_index": 0,
                "links": [
                  33
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "KSamplerSelect",
              "widget_ue_connectable": {}
            },
            "widgets_values": [
              "euler"
            ]
          },
          {
            "id": 22,
            "type": "ImageInvert",
            "pos": [
              1380,
              -310
            ],
            "size": [
              210,
              26
            ],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 35
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "slot_index": 0,
                "links": [
                  242
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "ImageInvert",
              "widget_ue_connectable": {}
            },
            "widgets_values": []
          },
          {
            "id": 23,
            "type": "VAEEncode",
            "pos": [
              730.2631225585938,
              38.77463912963867
            ],
            "size": [
              210,
              46
            ],
            "flags": {},
            "order": 10,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "pixels",
                "name": "pixels",
                "type": "IMAGE",
                "link": 37
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": 38
              }
            ],
            "outputs": [
              {
                "localized_name": "LATENT",
                "name": "LATENT",
                "type": "LATENT",
                "slot_index": 0,
                "links": [
                  201
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "VAEEncode",
              "widget_ue_connectable": {}
            },
            "widgets_values": []
          },
          {
            "id": 28,
            "type": "SetFirstSigma",
            "pos": [
              730.2631225585938,
              -61.22536087036133
            ],
            "size": [
              210,
              58
            ],
            "flags": {},
            "order": 11,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "sigmas",
                "name": "sigmas",
                "type": "SIGMAS",
                "link": 66
              },
              {
                "localized_name": "sigma",
                "name": "sigma",
                "type": "FLOAT",
                "widget": {
                  "name": "sigma"
                },
                "link": 243
              }
            ],
            "outputs": [
              {
                "localized_name": "SIGMAS",
                "name": "SIGMAS",
                "type": "SIGMAS",
                "slot_index": 0,
                "links": [
                  194
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "SetFirstSigma",
              "widget_ue_connectable": {}
            },
            "widgets_values": [
              999.0000000000002
            ]
          },
          {
            "id": 68,
            "type": "LotusConditioning",
            "pos": [
              490,
              -230
            ],
            "size": [
              210,
              26
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "slot_index": 0,
                "links": [
                  238
                ]
              }
            ],
            "properties": {
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "cnr_id": "comfy-core",
              "ver": "0.3.34",
              "Node name for S&R": "LotusConditioning",
              "widget_ue_connectable": {}
            },
            "widgets_values": []
          }
        ],
        "groups": [
          {
            "id": 1,
            "title": "Load Models Here",
            "bounding": [
              120,
              -370,
              335,
              281.6000061035156
            ],
            "color": "#3f789e",
            "font_size": 24,
            "flags": {}
          }
        ],
        "links": [
          {
            "id": 232,
            "origin_id": 16,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 0,
            "type": "LATENT"
          },
          {
            "id": 240,
            "origin_id": 14,
            "origin_slot": 0,
            "target_id": 8,
            "target_slot": 1,
            "type": "VAE"
          },
          {
            "id": 237,
            "origin_id": 18,
            "origin_slot": 0,
            "target_id": 16,
            "target_slot": 0,
            "type": "NOISE"
          },
          {
            "id": 27,
            "origin_id": 19,
            "origin_slot": 0,
            "target_id": 16,
            "target_slot": 1,
            "type": "GUIDER"
          },
          {
            "id": 33,
            "origin_id": 21,
            "origin_slot": 0,
            "target_id": 16,
            "target_slot": 2,
            "type": "SAMPLER"
          },
          {
            "id": 194,
            "origin_id": 28,
            "origin_slot": 0,
            "target_id": 16,
            "target_slot": 3,
            "type": "SIGMAS"
          },
          {
            "id": 201,
            "origin_id": 23,
            "origin_slot": 0,
            "target_id": 16,
            "target_slot": 4,
            "type": "LATENT"
          },
          {
            "id": 241,
            "origin_id": 10,
            "origin_slot": 0,
            "target_id": 19,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 238,
            "origin_id": 68,
            "origin_slot": 0,
            "target_id": 19,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 31,
            "origin_id": 10,
            "origin_slot": 0,
            "target_id": 20,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 35,
            "origin_id": 8,
            "origin_slot": 0,
            "target_id": 22,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 38,
            "origin_id": 14,
            "origin_slot": 0,
            "target_id": 23,
            "target_slot": 1,
            "type": "VAE"
          },
          {
            "id": 66,
            "origin_id": 20,
            "origin_slot": 0,
            "target_id": 28,
            "target_slot": 0,
            "type": "SIGMAS"
          },
          {
            "id": 37,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 23,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 242,
            "origin_id": 22,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 243,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 28,
            "target_slot": 1,
            "type": "FLOAT"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      }
    ]
  },
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.6125381454179364,
      "offset": [
        944.5255672584341,
        758.4493139965587
      ]
    },
    "frontendVersion": "1.34.8",
    "workflowRendererVersion": "Vue",
    "node_versions": {
      "comfy-core": "0.3.34"
    },
    "ue_links": [],
    "groupNodes": {},
    "links_added_by_ue": [],
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}
