# This file is automatically generated by componentize-py
# It is not intended for manual editing.
import weakref
from abc import abstractmethod
from collections.abc import Callable
from dataclasses import dataclass
from enum import Enum, Flag, auto
from types import TracebackType
from typing import Any, Generic, List, Optional, Protocol, Self, Tuple, TypeVar, Union

from componentize_py_types import Err, Ok, Result, Some

from .imports import cloudevents, state_change_types


class WitWorld(Protocol):

    @abstractmethod
    def decide(self, db: state_change_types.Database, command: state_change_types.Command, state_change_metadata: state_change_types.StateChangeMetadata) -> tuple[list[cloudevents.Cloudevent], list[state_change_types.BatchConstraint]]:
        """
        Main decision function - receives database resource for queries

        Raises: `wit_world.types.Err(wit_world.imports.state_change_types.StateChangeError)`
        """
        raise NotImplementedError

