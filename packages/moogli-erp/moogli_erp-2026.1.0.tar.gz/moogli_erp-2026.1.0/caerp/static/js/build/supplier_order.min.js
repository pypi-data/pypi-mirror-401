var supplier_order;(()=>{var t,e={7631:(t,e,n)=>{"use strict";var i=n(74692),o=n.n(i),l=n(83719),s=n(78603),a=n.n(s),r=n(21391),c=n.n(r),d=n(65521),u=n(35804),h=n.n(u),p=n(15065);const m=n(79150).A.extend();var f=n(82405),v=n.n(f),g=n(35159);n(57776);const w=a().View.extend({tagName:"tr",ui:{edit:"button.edit",delete:"button.delete",duplicate:"button.duplicate"},triggers:{"click @ui.edit":"edit","click @ui.delete":"delete","click @ui.duplicate":"duplicate"},modelEvents:{change:"render"},template:n(51694),templateContext:function(){var t=this.model.total(),e=h().channel("config"),n=e.request("get:options","supplier_orders");return console.log(e),{edit:this.getOption("edit"),delete:this.getOption("delete"),duplicate:this.getOption("add")&&n.length>0,total:(0,g.ej)(t),ht_label:(0,g.ej)(this.model.get("ht")),tva_label:(0,g.ej)(this.model.get("tva"))}}}),b=a().View.extend({template:n(86965),templateContext:function(){var t=this.getOption("colspan");return this.getOption("edit")&&(t+=1),{colspan:t}}}),_=a().CollectionView.extend({tagName:"tbody",childViewTriggers:{edit:"line:edit",delete:"line:delete",bookmark:"bookmark:add",duplicate:"line:duplicate"},childView:w,emptyView:b,emptyViewOptions:function(){return{colspan:6,edit:this.getOption("section").edit}},childViewOptions:function(){return this.getOption("section")}});var y=n(20649);const x=a().View.extend({template:n(94140),regions:{lines:{el:"tbody",replaceElement:!0},errors:".group-errors"},ui:{add_btn:"button.add",total_ht:".total_ht",total_tva:".total_tva",total_ttc:".total_ttc"},triggers:{"click @ui.add_btn":"line:add"},childViewTriggers:{"line:edit":"line:edit","line:delete":"line:delete","line:duplicate":"line:duplicate"},initialize:function(t){var e=h().channel("facade");this.totalmodel=e.request("get:model","total"),this.config=h().channel("config"),this.listenTo(e,"change:lines",this.showTotals.bind(this)),this.collection=t.collection,this.listenTo(this.collection,"validated:invalid",this.showErrors),this.listenTo(this.collection,"validated:valid",this.hideErrors.bind(this)),this.listenTo(e,"bind:validation",this.bindValidation),this.listenTo(e,"unbind:validation",this.unbindValidation)},bindValidation:function(){v().bind(this)},unbindValidation:function(){v().unbind(this)},showErrors:function(t,e){this.detachChildView("errors"),this.showChildView("errors",new y.A({errors:e})),this.$el.addClass("error")},hideErrors:function(t){this.detachChildView("errors"),this.$el.removeClass("error")},showTotals:function(){},templateContext:function(){return{edit:this.getOption("section").edit,add:this.getOption("section").add}},onRender:function(){var t=new _({collection:this.collection,section:this.getOption("section")});this.showChildView("lines",t)},onAttach:function(){this.showTotals()}});var C=n(64996),V=n(49083),O=n(77719),A=n(29179);const T=a().View.extend({id:"mainform-container",className:"modal_overflow",behaviors:[V.A],template:n(71928),regions:{type_id:".type_id",description:".description",ht:".ht",tva:".tva"},childViewTriggers:{change:"data:modified"},onBeforeSync:d.ro,onFormSubmitted:d.yr,initialize:function(){this.channel=h().channel("config"),this.type_options=this.getTypeOptions();var t=h().channel("facade");this.listenTo(t,"bind:validation",this.bindValidation),this.listenTo(t,"unbind:validation",this.unbindValidation)},bindValidation:function(){v().bind(this)},unbindValidation:function(){v().unbind(this)},getTypeOptions:function(){return this.channel.request("get:typeOptions","purchase")},onRender:function(){var t;t=new O.A({value:this.model.get("description"),title:"Description",field_name:"description"}),this.showChildView("description",t);var e=this.channel.request("get:form_section","lines:ht").edit;t=new O.A({value:this.model.get("ht"),title:"Montant HT",field_name:"ht",addon:"€",required:e,editable:e}),this.showChildView("ht",t);var n=this.channel.request("get:form_section","lines:tva").edit;t=new O.A({value:this.model.get("tva"),title:"Montant TVA",field_name:"tva",addon:"€",required:n,editable:n}),this.showChildView("tva",t),t=new A.A({value:this.model.get("type_id"),title:"Type de dépense",field_name:"type_id",options:this.type_options,id_key:"id"}),this.showChildView("type_id",t)},templateContext:function(){return{title:this.getOption("title"),add:this.getOption("add")}}}),k=a().View.extend({behaviors:[C.A],id:"supplierorderline-form-popup-modal",template:n(47992),regions:{main:{el:".form-child",replaceElement:!0}},ui:{modalbody:"header"},childViewEvents:{"success:sync":"onSuccessSync"},childViewTriggers:{"cancel:form":"modal:close"},initialize:function(){this.add=this.getOption("add")},onSuccessSync:function(){this.add?this.triggerMethod("modal:notifySuccess"):this.triggerMethod("modal:close")},onModalAfterNotifySuccess:function(){this.triggerMethod("line:add")},onModalBeforeClose:function(){this.model.rollback()},refreshForm:function(){this.showForm()},showForm:function(){var t=new T({model:this.model,destCollection:this.getOption("destCollection"),title:this.getOption("title"),add:this.add});this.showChildView("main",t)},templateContext:function(){return{title:this.getOption("title"),add:this.add}},onRender:function(){this.refreshForm()}});var M=n(8308);const q=a().View.extend({tagName:"div",behaviors:[V.A],template:n(61550),regions:{name:".name",advance_percent:".advance_percent",supplier_id:".supplier_id"},childViewEvents:{finish:"onFinish",change:"onChange"},initialize:function(){this.config=h().channel("config"),this.suppliers_options=this.config.request("get:options","suppliers")},onChange:function(t,e){this.model.set(t,e),this.triggerMethod("order:modified",t,e),this.triggerMethod("data:modified",t,e)},onFinish:function(t,e){this.model.set(t,e),this.triggerMethod("order:modified",t,e),this.triggerMethod("data:persist",t,e)},showSupplierId:function(){var t=this.config.request("get:form_section","general:supplier_id").edit,e={options:this.suppliers_options,title:"Fournisseur",field_name:"supplier_id",editable:t,value:this.model.get("supplier_id")};this.model.has("supplier_id")||(e.placeholder="Sélectionner");var n=new A.A(e);this.showChildView("supplier_id",n)},showCaePercentage:function(){var t=this.config.request("get:form_section","general:cae_percentage").edit,e=new M.A({value:this.model.get("cae_percentage"),title:"Part de paiement direct par la CAE",field_name:"cae_percentage",editable:t});this.showChildView("advance_percent",e)},showName:function(){var t=this.config.request("get:form_section","general").edit,e=new O.A({value:this.model.get("name"),title:"Nom",field_name:"name",editable:t});this.showChildView("name",e)},onRender:function(){this.config.request("has:form_section","general:cae_percentage")&&this.showCaePercentage(),this.config.request("has:form_section","general:supplier_id")&&this.showSupplierId(),this.showName()},onSuccessSync:function(){h().channel("facade").trigger("navigate","index")}}),S=a().View.extend({id:"supplierorderline-duplicate-form",behaviors:[C.A],template:n(98827),regions:{select:".select"},ui:{cancel_btn:"button[type=reset]",form:"form"},events:{"submit @ui.form":"onSubmit","click @ui.cancel_btn":"onCancelClick"},initialize:function(){var t=h().channel("config");this.options=t.request("get:options","supplier_orders")},onCancelClick:function(){this.triggerMethod("modal:close")},templateContext:function(){var t=this.model.getHT(),e=this.model.getTva(),n=this.model.total();return{ht:(0,g.ej)(t),tva:(0,g.ej)(e),ttc:(0,g.ej)(n),type_id:this.model.get("type_id")}},onRender:function(){var t=new A.A({options:this.options,title:"Commande fournisseur vers laquelle dupliquer",id_key:"id",field_name:"supplier_order_id",value:this.model.get("supplier_order_id")});this.showChildView("select",t)},onSubmit:function(t){t.preventDefault();var e=(0,d.n_)(this.getUI("form")),n=this.model.duplicate(e),i=this;n.done((function(){i.triggerMethod("modal:close")}))}}),j=a().View.extend({tagName:"div",template:n(55190),modelEvents:{"change:ttc":"render","change:ht":"render","change:tva":"render","change:ttc_cae":"render","change:ttc_worker":"render"},templateContext:function(){return{ht:(0,g.ej)(this.model.get("ht")),tva:(0,g.ej)(this.model.get("tva")),ttc:(0,g.ej)(this.model.get("ttc")),ttc_cae:(0,g.ej)(this.model.get("ttc_cae")),ttc_worker:(0,g.ej)(this.model.get("ttc_worker"))}}});var D=n(73864),F=n(9498),E=n(55872),R=n(74125),P=n(74692);const L=a().View.extend({className:"container-fluid page-content",template:n(80099),regions:{modalRegion:".modalRegion",files:".files",supplierOrderForm:".supplier-order",linesRegion:".lines-region",totals:".totals",messages:{el:".messages-container",replaceElement:!0},errors:".group-errors"},childViewEvents:{"line:add":"onLineAdd","line:edit":"onLineEdit","line:delete":"onLineDelete","order:modified":"onDataModified","line:duplicate":"onLineDuplicate","status:change":"onStatusChange"},onDataModified:function(t,e){"supplier_id"==t&&this.onSupplierModified(e);var n=this.facade.request("get:model","total"),i=this.facade.request("get:model","supplierOrder"),o=n.get("ttc"),l=(0,g.Os)(o,i.get("cae_percentage")),s=o-l;n.set("ttc_cae",l),n.set("ttc_worker",s)},onSupplierModified:function(t){var e=this.config.request("get:options","suppliers"),n=R.find(e,(function(e){return e.value==t})),i=P("[data-backbone-var=supplier_id]");i.text(n.label),i.attr("href","/suppliers/".concat(t))},initialize:function(){this.facade=h().channel("facade"),this.config=h().channel("config"),this.listenTo(this.facade,"status:change",this.onStatusChange)},showSupplierOrderForm:function(){var t=this.config.request("get:form_section","general").edit,e=this.facade.request("get:model","supplierOrder"),n=new q({model:e,edit:t});this.showChildView("supplierOrderForm",n)},onLineAdd:function(t){var e=new m({});this.showLineForm(e,!0,"Ajouter un achat")},onLineEdit:function(t){this.showLineForm(t.model,!1,"Modifier un achat")},showLineForm:function(t,e,n){var i=new k({title:n,add:e,model:t,destCollection:this.facade.request("get:collection","lines")});this.showChildView("modalRegion",i)},showDuplicateForm:function(t){var e=new S({model:t});this.showChildView("modalRegion",e)},onLineDuplicate:function(t){this.showDuplicateForm(t.model)},onDeleteSuccess:function(){(0,l.DR)("Vos données ont bien été supprimées")},onDeleteError:function(){(0,l.Ix)("Une erreur a été rencontrée lors de la suppression de cet élément")},onLineDelete:function(t){window.confirm("Êtes-vous sûr de vouloir supprimer cette ligne ?")&&t.model.destroy({success:this.onDeleteSuccess,error:this.onDeleteError})},showFilesRegion:function(){var t=this,e=this.config.request("get:form_section","general").edit,n=this.facade.request("get:collection","attachments"),i=new E.A({collection:n,edit:e,addCallback:function(){return t.facade.trigger("file:updated")}});this.showChildView("files",i)},showLinesRegion:function(){var t=this.config.request("get:form_section","lines"),e=this.facade.request("get:collection","lines"),n=new x({collection:e,section:t});this.showChildView("linesRegion",n)},showMessages:function(){var t=new(c().Model),e=new D.A({model:t});this.showChildView("messages",e)},showTotals:function(){var t=this.facade.request("get:model","total"),e=new j({model:t});this.showChildView("totals",e)},showLogin:function(){var t=new F.A({});this.showChildView("modalRegion",t)},onRender:function(){this.showFilesRegion(),this.showSupplierOrderForm(),this.showLinesRegion(),this.showTotals(),this.showMessages()},_showStatusModal:function(t){console.log("Showing the status modal");var e=new p.A({action:t});this.showChildView("modalRegion",e)},formOk:function(){console.log("Checking that form is OK");var t=!0,e=this.facade.request("is:valid");return R.isEmpty(e)?this.detachChildView("errors"):(console.log(e),this.showChildView("errors",new y.A({errors:e})),t=!1),t},onStatusChange:function(t){var e=this;if(console.log("Status changed asked"),this.config.request("get:form_section","general").edit){if(!t.get("status"))return;if((0,d.ro)(),"draft"!=t.get("status")&&(console.log("Status is not draft"),!this.formOk()))return document.body.scrollTop=document.documentElement.scrollTop=0,void(0,d.yr)();this.facade.request("save:all").then((function(){(0,d.yr)(),e._showStatusModal(t)}),(function(){(0,d.yr)(),(0,l.Ix)("Erreur pendant la sauvegarde")}))}else this._showStatusModal(t)}}),N=a().Object.extend({initialize:function(t){this.facade=h().channel("facade"),console.log("Controller.initialize"),this.rootView=t.rootView}}),z=n(33588).A.extend({appRoutes:{}});var H=n(66536),I=n(17751);const B=new(a().Application.extend({region:"#js-main-area",onBeforeStart:function(t,e){console.log("AppClass.onBeforeStart"),this.rootView=new L,this.controller=new N({rootView:this.rootView}),this.router=new z({controller:this.controller}),console.log("AppClass.onBeforeStart finished"),I.A.setFormConfig(H.A.form_config)},onStart:function(t,e){this.showView(this.rootView),console.log("Starting the history"),(0,d.yr)(),c().history.start()}}));var U=n(30354);const $=c().Model.extend({isLocalModel:!0});var K=n(76004),Q=n(10666);const Y=K.A.extend(Q.A).extend({props:["id","name","cae_percentage","supplier_id"],validation:{name:{required:!0},cae_percentage:{required:!0}}});var G=n(57019),J=n(74125);const W=G.A.extend({model:m,validate:function(){console.log("Validating");var t={};return this.each((function(e){var n=e.validate();n&&J.extend(t,n)})),0==this.models.length&&(t.lines="Veuillez ajouter au moins un produit",this.trigger("validated:invalid",this,{lines:"Veuillez ajouter au moins un produit"})),t}});var X=n(46174),Z=n(1052);const tt=new(a().Object.extend(X.A).extend({channelName:"facade",radioEvents:{"changed:line":"computeLineTotal","changed:totals":"computeFundingTotals","changed:order.cae_percentage":"computeFundingTotals","file:updated":"onFileUpdated"},radioRequests:{"get:collection":"getCollectionRequest","get:model":"getModelRequest","is:valid":"isDataValid","save:all":"saveAll"},initialize:function(t){this.models={},this.collections={}},start:function(){return console.log("Starting the facade"),(0,d.m)(this.url).then(this.setupModels.bind(this))},setup:function(t){console.log("Facade.setup"),console.table(t),this.mergeOptions(t,["edit"]),this.url=t.context_url},setupModels:function(t){this.models.total=new $;var e=t.lines;this.collections.lines=new W(e),this.collections.attachments=new U.A(t.attachments),this.collections.attachments.url="/api/v1/nodes/".concat(t.id,"/files"),this.collections.status_history=new Z.A(t.status_history),this.models.supplierOrder=new Y(t),this.setModelUrl("supplierOrder",AppOption.context_url),this.computeLineTotal(),this.computeFundingTotals()},onFileUpdated:function(){this.collections.attachments.fetch()},computeLineTotal:function(){var t=this.collections.lines,e={};e.ht=t.total_ht(),e.tva=t.total_tva(),e.ttc=t.total(),this.getChannel().trigger("change:lines"),this.models.total.set(e),this.computeFundingTotals()},computeFundingTotals:function(){var t=this.models.supplierOrder,e={},n=this.models.total.get("ttc"),i=t.get("cae_percentage");e.ttc_cae=(0,g.Os)(n,i),e.ttc_worker=n-e.ttc_cae,this.models.total.set(e)}}));var et=n(36370),nt=n(75927),it=new et.A;o()((function(){(0,l.YQ)(AppOption,B,tt,{actionsApp:it,statusHistoryApp:nt.A,customServices:[I.A]})}))},80099:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){return"<div class=\"files separate_top content_vertical_padding\"></div>\n<div class=\"separate_top\">\n    <div class='messages-container'></div>\n    <div class='group-errors'></div>\n    <div class='totals grand-total'></div>\n    <div class='form-section'>\n        <div class='content'>\n            <div class='form-section'>\n                <div class='content'>\n                    <div class=\"supplier-order\">\n                    </div>\n                    <div class='lines-region'>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<section id=\"supplierorderline_form\" class=\"modalRegion modal_view size_middle\"></section>\n"},useData:!0})},61550:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){return'<div class="separate_top content_vertical_padding">\n    <h3>Propriétés de la commande</h3>\n    <form class="form">\n        <div class="form-section">\n            <div class="layout flex two_cols">\n                <div class=\'advance_percent\'></div>\n                <div class=\'name\'></div>\n            </div>\n            <div class="row form-row">\n                <div class=\'col-md-6 supplier_id\'></div>\n            </div>\n        </div>\n    </form>\n</div>\n'},useData:!0})},98827:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){var l,s,a=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,c="function",d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div role="dialog" id="supplierorderline-forms" aria-modal="true" aria-labelledby="supplierorderline-forms_title">\n    <form>\n        <div class="modal_layout">\n            <header>\n                <button tabindex=\'-1\' type="button" class="icon only unstyled close" title="Fermer cette fenêtre" aria-label="Fermer cette fenêtre">\n                    <svg><use href="/static/icons/icones.svg#times"></use></svg>\n                </button>\n                <h2 id="supplierorderline-forms_title">Dupliquer une ligne de commande fournisseur</h2>\n            </header>\n            <div class="modal_content_layout">\n                <div class="modal_content">\n                    <div class=\'separate_bottom\'>\n                        <h3>Ligne</h3>\n                        '+t.escapeExpression(typeof(s=null!=(s=d(n,"description")||(null!=e?d(e,"description"):e))?s:r)===c?s.call(a,{name:"description",hash:{},data:o,loc:{start:{line:14,column:24},end:{line:14,column:39}}}):s)+"<br />\n                        <div class='expense_totals'>\n                            <div class=\"layout flex two_cols\">\n                                <div>\n                                    <p>HT&nbsp;: "+(null!=(l=typeof(s=null!=(s=d(n,"ht")||(null!=e?d(e,"ht"):e))?s:r)===c?s.call(a,{name:"ht",hash:{},data:o,loc:{start:{line:18,column:49},end:{line:18,column:59}}}):s)?l:"")+'</p>\n                                </div>\n                            </div>\n                            <div class="layout flex two_cols">\n                                <div>\n                                    <p>TVA&nbsp;: '+(null!=(l=typeof(s=null!=(s=d(n,"tva")||(null!=e?d(e,"tva"):e))?s:r)===c?s.call(a,{name:"tva",hash:{},data:o,loc:{start:{line:23,column:50},end:{line:23,column:61}}}):s)?l:"")+"</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class='select layout'></div>\n                </div>\n                <footer>\n                    <button\n                        class='btn btn-success btn-primary'\n                        type='submit'\n                        value='submit'>\n                        Dupliquer\n                    </button>\n                    <button\n                        class='btn'\n                        type='reset'\n                        value='submit'>\n                        Annuler\n                    </button>\n                </footer>\n            </div>\n        </div>\x3c!-- /.modal_layout --\x3e\n    </form>\n</div>\x3c!-- /#supplierorderline-forms --\x3e\n\n"},useData:!0})},86965:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){var l,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<td colspan='"+t.escapeExpression("function"==typeof(l=null!=(l=s(n,"colspan")||(null!=e?s(e,"colspan"):e))?l:t.hooks.helperMissing)?l.call(null!=e?e:t.nullContext||{},{name:"colspan",hash:{},data:o,loc:{start:{line:1,column:13},end:{line:1,column:26}}}):l)+"'><em>Aucun achat n’a été renseigné</em></td>\n"},useData:!0})},47992:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){var l,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div role="dialog" id="supplierorderline-forms" aria-modal="true" aria-labelledby="supplierorderline-forms_title">\n    <div class="modal_layout">\n        <header>\n            <button tabindex=\'-1\' type="button" class="icon only unstyled close"\n                    title="Fermer cette fenêtre"\n            >\n                <svg><use href="/static/icons/icones.svg#times"></use></svg>\n            </button>\n            <h2 id="supplierorderline-forms_title">'+t.escapeExpression("function"==typeof(l=null!=(l=s(n,"title")||(null!=e?s(e,"title"):e))?l:t.hooks.helperMissing)?l.call(null!=e?e:t.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:9,column:51},end:{line:9,column:62}}}):l)+'</h2>\n        </header>\n        <div class="form-child">\x3c!-- replaced by child view --\x3e</div>\n    </div>\n</div>\n'},useData:!0})},71928:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){var l,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<form class='modal_content_layout layout'>\n    <div class=\"modal_content\">\n        <div class='row form-row'>\n            <div class='date required col-md-6'></div>\n            <div class='category col-md-6'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='type_id required col-md-12'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='description required col-md-12'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='ht col-md-6'></div>\n            <div class='tva col-md-6'></div>\n        </div>\n        <div class='row form-row'>\n            <div class='business_link col-md-12'></div>\n        </div>\n    </div>\n    <footer>\n        <button class='btn btn-success btn-primary' type='submit' value='submit' formnovalidate>\n            "+t.escapeExpression("function"==typeof(l=null!=(l=s(n,"title")||(null!=e?s(e,"title"):e))?l:t.hooks.helperMissing)?l.call(null!=e?e:t.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:23,column:12},end:{line:23,column:23}}}):l)+"\n        </button>\n        <button class='btn btn-default secondary-action' type='reset' value='submit'>\n            Fermer\n        </button>\n    </footer>\n</form>"},useData:!0})},94140:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({1:function(t,e,n,i,o){return'\t\t\t\t\t<th scope="col" class="col_actions" title="Actions"><span class="screen-reader-text">Actions</span></th>\n'},3:function(t,e,n,i,o){return'\t\t\t\t<tr>\n\t\t\t\t\t<td class="col_actions" colspan="5">\n\t\t\t\t\t\t<button class=\'btn add\'>\n\t\t\t\t\t\t\t<svg><use href="/static/icons/icones.svg#plus"></use></svg>Ajouter un achat\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){var l,s,a,r=null!=e?e:t.nullContext||{},c=t.hooks.helperMissing,d="function",u=t.hooks.blockHelperMissing,h=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},p='<div class="content_vertical_padding separate_top">\n    <h2>Détail de la commande</h2>\n\t<div class=\'group-errors\'></div>\n\t<div class="table_container">\n\t\t<table class="opa hover_table">\n\t\t\t<thead>\n\t\t\t\t<th scope="col" class="col_text">Description</th>\n                <th scope="col" class="col_number" title="Montant Hors Taxes"><span class="screen-reader-text">Montant </span>H<span class="screen-reader-text">ors </span>T<span class="screen-reader-text">axes</span></th>\n                <th scope="col" class="col_number" title="Taux de TVA"><span class="screen-reader-text">Taux de </span>TVA</th>\n\t\t\t\t<th scope="col" class="col_number">Total TTC</th>\n';return s=null!=(s=h(n,"edit")||(null!=e?h(e,"edit"):e))?s:c,a={name:"edit",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:11,column:4},end:{line:13,column:13}}},l=typeof s===d?s.call(r,a):s,h(n,"edit")||(l=u.call(e,l,a)),null!=l&&(p+=l),p+="\t\t\t</thead>\n\t\t\t<tbody class='lines'>\n\t\t\t</tbody>\n\t\t\t<tfoot>\n",s=null!=(s=h(n,"add")||(null!=e?h(e,"add"):e))?s:c,a={name:"add",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:18,column:4},end:{line:26,column:12}}},l=typeof s===d?s.call(r,a):s,h(n,"add")||(l=u.call(e,l,a)),null!=l&&(p+=l),p+"\t\t\t</tfoot>\n\t\t</table>\n\t</div>\n</div>\n"},useData:!0})},51694:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({1:function(t,e,n,i,o){var l,s,a,r=null!=e?e:t.nullContext||{},c=t.hooks.helperMissing,d="function",u=t.hooks.blockHelperMissing,h=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},p="<td class='col_actions width_three'>\n\t<ul>\n\t\t<li>\n            <button class='btn icon only edit' title='Modifier' aria-label='Modifier'>\n                <svg><use href=\"/static/icons/icones.svg#pen\"></use></svg>\n            </button>\n        </li>\n";return s=null!=(s=h(n,"duplicate")||(null!=e?h(e,"duplicate"):e))?s:c,a={name:"duplicate",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:13,column:8},end:{line:19,column:22}}},l=typeof s===d?s.call(r,a):s,h(n,"duplicate")||(l=u.call(e,l,a)),null!=l&&(p+=l),s=null!=(s=h(n,"delete")||(null!=e?h(e,"delete"):e))?s:c,a={name:"delete",hash:{},fn:t.program(4,o,0),inverse:t.noop,data:o,loc:{start:{line:20,column:8},end:{line:26,column:19}}},l=typeof s===d?s.call(r,a):s,h(n,"delete")||(l=u.call(e,l,a)),null!=l&&(p+=l),p+"    </ul>\n</td>\n"},2:function(t,e,n,i,o){return"\t\t<li>\n            <button class='btn icon only duplicate' title='Dupliquer' aria-label='Dupliquer'>\n                <svg><use href=\"/static/icons/icones.svg#copy\"></use></svg></button>\n            </button>\n        </li>\n"},4:function(t,e,n,i,o){return"\t\t<li>\n            <button class='btn icon only negative delete'>\n                <svg><use href=\"/static/icons/icones.svg#trash-alt\"></use></svg>\n            </button>\n        </li>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){var l,s,a,r=null!=e?e:t.nullContext||{},c=t.hooks.helperMissing,d="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},h='<td class="col_text">'+t.escapeExpression(typeof(s=null!=(s=u(n,"description")||(null!=e?u(e,"description"):e))?s:c)===d?s.call(r,{name:"description",hash:{},data:o,loc:{start:{line:1,column:21},end:{line:1,column:38}}}):s)+'</td>\n<td class="col_number">'+(null!=(l=typeof(s=null!=(s=u(n,"ht_label")||(null!=e?u(e,"ht_label"):e))?s:c)===d?s.call(r,{name:"ht_label",hash:{},data:o,loc:{start:{line:2,column:23},end:{line:2,column:39}}}):s)?l:"")+'</td>\n<td class="col_number">'+(null!=(l=typeof(s=null!=(s=u(n,"tva_label")||(null!=e?u(e,"tva_label"):e))?s:c)===d?s.call(r,{name:"tva_label",hash:{},data:o,loc:{start:{line:3,column:23},end:{line:3,column:40}}}):s)?l:"")+'</td>\n<td class="col_number">'+(null!=(l=typeof(s=null!=(s=u(n,"total")||(null!=e?u(e,"total"):e))?s:c)===d?s.call(r,{name:"total",hash:{},data:o,loc:{start:{line:4,column:23},end:{line:4,column:36}}}):s)?l:"")+"</td>\n";return s=null!=(s=u(n,"edit")||(null!=e?u(e,"edit"):e))?s:c,a={name:"edit",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:0},end:{line:29,column:9}}},l=typeof s===d?s.call(r,a):s,u(n,"edit")||(l=t.hooks.blockHelperMissing.call(e,l,a)),null!=l&&(h+=l),h},useData:!0})},55190:(t,e,n)=>{var i=n(93633);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,o){var l,s,a=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,c="function",d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="layout flex">\n    <div>\n        <h4 class="content_vertical_padding">Règlements</h4>\n    \t<table class="top_align_table">\n    \t\t<tbody>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">CAE</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ttc_cae")||(null!=e?d(e,"ttc_cae"):e))?s:r)===c?s.call(a,{name:"ttc_cae",hash:{},data:o,loc:{start:{line:8,column:31},end:{line:8,column:46}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Entrepreneur</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ttc_worker")||(null!=e?d(e,"ttc_worker"):e))?s:r)===c?s.call(a,{name:"ttc_worker",hash:{},data:o,loc:{start:{line:12,column:31},end:{line:12,column:49}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t</tbody>\n    \t</table>\n    </div>\n\t<div>\n    \t<h4 class="content_vertical_padding">Totaux</h4>\n    \t<table class="top_align_table">\n    \t\t<tbody>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Total HT</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ht")||(null!=e?d(e,"ht"):e))?s:r)===c?s.call(a,{name:"ht",hash:{},data:o,loc:{start:{line:23,column:31},end:{line:23,column:41}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Total TVA</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"tva")||(null!=e?d(e,"tva"):e))?s:r)===c?s.call(a,{name:"tva",hash:{},data:o,loc:{start:{line:27,column:31},end:{line:27,column:42}}}):s)?l:"")+'</td>\n    \t\t\t</tr>\n    \t\t\t<tr>\n    \t\t\t\t<th scope="row">Total TTC</th>\n    \t\t\t\t<td class="col_number">'+(null!=(l=typeof(s=null!=(s=d(n,"ttc")||(null!=e?d(e,"ttc"):e))?s:r)===c?s.call(a,{name:"ttc",hash:{},data:o,loc:{start:{line:31,column:31},end:{line:31,column:42}}}):s)?l:"")+"</td>\n    \t\t\t</tr>\n    \t\t</tbody>\n    \t</table>\n\t</div>\n</div>\n"},useData:!0})}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var l=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}i.m=e,t=[],i.O=(e,n,o,l)=>{if(!n){var s=1/0;for(d=0;d<t.length;d++){for(var[n,o,l]=t[d],a=!0,r=0;r<n.length;r++)(!1&l||s>=l)&&Object.keys(i.O).every((t=>i.O[t](n[r])))?n.splice(r--,1):(a=!1,l<s&&(s=l));if(a){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[n,o,l]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),i.j=734,(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t={734:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var o,l,[s,a,r]=n,c=0;if(s.some((e=>0!==t[e]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(r)var d=r(i)}for(e&&e(n);c<s.length;c++)l=s[c],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(d)},n=self.webpackChunkenDI=self.webpackChunkenDI||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=i.O(void 0,[121],(()=>i(7631)));o=i.O(o),supplier_order=o})();