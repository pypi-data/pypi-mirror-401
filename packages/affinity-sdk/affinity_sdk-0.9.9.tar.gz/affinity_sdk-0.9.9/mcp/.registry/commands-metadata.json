{
  "_comment": "Manual metadata to merge with auto-generated registry. Keys are command names.",
  "list ls": {
    "relatedCommands": ["list get", "list export", "field ls"],
    "whenToUse": "Find list IDs by name. Use before list export or field ls."
  },
  "list get": {
    "relatedCommands": ["list ls", "list export", "field ls"],
    "whenToUse": "Get list details including type and field count."
  },
  "list export": {
    "relatedCommands": ["list ls", "field ls", "list-entry get"],
    "whenToUse": "Get entries from a list. Use --filter for field-based filtering on LIST FIELDS ONLY (Status, Owner, etc.) - NOT internal properties like entityId/entityType/listEntryId. Use 'field ls --list-id' to see filterable fields. IMPORTANT: Multi-word field names AND values MUST be quoted (e.g., --filter '\"Team Member\"=\"John Smith\"'). To find a specific entity in a list, use 'company get <id> --expand list-entries' instead.",
    "examples": [
      "list export \"Pipeline\" --all",
      "list export \"Pipeline\" --filter 'Status=New' --all",
      "list export \"Pipeline\" --filter 'Status=\"Intro Meeting\"' --all",
      "list export \"Pipeline\" --filter '\"Team Member\"=~\"LB\"' --all",
      "list export \"Pipeline\" --saved-view \"Active Deals\" --csv > deals.csv"
    ]
  },
  "list-entry get": {
    "relatedCommands": ["list export", "entry field"],
    "whenToUse": "Get full details for a single list entry by ID."
  },
  "company ls": {
    "relatedCommands": ["company get", "company field"],
    "whenToUse": "List or search ALL companies in CRM. Use --query for text search (name, domain). NOT for list-specific fields like Status."
  },
  "company get": {
    "relatedCommands": ["company ls", "company field"],
    "whenToUse": "Get full details for a company. Selector formats: numeric ID, Affinity URL, 'domain:example.com', or 'name:Company Name'. Use --expand list-entries to see list memberships. For list-entry fields: requires --expand list-entries AND --max-results N (N<=3) with --show-list-entry-fields.",
    "examples": [
      "company get 12345",
      "company get domain:wellybox.com",
      "company get domain:wellybox.com --expand list-entries",
      "company get domain:wellybox.com --expand list-entries --show-list-entry-fields --max-results 3"
    ]
  },
  "person ls": {
    "relatedCommands": ["person get", "person field"],
    "whenToUse": "Search persons by name/email. ALWAYS use --query for text search (simpler, more reliable). Avoid --filter with complex expressions containing quotes.",
    "examples": [
      "person ls --query 'John Smith'",
      "person ls --query 'john@example.com'"
    ]
  },
  "person get": {
    "relatedCommands": ["person ls", "person field"],
    "whenToUse": "Get full details for a person. Selector formats: numeric ID, Affinity URL, or 'email:user@example.com'. Use --expand list-entries for list memberships.",
    "examples": [
      "person get 12345",
      "person get email:john@example.com",
      "person get 12345 --expand list-entries"
    ]
  },
  "opportunity ls": {
    "relatedCommands": ["opportunity get", "list ls"],
    "whenToUse": "List opportunities. Note: opportunities exist only within a specific list (pipeline)."
  },
  "opportunity get": {
    "relatedCommands": ["opportunity ls"],
    "whenToUse": "Get opportunity details. Use --expand people/companies for associations."
  },
  "field ls": {
    "relatedCommands": ["list ls", "list export", "entry field"],
    "whenToUse": "See what custom fields exist on a list. Helps understand available filter fields."
  },
  "field history": {
    "relatedCommands": ["field ls", "list-entry get", "person get", "company get"],
    "whenToUse": "View change history for a specific field. REQUIRES exactly one entity selector: --person-id, --company-id, --opportunity-id, or --list-entry-id. Cannot be called without an entity selector.",
    "examples": [
      "field history field-123456 --person-id 789",
      "field history field-123456 --company-id 456",
      "field history field-123456 --list-entry-id 999 --max-results 50"
    ]
  },
  "interaction ls": {
    "relatedCommands": ["interaction get", "interaction create", "note ls"],
    "whenToUse": "List interactions for an entity. Requires --type (repeatable, or 'all') and one entity selector (--person-id, --company-id, or --opportunity-id). Date range defaults to all-time; use --days or --after to limit. Auto-chunks ranges > 1 year.",
    "examples": [
      "interaction ls --type all --company-id 456",
      "interaction ls --type email --type meeting --person-id 123 --days 30",
      "interaction ls --type meeting --person-id 123 --days 30",
      "interaction ls --type call --person-id 789 --after 2024-01-01 --before 2024-06-30"
    ]
  },
  "interaction create": {
    "relatedCommands": ["interaction ls", "note create"],
    "whenToUse": "Log a meeting, call, or email. Requires --type and --participants."
  },
  "note create": {
    "relatedCommands": ["note ls", "interaction create"],
    "whenToUse": "Add a note to an entity. Simpler than interactions for quick notes."
  },
  "reminder ls": {
    "relatedCommands": ["reminder get", "reminder create", "note ls"],
    "whenToUse": "List reminders. Filter by entity (--person-id, --company-id, --opportunity-id), user (--owner-id, --creator-id), type, status, or due date range (--due-after/--due-before)."
  },
  "query": {
    "relatedCommands": ["person ls", "company ls", "opportunity ls", "list export"],
    "whenToUse": "For complex data queries requiring: multi-condition AND/OR filtering, related entity includes (persons with companies), aggregations (count/sum/avg), groupBy analysis, or multi-field sorting. Use individual commands (person get, list export) for simple lookups.",
    "examples": [
      "query --query '{\"from\": \"persons\", \"limit\": 10}' --dry-run",
      "query --query '{\"from\": \"persons\", \"where\": {\"path\": \"email\", \"op\": \"contains\", \"value\": \"@acme.com\"}, \"include\": [\"companies\"]}' --dry-run",
      "query --query '{\"from\": \"opportunities\", \"groupBy\": \"status\", \"aggregate\": {\"count\": {\"count\": true}, \"total\": {\"sum\": \"amount\"}}}' --dry-run"
    ]
  }
}
