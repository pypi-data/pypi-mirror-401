syntax = "proto3";

package sl5_grpc.pb;

import "google/protobuf/timestamp.proto";

option go_package = "server/app/server/api/grpc/pb";

// TagService
service TagService {
  // Позволяет прочитать указанные теги
  rpc ReadValues(TagReadValueRequest) returns (TagReadValueReply) {}

  // Позволяет записать значения и качество в теги
  rpc WriteValues(TagWriteValueRequest) returns (TagWriteValueReply) {}
}

message TagReadValueRequest {
  repeated string names = 1;
}

message TagReadValueReply {
  repeated SLValue values = 1;
}

// Представляет значение SimpLight используемое в api
message SLValue {
  oneof kind {
    double double_value = 1;
    string string_value = 2;
    bool bool_value = 3;
    int32 int32_value = 4;
    int64 int64_value = 5;
    uint32 uint32_value = 6;
    uint64 uint64_value = 7;
    google.protobuf.Timestamp time_value = 8;
  }
}

message TagWriteValueRequest {
  repeated WriteValue wvs = 1;
}

message WriteValue {
  string tag_name = 1;
  SLValue value = 2;
  uint32 quality = 3;
}

message TagWriteValueReply {

}