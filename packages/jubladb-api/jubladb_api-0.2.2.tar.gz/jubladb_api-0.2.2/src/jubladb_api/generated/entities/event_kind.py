# DO NOT EDIT THIS FILE, it is auto-generated!
import jubladb_api.core.metamodel_classes
import jubladb_api.core.base_entity
import jubladb_api.generated.entities.keys

import datetime

import typing

# @formatter:off


class EventKind(jubladb_api.core.base_entity.BaseEntity):
    def __init__(
        self,
        id_: int,
        label: str,
        short_name: str,
        general_information: str,
        application_conditions: str,
        minimum_age: int,
        created_at: datetime.datetime,
        updated_at: datetime.datetime,
        kind_category: jubladb_api.generated.entities.keys.EventKindCategoryKey | None,
    ):
        super().__init__(id_)

        self._label = label
        self._short_name = short_name
        self._general_information = general_information
        self._application_conditions = application_conditions
        self._minimum_age = minimum_age
        self._created_at = created_at
        self._updated_at = updated_at

        self._kind_category = kind_category

    @property
    def label(self) -> str:
        return self._label

    @property
    def short_name(self) -> str:
        return self._short_name

    @property
    def general_information(self) -> str:
        return self._general_information

    @property
    def application_conditions(self) -> str:
        return self._application_conditions

    @property
    def minimum_age(self) -> int:
        return self._minimum_age

    @property
    def created_at(self) -> datetime.datetime:
        return self._created_at

    @property
    def updated_at(self) -> datetime.datetime:
        return self._updated_at

    @property
    def kind_category(self) -> jubladb_api.generated.entities.keys.EventKindCategoryKey:
        if self._kind_category is None:
            raise ValueError("Relation kind_category is not included")
        return self._kind_category

    @property
    def key(self) -> jubladb_api.generated.entities.keys.EventKindKey:
        return jubladb_api.generated.entities.keys.EventKindKey(self._id)

    @property
    def meta(self) -> jubladb_api.core.metamodel_classes.Entity:
        return jubladb_api.generated.metamodel.ENTITIES["event_kind"]

    def is_relation_loaded(
        self,
        relation_name: typing.Literal["kind_category",],
    ) -> bool:

        if relation_name == "kind_category":
            return self._kind_category is not None

        else:
            raise ValueError(f"relation {relation_name} does not exist on event_kind")

    def __str__(self) -> str:
        return f"{self.__class__.__name__}({self._id}, label={repr(self._label)})"

    @classmethod
    def from_json(cls, json_data: dict):
        if json_data.get("type", None) != "event_kinds":
            raise ValueError("Invalid data type")
        return cls(
            id_=cls._access_id(json_data),
            label=cls._access_data_attribute(
                json_data,
                "label",
                jubladb_api.core.metamodel_classes.AttributeType.STRING,
            ),
            short_name=cls._access_data_attribute(
                json_data,
                "short_name",
                jubladb_api.core.metamodel_classes.AttributeType.STRING,
            ),
            general_information=cls._access_data_attribute(
                json_data,
                "general_information",
                jubladb_api.core.metamodel_classes.AttributeType.STRING,
            ),
            application_conditions=cls._access_data_attribute(
                json_data,
                "application_conditions",
                jubladb_api.core.metamodel_classes.AttributeType.STRING,
            ),
            minimum_age=cls._access_data_attribute(
                json_data,
                "minimum_age",
                jubladb_api.core.metamodel_classes.AttributeType.INTEGER,
            ),
            created_at=cls._access_data_attribute(
                json_data,
                "created_at",
                jubladb_api.core.metamodel_classes.AttributeType.DATETIME,
            ),
            updated_at=cls._access_data_attribute(
                json_data,
                "updated_at",
                jubladb_api.core.metamodel_classes.AttributeType.DATETIME,
            ),
            kind_category=cls._create_single_relation_key(
                json_data,
                "kind_category",
                "event_kind_categories",
                jubladb_api.generated.entities.keys.EventKindCategoryKey,
            ),
        )


# @formatter:on
