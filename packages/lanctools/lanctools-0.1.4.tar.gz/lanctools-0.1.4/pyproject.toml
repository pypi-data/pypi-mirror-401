[project]
name = "lanctools"
version = "0.1.4"
license = { text = "MIT" }
description = "Tools for working with phased local ancestry data stored in the `.lanc` file format"
readme = "README.md"
authors = [{ name = "Franklin Ockerman", email = "frank.ockerman@gmail.com" }]
requires-python = ">=3.10"

dependencies = [
  "numba>=0.63.1",
  "numpy>=2.2.6",
  "pandas>=2.3.3",
  "pgenlib>=0.93.0",
  "typer>=0.20.1",
]

[project.urls]
Homepage = "https://github.com/frankp-0/lanctools"
Repository = "https://github.com/frankp-0/lanctools"
Issues = "https://github.com/frankp-0/lanctools/issues"

[tool.scikit-build]
minimum-version = "build-system.requires"
build-dir = "build/{wheel_tag}"

wheel.exclude = ["data", "result"]
sdist.exclude = ["data", "result"]

[tool.uv]
cache-keys = [
  { file = "pyproject.toml" },
  { file = "src/**/*.{h,c,hpp,cpp}" },
  { file = "CMakeLists.txt" },
]

[build-system]
requires = ["scikit-build-core>=0.10", "pybind11"]
build-backend = "scikit_build_core.build"

[dependency-groups]
dev = [
  "ipython>=8.37.0",
  "pytest>=9.0.2",
  "pytest-cov>=7.0.0",
  "sphinx>=8.1.3",
  "sphinx-autodoc-typehints>=3.0.1",
  "sphinx-rtd-theme>=0.5.1",
]

[tool.setuptools.packages.find]
where = ["src"]

[project.scripts]
lanctools = "lanctools.cli:main_entry"


[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_functions = ["test_*"]
addopts = [
  "--strict-markers",
  "--strict-config",
  "--cov=src",
  "--cov-report=term-missing",
]
