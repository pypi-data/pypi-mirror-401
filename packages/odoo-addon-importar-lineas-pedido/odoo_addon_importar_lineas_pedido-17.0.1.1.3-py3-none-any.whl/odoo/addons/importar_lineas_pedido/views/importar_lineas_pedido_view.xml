<?xml version="1.0"?>
<odoo>
	<data>
		<record id="sale_order_wizard_view" model="ir.ui.view">
			<field name="name">Import Order Lines</field>
			<field name="model">order.line.wizard</field>
			<field name="arch" type="xml">
				<form>
					<group>
						<field name="sale_order_file"/>
						<field name="clean_order_lines" widget="checkbox" />
					</group>

					<footer>
						<button string="Importar" name="import_sol" class="oe_highlight" type="object"/>
                        <button name="cancel" string="Cancelar" class="oe_link" special="cancel"/>

						<button name="download_sample_file" string="Descarga archivo de ejemplo" type="object" class="oe_link"/>
					</footer>
				</form>
			</field>
		</record>

		<record id="import_order_line_action" model="ir.actions.act_window">
			<field name="name">Import Order Lines</field>
			<field name="res_model">order.line.wizard</field>
			<field name="target">new</field>
			<field name="view_id" ref="sale_order_wizard_view"/>
			<field name="view_mode">form</field>
		</record>

		<record id="sale_order_inherit_view" model="ir.ui.view">
			<field name="name">Sale Order</field>
			<field name="model">sale.order</field>
		 	<field name="inherit_id" ref="sale.view_order_form"/>
			<field name="arch" type="xml">
				<header>
					<button name="%(import_order_line_action)d"
						string="Importar lineas desde fichero"
                        type="action"
						invisible="state in ('sale', 'done')"
                        class="btn-primary"/>
				</header>
			</field>
		</record>

		<record id="account_move_inherit_view" model="ir.ui.view">
			<field name="name">Account Move</field>
			<field name="model">account.move</field>
		 	<field name="inherit_id" ref="account.view_move_form"/>
			<field name="arch" type="xml">
				<header>
					<button name="%(import_order_line_action)d"
						string="Importar lineas desde fichero"
                        type="action"
						invisible="state in ('sale', 'done')"
                        class="btn-primary"/>
				</header>
			</field>
		</record>

	</data>
</odoo>
