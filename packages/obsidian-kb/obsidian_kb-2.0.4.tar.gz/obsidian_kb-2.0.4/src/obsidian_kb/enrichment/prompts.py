"""Промпты для LLM-обогащения чанков (Qwen2.5, оптимизированы для JSON)."""

# Системный промпт — минималистичный и строгий
ENRICHMENT_SYSTEM_PROMPT = """Ты JSON-генератор для обогащения текстов базы знаний.

ПРАВИЛА:
- Отвечай ТОЛЬКО валидным JSON без markdown-обёрток
- Язык ответа: русский
- Никаких пояснений до или после JSON
- Экранируй кавычки внутри строк правильно"""


# Полное обогащение с few-shot примером
FULL_ENRICHMENT_PROMPT = """Извлеки структурированные данные из текста.

ФОРМАТ ОТВЕТА:
{{"summary":"<резюме 1-2 предложения>","key_concepts":["<понятие>","<понятие>","<понятие>"],"semantic_tags":["<тег>","<тег>","<тег>"]}}

ПРИМЕР:
Текст: "Python — интерпретируемый язык программирования. Используется для веб-разработки, анализа данных и машинного обучения."
Ответ: {{"summary":"Python — универсальный язык программирования для веб-разработки, анализа данных и ML.","key_concepts":["Python","интерпретируемый язык","машинное обучение"],"semantic_tags":["программирование","разработка","data science"]}}

ТЕКСТ:
{content}

ОТВЕТ:"""


# Быстрое обогащение (только summary)
FAST_ENRICHMENT_PROMPT = """Создай резюме текста в 1-2 предложениях.

ФОРМАТ: {{"summary":"<резюме>"}}

ПРИМЕР:
Текст: "Docker позволяет упаковывать приложения в контейнеры для изоляции и портативности."
Ответ: {{"summary":"Docker — инструмент контейнеризации для изоляции и переносимости приложений."}}

ТЕКСТ:
{content}

ОТВЕТ:"""


# Названия кластеров
CLUSTER_NAMING_PROMPT = """Создай метаданные для кластера документов.

ФОРМАТ: {{"cluster_name":"<2-4 слова>","description":"<1-2 предложения>","keywords":["<слово>","<слово>","<слово>"]}}

ДОКУМЕНТЫ КЛАСТЕРА:
{cluster_documents_summaries}

ОТВЕТ:"""
