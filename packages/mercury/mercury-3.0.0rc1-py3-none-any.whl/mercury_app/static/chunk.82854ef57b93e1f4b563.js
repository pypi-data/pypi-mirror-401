"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[613,2994],{32994(e,t,o){o.r(t),o.d(t,{DEFAULT_CONTEXT_ITEM_RANK:()=>f,default:()=>J});var a=o(42597),i=o(61960),n=o(73475),r=o(76293),l=o(88019),s=o(18387),d=o(55199),c=o(28395),u=o(92410),p=o(55846),g=o(25884),m=o(41820),b=o(82336),h=o(9521),y=o(73232);const v={id:"@jupyterlab/application-extension:top-bar",description:"Adds a toolbar to the top area (next to the main menu bar).",autoStart:!0,requires:[l.ISettingRegistry,i.IToolbarWidgetRegistry],optional:[c.ITranslator],activate:(e,t,o,a)=>{const n=(null!=a?a:c.nullTranslator).load("jupyterlab"),r=new u.Toolbar;r.id="jp-top-bar",r.node.setAttribute("aria-label",n.__("Topbar toolbar")),(0,i.setToolbar)(r,(0,i.createToolbarFactory)(o,t,"TopBar",v.id,null!=a?a:c.nullTranslator),r),e.shell.add(r,"top",{rank:900})}},f=100;var _;!function(e){e.activateNextTab="application:activate-next-tab",e.activatePreviousTab="application:activate-previous-tab",e.activateNextTabBar="application:activate-next-tab-bar",e.activatePreviousTabBar="application:activate-previous-tab-bar",e.close="application:close",e.closeOtherTabs="application:close-other-tabs",e.closeRightTabs="application:close-right-tabs",e.closeAll="application:close-all",e.setMode="application:set-mode",e.showPropertyPanel="property-inspector:show-panel",e.resetLayout="application:reset-layout",e.toggleContextMenu="application:toggle-context-menu",e.toggleHeader="application:toggle-header",e.toggleMode="application:toggle-mode",e.toggleLeftArea="application:toggle-left-area",e.toggleRightArea="application:toggle-right-area",e.toggleSideTabBar="application:toggle-side-tabbar",e.toggleSidebarWidget="application:toggle-sidebar-widget",e.togglePresentationMode="application:toggle-presentation-mode",e.toggleFullscreenMode="application:toggle-fullscreen-mode",e.tree="router:tree",e.switchSidebar="sidebar:switch"}(_||(_={}));const x={id:"@jupyterlab/application-extension:commands",description:"Adds commands related to the shell.",autoStart:!0,requires:[c.ITranslator],optional:[a.ILabShell,i.ICommandPalette],activate:(e,t,o,i)=>{var r;const{commands:l,shell:s}=e,d=t.load("jupyterlab"),c=d.__("Main Area");l.addCommand(a.JupyterFrontEndContextMenu.contextMenu,{label:d.__("Shift+Right Click for Browser Menu"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>!1,execute:()=>{}});const u=()=>{const t=e.contextMenuHitTest(e=>!!e.dataset.id);return t&&(0,p.find)(s.widgets("main"),e=>e.id===t.dataset.id)||s.currentWidget},g=(e,t)=>{if("tab-area"===e.type)return e.widgets.includes(t)?e:null;if("split-area"===e.type)for(const o of e.children){const e=g(o,t);if(e)return e}return null},m=e=>{const{id:t}=e,a=(e=>{var t;const a=null==o?void 0:o.saveLayout(),i=null==a?void 0:a.mainArea;if(!i||"multiple-document"!==n.PageConfig.getOption("mode"))return null;const r=null===(t=i.dock)||void 0===t?void 0:t.main;return r?g(r,e):null})(e),i=a&&a.widgets||[],r=i.findIndex(e=>e.id===t);return r<0?[]:i.slice(r+1)};function b(e){e&&e.focus()}l.addCommand(_.close,{label:()=>d.__("Close Tab"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>{const e=u();return!!e&&e.title.closable},execute:()=>{const e=u();e&&e.close()}}),l.addCommand(_.closeOtherTabs,{label:()=>d.__("Close All Other Tabs"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>(0,p.some)(s.widgets("main"),(e,t)=>1===t),execute:()=>{const e=u();if(!e)return;const{id:t}=e;for(const e of s.widgets("main"))e.id!==t&&e.close()}}),l.addCommand(_.closeRightTabs,{label:()=>d.__("Close Tabs to Right"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>!!u()&&m(u()).length>0,execute:()=>{const e=u();e&&m(e).forEach(e=>e.close())}}),null===(r=s.currentChanged)||void 0===r||r.connect(()=>{[_.close,_.closeOtherTabs,_.closeRightTabs].forEach(e=>l.notifyCommandChanged(e))}),o&&(l.addCommand(_.activateNextTab,{label:d.__("Activate Next Tab"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activateNextTab()}}),l.addCommand(_.activatePreviousTab,{label:d.__("Activate Previous Tab"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activatePreviousTab()}}),l.addCommand(_.activateNextTabBar,{label:d.__("Activate Next Tab Bar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activateNextTabBar()}}),l.addCommand(_.activatePreviousTabBar,{label:d.__("Activate Previous Tab Bar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activatePreviousTabBar()}}),l.addCommand(_.closeAll,{label:d.__("Close All Tabs"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.closeAll()}}),l.addCommand(_.toggleHeader,{label:d.__("Show Header"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{"single-document"===o.mode&&o.toggleTopInSimpleModeVisibility()},isToggled:()=>o.isTopInSimpleModeVisible(),isVisible:()=>"single-document"===o.mode}),l.addCommand(_.toggleLeftArea,{label:d.__("Show Left Sidebar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.leftCollapsed?o.expandLeft():(o.collapseLeft(),o.currentWidget&&o.activateById(o.currentWidget.id))},isToggled:()=>!o.leftCollapsed,isEnabled:()=>!o.isEmpty("left")}),l.addCommand(_.toggleRightArea,{label:d.__("Show Right Sidebar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.rightCollapsed?o.expandRight():(o.collapseRight(),o.currentWidget&&o.activateById(o.currentWidget.id))},isToggled:()=>!o.rightCollapsed,isEnabled:()=>!o.isEmpty("right")}),l.addCommand(_.toggleSidebarWidget,{label:e=>void 0===e||void 0===e.side||void 0===e.index?d.__("Toggle Sidebar Element"):"right"===e.side?d.__("Toggle Element %1 in Right Sidebar",parseInt(e.index,10)+1):d.__("Toggle Element %1 in Left Sidebar",parseInt(e.index,10)+1),describedBy:{args:{type:"object",properties:{side:{type:"string",enum:["left","right"],description:d.__("The sidebar side")},index:{type:["string","number"],description:d.__("The index of the sidebar widget")}},required:["side","index"]}},execute:e=>{const t=parseInt(e.index,10);if("left"!=e.side&&"right"!=e.side)throw Error(`Unsupported sidebar: ${e.side}`);const a=Array.from(o.widgets(e.side));if(t>=a.length)return;const i=a[t].id,n=document.querySelector("[data-id='"+i+"']");(e=>{let t;if("left"!=e&&"right"!=e)throw Error(`Unsupported sidebar: ${e}`);if("left"===e)t=document.querySelector(".lm-TabBar-tab.lm-mod-current");else{const e=document.querySelectorAll(".lm-TabBar-tab.lm-mod-current");t=e[e.length-1]}const o=null==t?void 0:t.getAttribute("data-id");return o?null==o?void 0:o.toString():""})(e.side)===i?("left"==e.side&&(o.collapseLeft(),b(n)),"right"==e.side&&(o.collapseRight(),b(n))):(o.activateById(i),b(n))}}),l.addCommand(_.toggleSideTabBar,{label:e=>"right"===e.side?d.__("Show Right Activity Bar"):d.__("Show Left Activity Bar"),describedBy:{args:{type:"object",properties:{side:{type:"string",enum:["left","right"],description:d.__("The sidebar side")}},required:["side"]}},execute:e=>{"right"===e.side?o.toggleSideTabBarVisibility("right"):o.toggleSideTabBarVisibility("left")},isToggled:e=>"right"===e.side?o.isSideTabBarVisible("right"):o.isSideTabBarVisible("left"),isEnabled:e=>"right"===e.side?!o.isEmpty("right"):!o.isEmpty("left")}),l.addCommand(_.togglePresentationMode,{label:()=>d.__("Presentation Mode"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.presentationMode=!o.presentationMode},isToggled:()=>o.presentationMode,isVisible:()=>!0}),l.addCommand(_.toggleFullscreenMode,{label:d.__("Fullscreen Mode"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{null===document.fullscreenElement||void 0===document.fullscreenElement?document.documentElement.requestFullscreen().catch(e=>{console.error("Failed to enter fullscreen mode.",e)}):null!==document.fullscreenElement&&document.exitFullscreen().catch(e=>{console.error("Failed to exit fullscreen mode.",e)})},isToggled:()=>null!==document.fullscreenElement}),l.addCommand(_.setMode,{label:e=>e.mode?d.__("Set %1 mode.",e.mode):d.__("Set the layout `mode`."),caption:d.__('The layout `mode` can be "single-document" or "multiple-document".'),describedBy:{args:{type:"object",properties:{mode:{type:"string",enum:["single-document","multiple-document"],description:d.__("The layout mode")}},required:["mode"]}},isVisible:e=>{const t=e.mode;return"single-document"===t||"multiple-document"===t},execute:e=>{const t=e.mode;if("single-document"!==t&&"multiple-document"!==t)throw new Error(`Unsupported application shell mode: ${t}`);o.mode=t}}),l.addCommand(_.toggleMode,{label:d.__("Simple Interface"),describedBy:{args:{type:"object",properties:{}}},isToggled:()=>"single-document"===o.mode,execute:()=>{const e="multiple-document"===o.mode?{mode:"single-document"}:{mode:"multiple-document"};return l.execute(_.setMode,e)}}),l.addCommand(_.resetLayout,{label:d.__("Reset Default Layout"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.presentationMode&&l.execute(_.togglePresentationMode).catch(e=>{console.error("Failed to undo presentation mode.",e)}),null===document.fullscreenElement&&void 0===document.fullscreenElement||l.execute(_.toggleFullscreenMode).catch(e=>{console.error("Failed to exit fullscreen mode.",e)}),"single-document"!==o.mode||o.isTopInSimpleModeVisible()||l.execute(_.toggleHeader).catch(e=>{console.error("Failed to display title header.",e)}),["left","right"].forEach(e=>{o.isSideTabBarVisible(e)||o.isEmpty(e)||l.execute(_.toggleSideTabBar,{side:e}).catch(t=>{console.error(`Failed to show ${e} activity bar.`,t)})})}})),i&&([_.activateNextTab,_.activatePreviousTab,_.activateNextTabBar,_.activatePreviousTabBar,_.close,_.closeAll,_.closeOtherTabs,_.closeRightTabs,_.toggleHeader,_.toggleLeftArea,_.toggleRightArea,_.togglePresentationMode,_.toggleFullscreenMode,_.toggleMode,_.resetLayout].forEach(e=>i.addItem({command:e,category:c})),["right","left"].forEach(e=>{i.addItem({command:_.toggleSideTabBar,category:c,args:{side:e}})}))}},S={id:"@jupyterlab/application-extension:main",description:"Initializes the application and provides the URL tree path handler.",requires:[a.IRouter,i.IWindowResolver,c.ITranslator,a.JupyterFrontEnd.ITreeResolver],optional:[a.IConnectionLost],provides:a.ITreePathUpdater,activate:(e,t,o,r,l,s)=>{const d=r.load("jupyterlab");if(!(e instanceof a.JupyterLab))throw new Error(`${S.id} must be activated in JupyterLab.`);let c="",u="";const p=o.name;if(console.debug(`Starting application in workspace: "${p}"`),0!==e.registerPluginErrors.length){const t=y.createElement("pre",null,e.registerPluginErrors.map(e=>e.message).join("\n"));(0,i.showErrorMessage)(d.__("Error Registering Plugins"),{message:t})}e.shell.modeChanged.connect((e,o)=>{const a=n.PageConfig.getUrl({mode:o}),i=n.URLExt.parse(a).pathname;t.navigate(i,{skipRouting:!0}),n.PageConfig.setOption("mode",o)}),l.paths.then(()=>{e.shell.currentPathChanged.connect((e,o)=>{const a=o.newValue,i=a||u,r=n.PageConfig.getUrl({treePath:i}),l=n.URLExt.parse(r).pathname;t.navigate(l,{skipRouting:!0}),n.PageConfig.setOption("treePath",i),c=a})}),s=s||a.ConnectionLost,e.serviceManager.connectionFailure.connect((e,t)=>s(e,t,r));const g=e.serviceManager.builder,m=()=>g.build().then(()=>(0,i.showDialog)({title:d.__("Build Complete"),body:y.createElement("div",null,d.__("Build successfully completed, reload page?"),y.createElement("br",null),d.__("You will lose any unsaved changes.")),buttons:[i.Dialog.cancelButton({label:d.__("Reload Without Saving"),actions:["reload"]}),i.Dialog.okButton({label:d.__("Save and Reload")})],hasClose:!0})).then(({button:{accept:o,actions:a}})=>{o?e.commands.execute("docmanager:save").then(()=>{t.reload()}).catch(e=>{(0,i.showErrorMessage)(d.__("Save Failed"),{message:y.createElement("pre",null,e.message)})}):a.includes("reload")&&t.reload()}).catch(e=>{(0,i.showErrorMessage)(d.__("Build Failed"),{message:y.createElement("pre",null,e.message)})});return g.isAvailable&&g.shouldCheck&&g.getStatus().then(e=>{if("building"===e.status)return m();if("needed"!==e.status)return;const t=y.createElement("div",null,d.__("JupyterLab build is suggested:"),y.createElement("br",null),y.createElement("pre",null,e.message));(0,i.showDialog)({title:d.__("Build Recommended"),body:t,buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:d.__("Build")})]}).then(e=>e.button.accept?m():void 0)}),function(e){l.paths.then(()=>{if(u=e,!c){const o=n.PageConfig.getUrl({treePath:e}),a=n.URLExt.parse(o).pathname;t.navigate(a,{skipRouting:!0}),n.PageConfig.setOption("treePath",e)}})}},autoStart:!0},T={id:"@jupyterlab/application-extension:context-menu",description:"Populates the context menu.",autoStart:!0,requires:[l.ISettingRegistry,c.ITranslator],optional:[i.ICommandPalette],activate:(e,t,o,a)=>{const i=o.load("jupyterlab");function n(t){const o=new u.RankedMenu({...t,commands:e.commands});return t.label&&(o.title.label=i.__(t.label)),o}e.started.then(()=>q.loadSettingsContextMenu(e.contextMenu,e.commands,t,n,o)).then(()=>{a&&(null==a||a.addItem({category:i.__("Settings"),command:_.toggleContextMenu}))}).catch(e=>{console.error("Failed to load context menu items from settings registry.",e)})}},w={id:"@jupyterlab/application-extension:dirty",description:"Adds safeguard dialog when closing the browser tab with unsaved modifications.",autoStart:!0,requires:[c.ITranslator],activate:(e,t)=>{if(!(e instanceof a.JupyterLab))throw new Error(`${w.id} must be activated in JupyterLab.`);const o=t.load("jupyterlab").__("Are you sure you want to exit JupyterLab?\n\nAny unsaved changes will be lost.");window.addEventListener("beforeunload",t=>{if(e.status.isDirty)return t.returnValue=o})}},I={id:"@jupyterlab/application-extension:layout",description:"Provides the shell layout restorer.",requires:[s.IStateDB,a.ILabShell,l.ISettingRegistry],optional:[c.ITranslator],activate:(e,t,o,r,l)=>{const s=(null!=l?l:c.nullTranslator).load("jupyterlab"),d=e.started,u=e.commands,p=n.PageConfig.getOption("mode"),m=new a.LayoutRestorer({connector:t,first:d,registry:u,mode:p});return r.load(P.id).then(t=>{var a,i;const n=t.composite.layout;o.restoreLayout(p,m,{"multiple-document":null!==(a=n.multiple)&&void 0!==a?a:{},"single-document":null!==(i=n.single)&&void 0!==i?i:{}}).then(()=>{o.layoutModified.connect(()=>{m.save(o.saveLayout())}),t.changed.connect(b),q.activateSidebarSwitcher(e,o,t,s)})}).catch(e=>{console.error("Fail to load settings for the layout restorer."),console.error(e)}),m;async function b(e){g.JSONExt.deepEqual(e.composite.layout,{single:o.userLayout["single-document"],multiple:o.userLayout["multiple-document"]})||(await(0,i.showDialog)({title:s.__("Information"),body:s.__("User layout customization has changed. You may need to reload JupyterLab to see the changes."),buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:s.__("Reload")})]})).button.accept&&location.reload()}},autoStart:!0,provides:a.ILayoutRestorer},E={id:"@jupyterlab/application-extension:router",description:"Provides the URL router",requires:[a.JupyterFrontEnd.IPaths],activate:(e,t)=>{const{commands:o}=e,i=t.urls.base,n=new a.Router({base:i,commands:o});return e.started.then(()=>{n.route(),window.addEventListener("popstate",()=>{n.route()})}),n},autoStart:!0,provides:a.IRouter},C={id:"@jupyterlab/application-extension:tree-resolver",description:"Provides the tree route resolver",autoStart:!0,requires:[a.IRouter],optional:[c.ITranslator],provides:a.JupyterFrontEnd.ITreeResolver,activate:(e,t,o)=>{const a=(null!=o?o:c.nullTranslator).load("jupyterlab"),{commands:i}=e,r=new b.DisposableSet,l=new g.PromiseDelegate,s=new RegExp("/(lab|doc)(/workspaces/[a-zA-Z0-9-_]+)?(/tree/.*)?");r.add(i.addCommand(_.tree,{describedBy:{args:{type:"object",properties:{search:{type:"string",description:a.__("The URL search string containing query parameters")}}}},execute:async e=>{var t;if(r.isDisposed)return;const o=n.URLExt.queryStringToObject(null!==(t=e.search)&&void 0!==t?t:""),a=o["file-browser-path"]||"";delete o["file-browser-path"],r.dispose(),l.resolve({browser:a,file:n.PageConfig.getOption("treePath")})}})),r.add(t.register({command:_.tree,pattern:s}));const d=()=>{r.isDisposed||(r.dispose(),l.resolve(null))};return t.routed.connect(d),r.add(new b.DisposableDelegate(()=>{t.routed.disconnect(d)})),{paths:l.promise}}},B={id:"@jupyterlab/application-extension:notfound",description:"Defines the behavior for not found URL (aka route).",requires:[a.JupyterFrontEnd.IPaths,a.IRouter,c.ITranslator],activate:(e,t,o,a)=>{const n=a.load("jupyterlab"),r=t.urls.notFound;if(!r)return;const l=o.base,s=n.__("The path: %1 was not found. JupyterLab redirected to: %2",r,l);o.navigate(""),(0,i.showErrorMessage)(n.__("Path Not Found"),{message:s})},autoStart:!0},j={id:"@jupyterlab/application-extension:faviconbusy",description:"Handles the favicon depending on the application status.",requires:[a.ILabStatus],activate:async(e,t)=>{t.busySignal.connect((e,t)=>{const o=document.querySelector('link[rel="icon"]'+(t?".idle.favicon":".busy.favicon"));if(!o)return;const a=document.querySelector("link"+(t?".busy.favicon":".idle.favicon"));a&&o!==a&&(o.rel="",a.rel="icon",a.parentNode.replaceChild(a,a))})},autoStart:!0},P={id:"@jupyterlab/application-extension:shell",description:"Provides the JupyterLab shell. It has an extended API compared to `app.shell`.",optional:[l.ISettingRegistry],activate:(e,t)=>{if(!(e.shell instanceof a.LabShell))throw new Error(`${P.id} did not find a LabShell instance.`);return t&&t.load(P.id).then(t=>{e.shell.updateConfig(t.composite),t.changed.connect(()=>{e.shell.updateConfig(t.composite)})}),e.shell},autoStart:!0,provides:a.ILabShell},L={id:"@jupyterlab/application-extension:status",description:"Provides the application status.",activate:e=>{if(!(e instanceof a.JupyterLab))throw new Error(`${L.id} must be activated in JupyterLab.`);return e.status},autoStart:!0,provides:a.ILabStatus},R={id:"@jupyterlab/application-extension:info",description:"Provides the application information.",activate:e=>{if(!(e instanceof a.JupyterLab))throw new Error(`${R.id} must be activated in JupyterLab.`);return e.info},autoStart:!0,provides:a.JupyterLab.IInfo},M={id:"@jupyterlab/application-extension:paths",description:"Provides the application paths.",activate:e=>{if(!(e instanceof a.JupyterLab))throw new Error(`${M.id} must be activated in JupyterLab.`);return e.paths},autoStart:!0,provides:a.JupyterFrontEnd.IPaths},A={id:"@jupyterlab/application-extension:property-inspector",description:"Provides the property inspector.",autoStart:!0,requires:[a.ILabShell,c.ITranslator],optional:[a.ILayoutRestorer],provides:r.IPropertyInspectorProvider,activate:(e,t,o,a)=>{const i=o.load("jupyterlab"),n=new r.SideBarPropertyInspectorProvider({shell:t,translator:o});return n.title.icon=u.buildIcon,n.title.caption=i.__("Property Inspector"),n.id="jp-property-inspector",t.add(n,"right",{rank:100,type:"Property Inspector"}),e.commands.addCommand(_.showPropertyPanel,{label:i.__("Property Inspector"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{t.activateById(n.id)}}),a&&a.add(n,"jp-property-inspector"),n}},k={id:"@jupyterlab/application-extension:logo",description:"Sets the application logo.",autoStart:!0,requires:[a.ILabShell],activate:(e,t)=>{const o=new h.Widget;u.jupyterIcon.element({container:o.node,elementPosition:"center",margin:"2px 2px 2px 8px",height:"auto",width:"16px"}),o.id="jp-MainLogo",t.add(o,"top",{rank:0})}},F={id:"@jupyterlab/application-extension:mode-switch",description:"Adds the interface mode switch",requires:[a.ILabShell,c.ITranslator],optional:[d.IStatusBar,l.ISettingRegistry],activate:(e,t,o,a,i)=>{if(null===a)return;const n=o.load("jupyterlab"),r=new u.Switch;if(r.id="jp-single-document-mode",r.valueChanged.connect((e,o)=>{t.mode=o.newValue?"single-document":"multiple-document"}),t.modeChanged.connect((e,t)=>{r.value="single-document"===t}),i){const o=i.load(P.id),a=e=>{const o=e.get("startMode").composite;o&&(t.mode="single"===o?"single-document":"multiple-document")};Promise.all([o,e.restored]).then(([e])=>{a(e)}).catch(e=>{console.error(e.message)})}const l=()=>{const t=e.commands.keyBindings.find(e=>"application:toggle-mode"===e.command);if(t){const e=t.keys.map(m.CommandRegistry.formatKeystroke).join(", ");r.caption=n.__("Simple Interface (%1)",e)}else r.caption=n.__("Simple Interface")};l(),e.commands.keyBindingChanged.connect(()=>{l()}),r.label=n.__("Simple"),a.registerStatusItem(F.id,{priority:1,item:r,align:"left",rank:-1})},autoStart:!0},J=[T,w,S,x,I,E,C,B,j,P,L,R,F,M,A,k,v];var q;!function(e){async function t(e){(await(0,i.showDialog)({title:e.__("Information"),body:e.__("Context menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsContextMenu=async function(e,o,a,n,r){var s;const d=r.load("jupyterlab"),c=T.id;let u=null,p={};function m(e){var t,o;p={};const i=Object.keys(a.plugins).map(e=>{var t,o;const i=null!==(o=null===(t=a.plugins[e].schema["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==o?o:[];return p[e]=i,i}).concat([null!==(o=null===(t=e["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==o?o:[]]).reduceRight((e,t)=>l.SettingRegistry.reconcileItems(e,t,!0),[]);e.properties.contextMenu.default=l.SettingRegistry.reconcileItems(i,e.properties.contextMenu.default,!0).sort((e,t)=>{var o,a;return(null!==(o=e.rank)&&void 0!==o?o:1/0)-(null!==(a=t.rank)&&void 0!==a?a:1/0)})}a.transform(c,{compose:e=>{var t,o,a,i;u||(u=g.JSONExt.deepCopy(e.schema),m(u));const n=null!==(a=null===(o=null===(t=u.properties)||void 0===t?void 0:t.contextMenu)||void 0===o?void 0:o.default)&&void 0!==a?a:[],r={...e.data.user,contextMenu:null!==(i=e.data.user.contextMenu)&&void 0!==i?i:[]},s={...e.data.composite,contextMenu:l.SettingRegistry.reconcileItems(n,r.contextMenu,!1)};return e.data={composite:s,user:r},e},fetch:e=>(u||(u=g.JSONExt.deepCopy(e.schema),m(u)),{data:e.data,id:e.id,raw:e.raw,schema:u,version:e.version})});const b=await a.load(c),h=e=>{const t=document.body,o=t.hasAttribute("data-jp-suppress-context-menu"),a=e.get("disabled").composite;o&&!a?t.removeAttribute("data-jp-suppress-context-menu"):a&&!o&&t.setAttribute("data-jp-suppress-context-menu","true")},y=null!==(s=b.composite.contextMenu)&&void 0!==s?s:[];l.SettingRegistry.filterDisabledItems(y).forEach(t=>{i.MenuFactory.addContextItem({rank:f,...t},e,n)}),b.changed.connect(()=>{var e;const o=null!==(e=b.composite.contextMenu)&&void 0!==e?e:[];g.JSONExt.deepEqual(y,o)||t(d),h(b)}),a.pluginChanged.connect(async(o,r)=>{var s,u,m,b;if(r!==c){const o=null!==(s=p[r])&&void 0!==s?s:[],c=null!==(m=null===(u=a.plugins[r].schema["jupyter.lab.menus"])||void 0===u?void 0:u.context)&&void 0!==m?m:[];if(!g.JSONExt.deepEqual(o,c))if(p[r])await t(d);else{p[r]=g.JSONExt.deepCopy(c);const t=null!==(b=l.SettingRegistry.reconcileItems(c,y,!1,!1))&&void 0!==b?b:[];l.SettingRegistry.filterDisabledItems(t).forEach(t=>{i.MenuFactory.addContextItem({rank:f,...t},e,n)})}}}),h(b),o.addCommand(_.toggleContextMenu,{label:d.__("Enable Context Menu"),describedBy:{args:{type:"object",properties:{}}},isToggleable:!0,isToggled:()=>!b.get("disabled").composite,execute:()=>{b.set("disabled",!b.get("disabled").composite)}})},e.activateSidebarSwitcher=function(e,t,o,a){e.commands.addCommand(_.switchSidebar,{label:a.__("Switch Sidebar Side"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const a=e.contextMenuHitTest(e=>!!e.dataset.id);if(!a)return;const i=a.dataset.id,n=document.getElementById("jp-left-stack"),r=document.getElementById(i);let l=null;if(n&&r&&n.contains(r)){const e=(0,p.find)(t.widgets("left"),e=>e.id===i);e&&(l=t.move(e,"right"),t.activateById(e.id))}else{const e=(0,p.find)(t.widgets("right"),e=>e.id===i);e&&(l=t.move(e,"left"),t.activateById(e.id))}l&&o.set("layout",{single:l["single-document"],multiple:l["multiple-document"]}).catch(e=>{console.error("Failed to save user layout customization.",e)})}}),e.commands.commandExecuted.connect((e,t)=>{t.id===_.resetLayout&&o.remove("layout").catch(e=>{console.error("Failed to remove user layout customization.",e)})})}}(q||(q={}))}}]);