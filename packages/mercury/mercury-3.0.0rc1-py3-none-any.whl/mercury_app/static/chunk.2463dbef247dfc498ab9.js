"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[7251],{49632(e,t,n){n.r(t),n.d(t,{ToolbarItems:()=>E,default:()=>j,downloadPlugin:()=>F,openBrowserTabPlugin:()=>W,pathStatusPlugin:()=>S,savingStatusPlugin:()=>T});var o,a,r=n(42597),i=n(61960),s=n(73475),l=n(4397),d=n(7101),c=n(88019),u=n(55199),p=n(28395),m=n(92410),g=n(55846),h=n(25884),v=n(12756),b=n(9521),f=n(73232),y=n(18387);!function(e){e.clearRecents="docmanager:clear-recents"}(o||(o={})),function(e){e.recentsManager="@jupyterlab/docmanager-extension:recents",e.reopenClosed="@jupyterlab/docmanager-extension:reopen-recently-closed",e.mainPlugin="@jupyterlab/docmanager-extension:plugin"}(a||(a={}));const w={id:a.recentsManager,description:"Provides a manager of recently opened and closed documents.",autoStart:!0,requires:[y.IStateDB],optional:[c.ISettingRegistry,p.ITranslator],provides:l.IRecentsManager,activate:(e,t,n,r)=>{const{serviceManager:i}=e,s=(null!=r?r:p.nullTranslator).load("jupyterlab"),d=new l.RecentsManager({stateDB:t,contents:i.contents}),c=e=>{d.maximalRecentsLength=e.get("maxNumberRecents").composite};return n&&Promise.all([e.restored,n.load(a.mainPlugin)]).then(([e,t])=>{t.changed.connect(c),c(t)}),e.commands.addCommand(o.clearRecents,{execute:()=>{d.clearRecents()},isEnabled:()=>0!=d.recentlyOpened.length||0!=d.recentlyClosed.length,label:s.__("Clear Recent Documents"),caption:s.__("Clear the list of recently opened items."),describedBy:{args:{type:"object",properties:{}}}}),d}};var _;!function(e){e.clone="docmanager:clone",e.deleteFile="docmanager:delete-file",e.newUntitled="docmanager:new-untitled",e.open="docmanager:open",e.openBrowserTab="docmanager:open-browser-tab",e.reload="docmanager:reload",e.rename="docmanager:rename",e.del="docmanager:delete",e.duplicate="docmanager:duplicate",e.restoreCheckpoint="docmanager:restore-checkpoint",e.save="docmanager:save",e.saveAll="docmanager:save-all",e.saveAs="docmanager:save-as",e.download="docmanager:download",e.toggleAutosave="docmanager:toggle-autosave",e.showInFileBrowser="docmanager:show-in-file-browser"}(_||(_={}));const C="@jupyterlab/docmanager-extension:plugin",x={id:"@jupyterlab/docmanager-extension:opener",description:"Provides the widget opener.",autoStart:!0,provides:l.IDocumentWidgetOpener,activate:e=>{const{shell:t}=e;return new class{constructor(){this._opened=new v.Signal(this)}open(e,n){var o;e.id||(e.id="document-manager-"+ ++M.id),e.title.dataset={type:"document-title",...e.title.dataset},e.isAttached||t.add(e,"main",n||{}),(null===(o=null==n?void 0:n.activate)||void 0===o||o)&&t.activateById(e.id),this._opened.emit(e)}get opened(){return this._opened}}}},D={id:"@jupyterlab/docmanager-extension:contexts",description:"Adds the handling of opened documents dirty state.",autoStart:!0,requires:[l.IDocumentManager,l.IDocumentWidgetOpener],optional:[r.ILabStatus],activate:(e,t,n,o)=>{const a=new WeakSet;n.opened.connect((e,n)=>{const r=t.contextForWidget(n);r&&!a.has(r)&&(o&&function(e,t){let n=null;const o=(t,o)=>{"dirty"===o.name&&(!0===o.newValue?n||(n=e.setDirty()):n&&(n.dispose(),n=null))};t.ready.then(()=>{t.model.stateChanged.connect(o),t.model.dirty&&(n=e.setDirty())}),t.disposed.connect(()=>{n&&n.dispose()})}(o,r),a.add(r))})}},k={id:"@jupyterlab/docmanager-extension:manager",description:"Provides the document manager.",provides:l.IDocumentManager,requires:[l.IDocumentWidgetOpener],optional:[p.ITranslator,r.ILabStatus,i.ISessionContextDialogs,r.JupyterLab.IInfo,l.IRecentsManager,d.IUrlResolverFactory,l.IDocumentManagerDialogs],activate:(e,t,n,o,a,r,s,d,c)=>{var u;const{serviceManager:m,docRegistry:g}=e,h=null!=n?n:p.nullTranslator,v=null!=a?a:new i.SessionContextDialogs({translator:h}),b=null!=c?c:new l.DocumentManagerDialogs({translator:h}),f=e.restored.then(()=>{});return new l.DocumentManager({registry:g,manager:m,opener:t,when:f,setBusy:null!==(u=o&&(()=>o.setBusy()))&&void 0!==u?u:void 0,sessionDialogs:v,translator:null!=h?h:p.nullTranslator,isConnectedCallback:()=>!r||r.isConnected,recentsManager:null!=s?s:void 0,urlResolverFactory:null!=d?d:void 0,docManagerDialogs:b})}},I={id:C,description:"Adds commands and settings to the document manager.",autoStart:!0,requires:[l.IDocumentManager,l.IDocumentWidgetOpener,c.ISettingRegistry],optional:[p.ITranslator,i.ICommandPalette,r.ILabShell,l.IDocumentManagerDialogs],activate:(e,t,n,o,a,r,d,c)=>{const u=(a=null!=a?a:p.nullTranslator).load("jupyterlab"),v=e.docRegistry;!function(e,t,n,o,a,r,d,c){var u;const p=a.load("jupyterlab"),{commands:h,shell:v}=e,b=p.__("File Operations"),f=()=>{const{currentWidget:e}=v;return!(!e||!t.contextForWidget(e))},y=()=>{var e;const{currentWidget:n}=v;if(!n)return!1;const o=t.contextForWidget(n);return!!(null===(e=null==o?void 0:o.contentsModel)||void 0===e?void 0:e.writable)},w=e=>i.Notification.warning(p.__('%1 is read-only. Use "Save as…" instead.',e),{autoClose:5e3});r&&(c||(c=new l.DocumentManagerDialogs({translator:a})),function(e,t,n,o,a,r){const s=a.load("jupyterlab"),{commands:l}=e,d=()=>{var o;const a=/[Pp]ath:\s?(.*)\n?/,r=e.contextMenuHitTest(e=>{var t;return!!(null===(t=e.title)||void 0===t?void 0:t.match(a))}),i=null==r?void 0:r.title.match(a);return null!==(o=i&&t.findWidget(i[1],null))&&void 0!==o?o:n.currentWidget},c=()=>{const{currentWidget:e}=n;return!(!e||!t.contextForWidget(e))};l.addCommand(_.clone,{label:()=>s.__("New View for %1",A(d(),t)),isEnabled:c,execute:e=>{const n=d(),a=e.options||{mode:"split-right"};if(!n)return;const r=t.cloneWidget(n);r&&o.open(r,a)},describedBy:{args:{type:"object",properties:{options:{type:"object",description:s.__("Options for opening the cloned document")}}}}}),l.addCommand(_.rename,{label:()=>{let e=A(d(),t);return e&&(e=" "+e),s.__("Rename%1…",e)},isEnabled:c,execute:()=>{if(c()){const e=t.contextForWidget(d());return r.rename(e)}},describedBy:{args:{type:"object",properties:{}}}}),l.addCommand(_.duplicate,{label:()=>s.__("Duplicate %1",A(d(),t)),isEnabled:c,execute:()=>{if(c()){const e=t.contextForWidget(d());if(!e)return;return t.duplicate(e.path)}},describedBy:{args:{type:"object",properties:{}}}}),l.addCommand(_.del,{label:()=>s.__("Delete %1",A(d(),t)),isEnabled:c,execute:async()=>{if(c()){const n=t.contextForWidget(d());if(!n)return;(await(0,i.showDialog)({title:s.__("Delete"),body:s.__("Are you sure you want to delete %1",n.path),buttons:[i.Dialog.cancelButton(),i.Dialog.warnButton({label:s.__("Delete")})]})).button.accept&&await e.commands.execute("docmanager:delete-file",{path:n.path})}},describedBy:{args:{type:"object",properties:{}}}}),l.addCommand(_.showInFileBrowser,{label:()=>s.__("Show in File Browser"),isEnabled:c,execute:async()=>{const e=d(),n=e&&t.contextForWidget(e);n&&(await l.execute("filebrowser:activate",{path:n.path}),await l.execute("filebrowser:go-to-path",{path:n.path}))},describedBy:{args:{type:"object",properties:{}}}}),n.currentChanged.connect(()=>{[_.clone,_.rename,_.duplicate,_.del,_.showInFileBrowser].forEach(t=>{e.commands.notifyCommandChanged(t)})})}(e,t,r,n,a,c)),h.addCommand(_.deleteFile,{label:()=>`Delete ${A(v.currentWidget,t)}`,describedBy:{args:{type:"object",properties:{path:{type:"string",description:"The path of the file to delete"}},required:["path"]}},execute:e=>{const n=void 0===e.path?"":e.path;if(!n){const e=_.deleteFile;throw new Error(`A non-empty path is required for ${e}.`)}return t.deleteFile(n)}}),h.addCommand(_.newUntitled,{execute:async e=>{const n=e.error||p.__("Error"),o=void 0===e.path?"":e.path,a={type:e.type,path:o};return"file"===e.type&&(a.ext=e.ext||".txt"),t.services.contents.newUntitled(a).catch(e=>(0,i.showErrorMessage)(n,e))},label:e=>e.label||`New ${e.type}`,describedBy:{args:{type:"object",properties:{error:{type:"string",description:"The error title to display"},path:{type:"string",description:"The path where to create the file"},type:{type:"string",description:"The type of content to create",enum:["file","directory","notebook"]},ext:{type:"string",description:"The file extension (for file type)"},label:{type:"string",description:"The label for the command"}}}}}),h.addCommand(_.open,{execute:async e=>{const n=void 0===e.path?"":e.path,o=e.factory||void 0,a=null==e?void 0:e.kernel,r=null==e?void 0:e.kernelPreference,i=e.options||void 0;return t.services.contents.get(n,{content:!1}).then(()=>t.openOrReveal(n,o,a,i,r))},iconClass:e=>e.icon||"",label:e=>{var t;return null!==(t=e.label||e.factory)&&void 0!==t?t:p.__("Open the provided `path`.")},mnemonic:e=>e.mnemonic||-1,describedBy:{args:{type:"object",properties:{path:{type:"string",description:"The path of the file to open"},factory:{type:"string",description:"The widget factory name"},kernel:{type:"object",description:"The kernel model to use"},kernelPreference:{type:"object",description:"Override kernel preferences, see [`IKernelPreference`](https://jupyterlab.readthedocs.io/en/stable/api/interfaces/apputils.ISessionContext.IKernelPreference.html) for possible values"},options:{type:"object",description:"Additional options for opening"},icon:{type:"string",description:"The icon class for the command"},label:{type:"string",description:"The label for the command"},mnemonic:{type:"number",description:"The mnemonic index for the command"}}}}}),h.addCommand(_.reload,{label:()=>p.__("Reload %1 from Disk",A(v.currentWidget,t)),caption:p.__("Reload contents from disk"),isEnabled:f,describedBy:{args:{type:"object",properties:{}}},execute:()=>{if(!f())return;const e=t.contextForWidget(v.currentWidget),n=A(v.currentWidget,t);return e?e.model.dirty?(0,i.showDialog)({title:p.__("Reload %1 from Disk",n),body:p.__("Are you sure you want to reload the %1 from the disk?",n),buttons:[i.Dialog.cancelButton(),i.Dialog.warnButton({label:p.__("Reload")})]}).then(t=>{if(t.button.accept&&!e.isDisposed)return e.revert()}):e.isDisposed?void 0:e.revert():(0,i.showDialog)({title:p.__("Cannot Reload"),body:p.__("No context found for current widget!"),buttons:[i.Dialog.okButton()]})}}),h.addCommand(_.restoreCheckpoint,{label:()=>p.__("Revert %1 to Checkpoint…",A(v.currentWidget,t)),caption:p.__("Revert contents to previous checkpoint"),isEnabled:f,describedBy:{args:{type:"object",properties:{}}},execute:()=>{if(!f())return;const e=t.contextForWidget(v.currentWidget);return e?e.listCheckpoints().then(async n=>{const o=A(v.currentWidget,t);if(n.length<1)return void await(0,i.showErrorMessage)(p.__("No checkpoints"),p.__("No checkpoints are available for this %1.",o));const a=1===n.length?n[0]:await M.getTargetCheckpoint(n.reverse(),p);return a?(0,i.showDialog)({title:p.__("Revert %1 to checkpoint",o),body:new R(a,p,o),buttons:[i.Dialog.cancelButton(),i.Dialog.warnButton({label:p.__("Revert"),ariaLabel:p.__("Revert to Checkpoint")})]}).then(t=>{if(!e.isDisposed)return t.button.accept?e.model.readOnly?e.revert():e.restoreCheckpoint(a.id).then(()=>e.revert()):void 0}):void 0}):(0,i.showDialog)({title:p.__("Cannot Revert"),body:p.__("No context found for current widget!"),buttons:[i.Dialog.okButton()]})}});const x=new WeakSet;h.addCommand(_.save,{label:()=>p.__("Save %1",A(v.currentWidget,t)),caption:()=>v.currentWidget&&!y()?p.__('Document is read-only. "Save" is disabled; use "Save as…" instead'):p.__("Save and create checkpoint"),icon:e=>e.toolbar?m.saveIcon:void 0,isEnabled:e=>e._luminoEvent&&"keybinding"===e._luminoEvent.type||y(),describedBy:{args:{type:"object",properties:{toolbar:{type:"boolean",description:"Whether executed from toolbar"},_luminoEvent:{type:"object",description:"The lumino event object"}}}},execute:async e=>{var n,a,r,l,d;const c=v.currentWidget,u=t.contextForWidget(c);if(f()){if(!u)return(0,i.showDialog)({title:p.__("Cannot Save"),body:p.__("No context found for current widget!"),buttons:[i.Dialog.okButton()]});{if(x.has(u))return;if(!(null===(n=u.contentsModel)||void 0===n?void 0:n.writable)){let t=null===(a=e._luminoEvent)||void 0===a?void 0:a.type;return e._luminoEvent&&"keybinding"===t?void w(u.path):(0,i.showDialog)({title:p.__("Cannot Save"),body:p.__("Document is read-only"),buttons:[i.Dialog.okButton()]})}x.add(u);const m=s.PathExt.basename(null!==(l=null===(r=u.contentsModel)||void 0===r?void 0:r.path)&&void 0!==l?l:"");let g=m;if(t.renameUntitledFileOnSave&&!0===c.isUntitled){const e=await i.InputDialog.getText({title:p.__("Rename file"),okLabel:p.__("Rename and Save"),placeholder:p.__("File name"),text:m,selectionRange:m.length-s.PathExt.extname(m).length,checkbox:{label:p.__("Do not ask for rename on first save."),caption:p.__("If checked, you will not be asked to rename future untitled files when saving them.")}});if(e.button.accept&&(g=null!==(d=e.value)&&void 0!==d?d:m,c.isUntitled=!1,"boolean"==typeof e.isChecked)){const t=(await o.get(C,"renameUntitledFileOnSave")).composite;e.isChecked===t&&o.set(C,"renameUntitledFileOnSave",!e.isChecked).catch(e=>{console.error(`Fail to set 'renameUntitledFileOnSave:\n${e}`)})}}try{await u.save(),g!==m&&await u.rename(g),(null==c?void 0:c.isDisposed)||await u.createCheckpoint()}catch(e){if("ModalCancelError"===e.name)return;throw e}finally{x.delete(u)}}}}}),h.addCommand(_.saveAll,{label:()=>p.__("Save All"),caption:p.__("Save all open documents"),isEnabled:()=>(0,g.some)(v.widgets("main"),e=>{var n,o,a;return null!==(a=null===(o=null===(n=t.contextForWidget(e))||void 0===n?void 0:n.contentsModel)||void 0===o?void 0:o.writable)&&void 0!==a&&a}),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const n=[],o=new Set;for(const a of v.widgets("main")){const r=t.contextForWidget(a);r&&!o.has(r.path)&&((null===(e=r.contentsModel)||void 0===e?void 0:e.writable)?(o.add(r.path),n.push(r.save())):w(r.path))}return Promise.all(n)}}),h.addCommand(_.saveAs,{label:()=>p.__("Save %1 As…",A(v.currentWidget,t)),caption:p.__("Save with new path"),isEnabled:f,describedBy:{args:{type:"object",properties:{}}},execute:()=>{if(f()){const e=t.contextForWidget(v.currentWidget);if(!e)return(0,i.showDialog)({title:p.__("Cannot Save"),body:p.__("No context found for current widget!"),buttons:[i.Dialog.okButton()]});const n=(n,o)=>{"save"===o.type&&o.newValue&&o.newValue.path!==e.path&&(t.closeFile(e.path),h.execute(_.open,{path:o.newValue.path}))};t.services.contents.fileChanged.connect(n),e.saveAs().finally(()=>t.services.contents.fileChanged.disconnect(n))}}}),null===(u=e.shell.currentChanged)||void 0===u||u.connect(()=>{[_.reload,_.restoreCheckpoint,_.save,_.saveAll,_.saveAs].forEach(t=>{e.commands.notifyCommandChanged(t)})}),h.addCommand(_.toggleAutosave,{label:p.__("Autosave Documents"),isToggled:()=>t.autosave,execute:()=>{const e=!t.autosave,n="autosave";return o.set(C,n,e).catch(e=>{console.error(`Failed to set ${C}:${n} - ${e.message}`)})},describedBy:{args:{type:"object",properties:{}}}}),d&&[_.reload,_.restoreCheckpoint,_.save,_.saveAs,_.toggleAutosave,_.duplicate].forEach(e=>{d.addItem({command:e,category:b})})}(e,t,n,o,a,d,r,c);const b=n=>{const o=n.get("autosave").composite;t.autosave=!0!==o&&!1!==o||o,e.commands.notifyCommandChanged(_.toggleAutosave);const a=n.get("confirmClosingDocument").composite;t.confirmClosingDocument=null==a||a;const r=n.get("autosaveInterval").composite;t.autosaveInterval=r||120;const i=n.get("lastModifiedCheckMargin").composite;t.lastModifiedCheckMargin=i||500;const s=n.get("renameUntitledFileOnSave").composite;t.renameUntitledFileOnSave=null==s||s;const l=n.get("defaultViewers").composite,d={};Object.keys(l).forEach(e=>{v.getFileType(e)?(v.getWidgetFactory(l[e])||console.warn(`Document viewer ${l[e]} not found`),d[e]=l[e]):console.warn(`File Type ${e} not found`)});for(const e of v.fileTypes())try{v.setDefaultWidgetFactory(e.name,d[e.name])}catch(t){console.warn(`Failed to set default viewer ${d[e.name]} for file type ${e.name}`)}};Promise.all([o.load(C),e.restored]).then(([e])=>{e.changed.connect(b),b(e),t.stateChanged.connect((t,n)=>{["autosave","autosaveInterval","confirmClosingDocument","lastModifiedCheckMargin","renameUntitledFileOnSave"].includes(n.name)&&e.get(n.name).composite!==n.newValue&&e.set(n.name,n.newValue).catch(e=>{console.error(`Failed to set the setting '${n.name}':\n${e}`)})})}).catch(e=>{console.error(e.message)}),o.transform(C,{fetch:e=>{const t=Array.from(v.fileTypes()).map(e=>e.name).join("    \n"),n=Array.from(v.widgetFactories()).map(e=>e.name).join("    \n"),o=u.__('Overrides for the default viewers for file types.\nSpecify a mapping from file type name to document viewer name, for example:\n\ndefaultViewers: {\n  markdown: "Markdown Preview"\n}\n\nIf you specify non-existent file types or viewers, or if a viewer cannot\nopen a given file type, the override will not function.\n\nAvailable viewers:\n%1\n\nAvailable file types:\n%2',n,t),a=h.JSONExt.deepCopy(e.schema);return a.properties.defaultViewers.description=o,{...e,schema:a}}}),v.changed.connect(()=>o.load(C,!0))}},T={id:"@jupyterlab/docmanager-extension:saving-status",description:"Adds a saving status indicator.",autoStart:!0,requires:[l.IDocumentManager,r.ILabShell],optional:[p.ITranslator,u.IStatusBar],activate:(e,t,n,o,a)=>{if(!a)return;const r=new l.SavingStatus({docManager:t,translator:null!=o?o:p.nullTranslator});r.model.widget=n.currentWidget,n.currentChanged.connect(()=>{r.model.widget=n.currentWidget}),a.registerStatusItem(T.id,{item:r,align:"middle",isActive:()=>null!==r.model&&null!==r.model.status,activeStateChanged:r.model.stateChanged})}},S={id:"@jupyterlab/docmanager-extension:path-status",description:"Adds a file path indicator in the status bar.",autoStart:!0,requires:[l.IDocumentManager,r.ILabShell],optional:[u.IStatusBar],activate:(e,t,n,o)=>{if(!o)return;const a=new l.PathStatus({docManager:t});a.model.widget=n.currentWidget,n.currentChanged.connect(()=>{a.model.widget=n.currentWidget}),o.registerStatusItem(S.id,{item:a,align:"right",rank:0})}},F={id:"@jupyterlab/docmanager-extension:download",description:"Adds command to download files.",autoStart:!0,requires:[l.IDocumentManager],optional:[p.ITranslator,i.ICommandPalette],activate:(e,t,n,o)=>{var a;const r=(null!=n?n:p.nullTranslator).load("jupyterlab"),{commands:s,shell:l}=e,d=()=>{const{currentWidget:e}=l;return!(!e||!t.contextForWidget(e))};s.addCommand(_.download,{label:r.__("Download"),caption:r.__("Download the file to your computer"),isEnabled:d,describedBy:{args:{type:"object",properties:{}}},execute:()=>{if(d()){const e=t.contextForWidget(l.currentWidget);return e?e.download():(0,i.showDialog)({title:r.__("Cannot Download"),body:r.__("No context found for current widget!"),buttons:[i.Dialog.okButton()]})}}}),null===(a=e.shell.currentChanged)||void 0===a||a.connect(()=>{e.commands.notifyCommandChanged(_.download)});const c=r.__("File Operations");o&&o.addItem({command:_.download,category:c})}},W={id:"@jupyterlab/docmanager-extension:open-browser-tab",description:"Adds command to open a browser tab.",autoStart:!0,requires:[l.IDocumentManager],optional:[p.ITranslator],activate:(e,t,n)=>{const o=(null!=n?n:p.nullTranslator).load("jupyterlab"),{commands:a}=e;a.addCommand(_.openBrowserTab,{execute:e=>{const n=void 0===e.path?"":e.path;if(n)return t.services.contents.getDownloadUrl(n).then(e=>{const t=window.open();if(!t)throw new Error("Failed to open new browser tab.");t.opener=null,t.location.href=e})},iconClass:e=>e.icon||"",label:()=>o.__("Open in New Browser Tab"),describedBy:{args:{type:"object",properties:{path:{type:"string",description:o.__("The path of the file to open in browser tab")},icon:{type:"string",description:o.__("The icon class for the command")}},required:["path"]}}})}},B={id:"@jupyterlab/docmanager-extension:dialogs",description:"Provides default dialogs for document management operations.",autoStart:!0,provides:l.IDocumentManagerDialogs,requires:[p.ITranslator],activate:(e,t)=>new l.DocumentManagerDialogs({translator:t})},j=[k,I,D,S,T,F,W,x,w,B];var E,M;!function(e){e.createSaveButton=function(e,t){return(0,i.addCommandToolbarButtonClass)(i.ReactWidget.create(f.createElement(i.UseSignal,{signal:t},()=>f.createElement(i.CommandToolbarButtonComponent,{commands:e,id:_.save,label:"",args:{toolbar:!0}}))))}}(E||(E={}));class R extends b.Widget{constructor(e,t,n="notebook"){super({node:M.createRevertConfirmNode(e,n,t)})}}function A(e,t){if(!e)return"File";const n=t.contextForWidget(e);if(!n)return"";const o=t.registry.getFileTypesForPath(n.path);return o.length&&o[0].displayName?o[0].displayName:"File"}!function(e){e.id=0,e.createRevertConfirmNode=function(e,t,n){const o=document.createElement("div"),a=document.createElement("p"),r=document.createTextNode(n.__("Are you sure you want to revert the %1 to checkpoint? ",t)),i=document.createElement("strong");i.textContent=n.__("This cannot be undone."),a.appendChild(r),a.appendChild(i);const l=document.createElement("p"),d=document.createTextNode(n.__("The checkpoint was last updated at: ")),c=document.createElement("p"),u=new Date(e.last_modified);return c.style.textAlign="center",c.textContent=s.Time.format(u)+" ("+s.Time.formatHuman(u)+")",l.appendChild(d),l.appendChild(c),o.appendChild(a),o.appendChild(l),o},e.getTargetCheckpoint=async function(e,t){const n=e.map((e,t)=>`${t}. ${s.Time.format(e.last_modified)} (${s.Time.formatHuman(e.last_modified)})`),o=(await i.InputDialog.getItem({items:n,title:t.__("Choose a checkpoint")})).value;if(!o)return;const a=o.split(".",1)[0];return e[parseInt(a,10)]}}(M||(M={}))}}]);