{
  "permissions": {
    "allow": [
      "WebFetch(domain:jpx.gitbook.io)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebSearch",
      "Bash(python3 -m py_compile:*)",
      "Bash(pip install:*)",
      "Bash(python3:*)",
      "Bash(git init:*)",
      "Bash(gh repo create:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(curl:*)",
      "Bash(source .env)",
      "Bash(export JQUANTS_MAIL_ADDRESS JQUANTS_PASSWORD)",
      "Bash(git grep:*)",
      "Bash(grep:*)",
      "Bash(gh run:*)",
      "Bash(source:*)",
      "Bash(ruff check:*)",
      "Bash(mypy:*)",
      "Bash(uv run pytest:*)",
      "Bash(npx:*)",
      "Bash(uv run mkdocs build:*)",
      "Bash(uv run pip:*)",
      "Bash(uv pip install:*)",
      "Bash(uv run python:*)",
      "Bash(uv run ruff:*)",
      "Bash(uv run mypy:*)",
      "Bash(JQUANTS_API_KEY=\"v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8\" uv run python -c \"\nimport pyjquants as pjq\n\nprint\\(''Testing PyJQuants with real API...''\\)\nprint\\(''='' * 50\\)\n\n# Test 1: Ticker info\nprint\\(''\\\\n1. Ticker Info \\(Toyota 7203\\):''\\)\nticker = pjq.Ticker\\(''7203''\\)\nprint\\(f''   Name: {ticker.info.name}''\\)\nprint\\(f''   English: {ticker.info.name_english}''\\)\nprint\\(f''   Sector: {ticker.info.sector}''\\)\nprint\\(f''   Market: {ticker.info.market}''\\)\n\n# Test 2: Price history\nprint\\(''\\\\n2. Price History \\(last 5 days\\):''\\)\ndf = ticker.history\\(''7d''\\)\nprint\\(df[[''date'', ''open'', ''high'', ''low'', ''close'', ''volume'']].tail\\(\\)\\)\n\n# Test 3: Index\nprint\\(''\\\\n3. TOPIX Index:''\\)\ntopix = pjq.Index.topix\\(\\)\ndf_topix = topix.history\\(''5d''\\)\nprint\\(df_topix[[''date'', ''close'']].tail\\(\\)\\)\n\nprint\\(''\\\\n'' + ''='' * 50\\)\nprint\\(''âœ“ All tests passed! API key is working.''\\)\n\")",
      "Bash(JQUANTS_API_KEY=\"v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8\" uv run python -c \"\nimport requests\n\n# Raw API call to see actual response format\nheaders = {''x-api-key'': ''v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8''}\nresp = requests.get\\(''https://api.jquants.com/v2/equities/master'', params={''code'': ''7203''}, headers=headers\\)\nprint\\(''Status:'', resp.status_code\\)\nprint\\(''Response:''\\)\nimport json\nprint\\(json.dumps\\(resp.json\\(\\), indent=2, ensure_ascii=False\\)[:2000]\\)\n\")",
      "Bash(JQUANTS_API_KEY=\"v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8\" uv run python:*)",
      "Bash(JQUANTS_API_KEY=\"v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8\" uv run python -c \"\nimport requests\n\nheaders = {''x-api-key'': ''v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8''}\nbase = ''https://api.jquants.com/v2''\n\n# Try different possible sector endpoint paths\npaths = [\n    ''/markets/sectors'',\n    ''/listed/sectors'', \n    ''/listed/sectors17'',\n    ''/listed/sectors33'',\n    ''/equities/sectors'',\n    ''/equities/sectors/topix17'',\n    ''/equities/sectors/topix33'',\n]\n\nfor path in paths:\n    resp = requests.get\\(f''{base}{path}'', headers=headers\\)\n    print\\(f''{path}: {resp.status_code}''\\)\n    if resp.status_code == 200:\n        print\\(f''  SUCCESS! Response: {str\\(resp.json\\(\\)\\)[:200]}''\\)\n\")",
      "Bash(uv run:*)",
      "Bash(JQUANTS_API_KEY=\"v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8\" uv run python -c \"\nimport requests\n\n# Direct API call to check sector endpoints\nheaders = {''x-api-key'': ''v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8''}\n\nprint\\(''=== Direct API Endpoint Check ===''\\)\nprint\\(\\)\n\nendpoints = [\n    ''/markets/sectors/topix17'',\n    ''/markets/sectors/topix33'', \n    ''/markets/short-ratio'',\n    ''/equities/investor-types'',\n]\n\nfor ep in endpoints:\n    url = f''https://api.jquants.com/v2{ep}''\n    resp = requests.get\\(url, headers=headers\\)\n    print\\(f''{ep}: {resp.status_code}''\\)\n    if resp.status_code == 200:\n        data = resp.json\\(\\)\n        print\\(f''  Keys: {list\\(data.keys\\(\\)\\)}''\\)\n        if ''data'' in data:\n            print\\(f''  Items: {len\\(data[\"\"data\"\"]\\)}''\\)\nprint\\(\\)\n\n# Check trading calendar date format\nprint\\(''=== Trading Calendar Check ===''\\)\nurl = ''https://api.jquants.com/v2/markets/calendar''\nresp = requests.get\\(url, headers=headers, params={''from'': ''20260104'', ''to'': ''20260114''}\\)\nif resp.status_code == 200:\n    data = resp.json\\(\\)\n    for item in data.get\\(''data'', []\\)[:5]:\n        print\\(f''{item}''\\)\n\")",
      "Bash(uv build:*)",
      "Bash(JQUANTS_API_KEY=v9PvuW9TtOuFYSU4gNIEGXE4T45xqB8-fW9BKe8JnX8 python3:*)"
    ]
  }
}
