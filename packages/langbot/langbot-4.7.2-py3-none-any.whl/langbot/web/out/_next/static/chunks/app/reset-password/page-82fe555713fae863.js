(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{19854:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var n=r(88629);r(5329);var a=r(91573);function l(e){let{className:t,type:r,...l}=e;return(0,n.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...l})}},41430:(e,t,r)=>{"use strict";r.d(t,{U:()=>c});var n=r(88629);r(5329);var a=r(8170),l=r(95261),s=r(57642),o=r(87314),i=r(85702);function c(){let{theme:e,setTheme:t}=(0,o.D)();return(0,n.jsxs)(i.$,{variant:"outline",size:"icon",onClick:()=>t("light"===e?"dark":"dark"===e?"system":"light"),className:"h-9 w-9",children:["light"===e&&(0,n.jsx)(a.A,{className:"h-[1.2rem] w-[1.2rem]"}),"dark"===e&&(0,n.jsx)(l.A,{className:"h-[1.2rem] w-[1.2rem]"}),"system"===e&&(0,n.jsx)(s.A,{className:"h-[1.2rem] w-[1.2rem]"})]})}},44996:(e,t,r)=>{"use strict";r.d(t,{C5:()=>g,MJ:()=>v,Rr:()=>x,eI:()=>h,lR:()=>f,lV:()=>c,zB:()=>d});var n=r(88629),a=r(5329),l=r(89310),s=r(15659),o=r(91573),i=r(46900);let c=s.Op,u=a.createContext({}),d=e=>{let{...t}=e;return(0,n.jsx)(u.Provider,{value:{name:t.name},children:(0,n.jsx)(s.xI,{...t})})},p=()=>{let e=a.useContext(u),t=a.useContext(m),{getFieldState:r}=(0,s.xW)(),n=(0,s.lN)({name:e.name}),l=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...l}},m=a.createContext({});function h(e){let{className:t,...r}=e,l=a.useId();return(0,n.jsx)(m.Provider,{value:{id:l},children:(0,n.jsx)("div",{"data-slot":"form-item",className:(0,o.cn)("grid gap-2",t),...r})})}function f(e){let{className:t,...r}=e,{error:a,formItemId:l}=p();return(0,n.jsx)(i.J,{"data-slot":"form-label","data-error":!!a,className:(0,o.cn)("data-[error=true]:text-destructive",t),htmlFor:l,...r})}function v(e){let{...t}=e,{error:r,formItemId:a,formDescriptionId:s,formMessageId:o}=p();return(0,n.jsx)(l.DX,{"data-slot":"form-control",id:a,"aria-describedby":r?"".concat(s," ").concat(o):"".concat(s),"aria-invalid":!!r,...t})}function x(e){let{className:t,...r}=e,{formDescriptionId:a}=p();return(0,n.jsx)("p",{"data-slot":"form-description",id:a,className:(0,o.cn)("text-muted-foreground text-sm",t),...r})}function g(e){var t;let{className:r,...a}=e,{error:l,formMessageId:s}=p(),i=l?String(null!=(t=null==l?void 0:l.message)?t:""):a.children;return i?(0,n.jsx)("p",{"data-slot":"form-message",id:s,className:(0,o.cn)("text-destructive text-sm",r),...a,children:i}):null}},46900:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(88629);r(5329);var a=r(1567),l=r(91573);function s(e){let{className:t,...r}=e;return(0,n.jsx)(a.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},64896:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>H});var n=r(88629),a=r(85702),l=r(19854),s=r(16076),o=r(5329),i=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=o.createContext({}),v=o.forwardRef((e,t)=>{var r,n,a,l,s,{value:i,onChange:v,maxLength:b,textAlign:w="left",pattern:j,placeholder:y,inputMode:P="numeric",onComplete:k,pushPasswordManagerStrategy:C="increase-width",pasteTransformer:E,containerClassName:S,noScriptCSSFallback:N=g,render:M,children:R}=e,I=((e,t)=>{var r={};for(var n in e)p.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&d)for(var n of d(e))0>t.indexOf(n)&&m.call(e,n)&&(r[n]=e[n]);return r})(e,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[A,B]=o.useState("string"==typeof I.defaultValue?I.defaultValue:""),D=null!=i?i:A,T=function(e){let t=o.useRef();return o.useEffect(()=>{t.current=e}),t.current}(D),O=o.useCallback(e=>{null==v||v(e),B(e)},[v]),W=o.useMemo(()=>j?"string"==typeof j?new RegExp(j):j:null,[j]),_=o.useRef(null),F=o.useRef(null),z=o.useRef({value:D,onChange:O,isIOS:"undefined"!=typeof window&&(null==(n=null==(r=null==window?void 0:window.CSS)?void 0:r.supports)?void 0:n.call(r,"-webkit-touch-callout","none"))}),H=o.useRef({prev:[null==(a=_.current)?void 0:a.selectionStart,null==(l=_.current)?void 0:l.selectionEnd,null==(s=_.current)?void 0:s.selectionDirection]});o.useImperativeHandle(t,()=>_.current,[]),o.useEffect(()=>{let e=_.current,t=F.current;if(!e||!t)return;function r(){if(document.activeElement!==e){G(null),q(null);return}let t=e.selectionStart,r=e.selectionEnd,n=e.selectionDirection,a=e.maxLength,l=e.value,s=H.current.prev,o=-1,i=-1,c;if(0!==l.length&&null!==t&&null!==r){let e=t===r,n=t===l.length&&l.length<a;if(e&&!n){if(0===t)o=0,i=1,c="forward";else if(t===a)o=t-1,i=t,c="backward";else if(a>1&&l.length>1){let e=0;if(null!==s[0]&&null!==s[1]){c=t<s[1]?"backward":"forward";let r=s[0]===s[1]&&s[0]<a;"backward"!==c||r||(e=-1)}o=e+t,i=e+t+1}}-1!==o&&-1!==i&&o!==i&&_.current.setSelectionRange(o,i,c)}let u=-1!==o?o:t,d=-1!==i?i:r,p=null!=c?c:n;G(u),q(d),H.current.prev=[u,d,p]}if(z.current.value!==e.value&&z.current.onChange(e.value),H.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",r,{capture:!0}),r(),document.activeElement===e&&J(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";x(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),x(e.sheet,`[data-input-otp]:autofill { ${t} }`),x(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),x(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),x(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let n=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};n();let a=new ResizeObserver(n);return a.observe(e),()=>{document.removeEventListener("selectionchange",r,{capture:!0}),a.disconnect()}},[]);let[L,$]=o.useState(!1),[K,J]=o.useState(!1),[V,G]=o.useState(null),[U,q]=o.useState(null);o.useEffect(()=>{!function(e){setTimeout(e,0),setTimeout(e,10),setTimeout(e,50)}(()=>{var e,t,r,n;null==(e=_.current)||e.dispatchEvent(new Event("input"));let a=null==(t=_.current)?void 0:t.selectionStart,l=null==(r=_.current)?void 0:r.selectionEnd,s=null==(n=_.current)?void 0:n.selectionDirection;null!==a&&null!==l&&(G(a),q(l),H.current.prev=[a,l,s])})},[D,K]),o.useEffect(()=>{void 0!==T&&D!==T&&T.length<b&&D.length===b&&(null==k||k(D))},[b,k,T,D]);let Y=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[a,l]=o.useState(!1),[s,i]=o.useState(!1),[c,u]=o.useState(!1),d=o.useMemo(()=>"none"!==r&&("increase-width"===r||"experimental-no-flickering"===r)&&a&&s,[a,s,r]),p=o.useCallback(()=>{let n=e.current,a=t.current;if(!n||!a||c||"none"===r)return;let s=n.getBoundingClientRect().left+n.offsetWidth,o=n.getBoundingClientRect().top+n.offsetHeight/2;0===document.querySelectorAll('[data-lastpass-icon-root],com-1password-button,[data-dashlanecreated],[style$="2147483647 !important;"]').length&&document.elementFromPoint(s-18,o)===n||(l(!0),u(!0))},[e,t,c,r]);return o.useEffect(()=>{let t=e.current;if(!t||"none"===r)return;function n(){i(window.innerWidth-t.getBoundingClientRect().right>=40)}n();let a=setInterval(n,1e3);return()=>{clearInterval(a)}},[e,r]),o.useEffect(()=>{let e=n||document.activeElement===t.current;if("none"===r||!e)return;let a=setTimeout(p,0),l=setTimeout(p,2e3),s=setTimeout(p,5e3),o=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(a),clearTimeout(l),clearTimeout(s),clearTimeout(o)}},[t,n,r,p]),{hasPWMBadge:a,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:F,inputRef:_,pushPasswordManagerStrategy:C,isFocused:K}),Z=o.useCallback(e=>{let t=e.currentTarget.value.slice(0,b);if(t.length>0&&W&&!W.test(t))return void e.preventDefault();"string"==typeof T&&t.length<T.length&&document.dispatchEvent(new Event("selectionchange")),O(t)},[b,O,T,W]),X=o.useCallback(()=>{var e;if(_.current){let t=Math.min(_.current.value.length,b-1),r=_.current.value.length;null==(e=_.current)||e.setSelectionRange(t,r),G(t),q(r)}J(!0)},[b]),Q=o.useCallback(e=>{var t,r;let n=_.current;if(!E&&(!z.current.isIOS||!e.clipboardData||!n))return;let a=e.clipboardData.getData("text/plain"),l=E?E(a):a;e.preventDefault();let s=null==(t=_.current)?void 0:t.selectionStart,o=null==(r=_.current)?void 0:r.selectionEnd,i=(s!==o?D.slice(0,s)+l+D.slice(o):D.slice(0,s)+l+D.slice(s)).slice(0,b);if(i.length>0&&W&&!W.test(i))return;n.value=i,O(i);let c=Math.min(i.length,b-1),u=i.length;n.setSelectionRange(c,u),G(c),q(u)},[b,O,W,D]),ee=o.useMemo(()=>({position:"relative",cursor:I.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[I.disabled]),et=o.useMemo(()=>({position:"absolute",inset:0,width:Y.willPushPWMBadge?`calc(100% + ${Y.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Y.willPushPWMBadge?`inset(0 ${Y.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:w,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Y.PWM_BADGE_SPACE_WIDTH,Y.willPushPWMBadge,w]),er=o.useMemo(()=>o.createElement("input",c(((e,t)=>{for(var r in t||(t={}))p.call(t,r)&&h(e,r,t[r]);if(d)for(var r of d(t))m.call(t,r)&&h(e,r,t[r]);return e})({autoComplete:I.autoComplete||"one-time-code"},I),u({"data-input-otp":!0,"data-input-otp-placeholder-shown":0===D.length||void 0,"data-input-otp-mss":V,"data-input-otp-mse":U,inputMode:P,pattern:null==W?void 0:W.source,"aria-placeholder":y,style:et,maxLength:b,value:D,ref:_,onPaste:e=>{var t;Q(e),null==(t=I.onPaste)||t.call(I,e)},onChange:Z,onMouseOver:e=>{var t;$(!0),null==(t=I.onMouseOver)||t.call(I,e)},onMouseLeave:e=>{var t;$(!1),null==(t=I.onMouseLeave)||t.call(I,e)},onFocus:e=>{var t;X(),null==(t=I.onFocus)||t.call(I,e)},onBlur:e=>{var t;J(!1),null==(t=I.onBlur)||t.call(I,e)}}))),[Z,X,Q,P,et,b,U,V,I,null==W?void 0:W.source,D]),en=o.useMemo(()=>({slots:Array.from({length:b}).map((e,t)=>{var r;let n=K&&null!==V&&null!==U&&(V===U&&t===V||t>=V&&t<U),a=void 0!==D[t]?D[t]:null;return{char:a,placeholderChar:void 0!==D[0]?null:null!=(r=null==y?void 0:y[t])?r:null,isActive:n,hasFakeCaret:n&&null===a}}),isFocused:K,isHovering:!I.disabled&&L}),[K,L,b,U,V,I.disabled,D]),ea=o.useMemo(()=>M?M(en):o.createElement(f.Provider,{value:en},R),[R,en,M]);return o.createElement(o.Fragment,null,null!==N&&o.createElement("noscript",null,o.createElement("style",null,N)),o.createElement("div",{ref:F,"data-input-otp-container":!0,style:ee,className:S},ea,o.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},er)))});function x(e,t){try{e.insertRule(t)}catch(e){console.error("input-otp could not insert CSS rule:",t)}}v.displayName="Input";var g=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,b=r(22668);let w=(0,b.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var j=r(91573);function y(e){let{className:t,containerClassName:r,...a}=e;return(0,n.jsx)(v,{"data-slot":"input-otp",containerClassName:(0,j.cn)("flex items-center gap-2 has-disabled:opacity-50",r),className:(0,j.cn)("disabled:cursor-not-allowed",t),...a})}function P(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"input-otp-group",className:(0,j.cn)("flex items-center",t),...r})}function k(e){var t;let{index:r,className:a,...l}=e,s=o.useContext(f),{char:i,hasFakeCaret:c,isActive:u}=null!=(t=null==s?void 0:s.slots[r])?t:{};return(0,n.jsxs)("div",{"data-slot":"input-otp-slot","data-active":u,className:(0,j.cn)("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",a),...l,children:[i,c&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function C(e){let{...t}=e;return(0,n.jsx)("div",{"data-slot":"input-otp-separator",role:"separator",...t,children:(0,n.jsx)(w,{})})}var E=r(15659),S=r(41680),N=r(22985),M=r(44996),R=r(52959),I=r(52438);let A=(0,b.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var B=r(12987),D=r(37855),T=r(44001),O=r(47925),W=r(58117),_=r.n(W),F=r(41430);let z=/^[0-9a-zA-Z]+$/;function H(){let e=(0,I.useRouter)(),{t}=(0,O.Bd)(),[r,i]=(0,o.useState)(!1),c=(0,E.mN)({resolver:(0,S.u)(N.Ik({email:N.Yj().email(t("common.invalidEmail")),recoveryKey:N.Yj().min(1,t("resetPassword.recoveryKeyRequired")),newPassword:N.Yj().min(1,t("resetPassword.newPasswordRequired"))})),defaultValues:{email:"",recoveryKey:"",newPassword:""}});return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-neutral-900",children:(0,n.jsxs)(s.Zp,{className:"w-[375px] shadow-lg dark:shadow-white/10",children:[(0,n.jsxs)(s.aR,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsxs)(_(),{href:"/login",className:"flex items-center text-sm text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition-colors",children:[(0,n.jsx)(A,{className:"h-4 w-4 mr-1"}),t("resetPassword.backToLogin")]}),(0,n.jsx)(F.U,{})]}),(0,n.jsx)(s.ZB,{className:"text-2xl text-center",children:t("resetPassword.title")}),(0,n.jsx)(s.BT,{className:"text-center",children:t("resetPassword.description")})]}),(0,n.jsx)(s.Wu,{children:(0,n.jsx)(M.lV,{...c,children:(0,n.jsxs)("form",{onSubmit:c.handleSubmit(function(r){var n,a,l;n=r.email,a=r.recoveryKey,l=r.newPassword,i(!0),R.ok.resetPassword(n,a,l).then(()=>{T.oR.success(t("resetPassword.resetSuccess")),e.push("/login")}).catch(()=>{T.oR.error(t("resetPassword.resetFailed"))}).finally(()=>{i(!1)})}),className:"space-y-6",children:[(0,n.jsx)(M.zB,{control:c.control,name:"email",render:e=>{let{field:r}=e;return(0,n.jsxs)(M.eI,{children:[(0,n.jsx)(M.lR,{children:t("common.email")}),(0,n.jsx)(M.MJ,{children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(B.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,n.jsx)(l.p,{placeholder:t("common.enterEmail"),className:"pl-10",...r})]})}),(0,n.jsx)(M.C5,{})]})}}),(0,n.jsx)(M.zB,{control:c.control,name:"recoveryKey",render:e=>{let{field:r}=e;return(0,n.jsxs)(M.eI,{children:[(0,n.jsx)(M.lR,{children:t("resetPassword.recoveryKey")}),(0,n.jsx)(M.Rr,{children:t("resetPassword.recoveryKeyDescription")}),(0,n.jsx)(M.MJ,{children:(0,n.jsxs)(y,{maxLength:6,value:r.value,pattern:z.source,onChange:e=>{let t=e.toUpperCase();r.onChange(t)},children:[(0,n.jsxs)(P,{children:[(0,n.jsx)(k,{index:0}),(0,n.jsx)(k,{index:1}),(0,n.jsx)(k,{index:2})]}),(0,n.jsx)(C,{}),(0,n.jsxs)(P,{children:[(0,n.jsx)(k,{index:3}),(0,n.jsx)(k,{index:4}),(0,n.jsx)(k,{index:5})]})]})}),(0,n.jsx)(M.C5,{})]})}}),(0,n.jsx)(M.zB,{control:c.control,name:"newPassword",render:e=>{let{field:r}=e;return(0,n.jsxs)(M.eI,{children:[(0,n.jsx)(M.lR,{children:t("resetPassword.newPassword")}),(0,n.jsx)(M.MJ,{children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(D.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,n.jsx)(l.p,{type:"password",placeholder:t("resetPassword.enterNewPassword"),className:"pl-10",...r})]})}),(0,n.jsx)(M.C5,{})]})}}),(0,n.jsx)(a.$,{type:"submit",className:"w-full mt-4 cursor-pointer",disabled:r,children:r?t("resetPassword.resetting"):t("resetPassword.resetPassword")})]})})})]})})}},72592:(e,t,r)=>{Promise.resolve().then(r.bind(r,64896))}},e=>{e.O(0,[5,987,116,721,409,422,247,358],()=>e(e.s=72592)),_N_E=e.O()}]);