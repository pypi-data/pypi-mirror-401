version: 1

time:
  tz_name: "Europe/Berlin"
  assume_tz: "UTC"

columns:
# Procured directly from the reporting api
  timestamp:
    raw: "timestamp"
    display:
      en: "Timestamp"
      de: "Zeitpunkt"
    description:
      en: "The recorded date and time of the measurement for the components."
      de: "Das erfasste Datum und die Uhrzeit der Messung der Komponenten."

  grid_consumption:
    raw: "grid"
    display:
      en: "Grid Consumption"
      de: "Netzbezug"
    description:
      en: "Electricity imported from the grid."
      de: "Aus dem öffentlichen Netz bezogener Strom."

  mid_consumption:
    raw: "consumption"  # Total consumption from all the sources (grid, pv, chp, battery)
    display:
      en: "MID Consumption"
      de: "MID Gesamtverbrauch"
    description:
      en: "Total electricity consumption from all available sources (grid, PV, CHP, battery)."
      de: "Gesamter Stromverbrauch aus allen verfügbaren Quellen (Netz, PV, BHKW, Batterie)."
    implementation: "reporting_metrics.py::determine_consumption"

  battery_power_flow:
    raw: "battery"
    display:
      en: "Battery Power Flow"
      de: "Batterie Leistungsfluss"
    description:
      en: "Total amount of energy charged into and discharged from the battery."
      de: "Gesamtmenge der Energie, die in die Batterie geladen und aus ihr entladen wurde."

# Computed metrics
  pv_asset_production:
    raw: "pv_asset_production"
    display:
      en: "PV-Production"
      de: "PV-Erzeugung"
    description:
      en: "Total electricity generated by the photovoltaic system."
      de: "Gesamte durch die Photovoltaikanlage erzeugte Strommenge."
    implementation: "reporting_metrics.py::asset_prod"

  prod_excess:
    raw: "prod_excess"
    display:
      en: "Prod Excess"
      de: "Prod Überschuss"
    description:
      en: "Amount of total energy produced that exceeds on-site consumption."
      de: "Gesamtenergie, die die Eigenverbrauchsmenge übersteigt."
    implementation: "reporting_metrics.py::prod_excess"

  prod_excess_in_bat:
    raw: "prod_excess_in_bat"
    display:
      en: "Prod Excess in Battery"
      de: "Prod Überschuss in Batterie"
    description:
      en: "Energy from production that is stored in the battery."
      de: "Energie aus der Produktion, die in der Batterie gespeichert wird."
    implementation: "reporting_metrics.py::prod_excess_in_bat"

  grid_feed_in:
    raw: "grid_feed_in"
    display:
      en: "Grid Feed-in"
      de: "Netz Einspeisung"
    description:
      en: "Grid energy exported to the public grid."
      de: "Netz-Energie, die in das öffentliche Netz eingespeist wird."
    implementation: "reporting_metrics.py::grid_feed_in"

  prod_self_consumption:
    raw: "prod_self_consumption"
    display:
      en: "Self-Consumption"
      de: "Eigenverbrauch"
    description:
      en: "Amount of energy consumed directly on-site."
      de: "Menge der Energie, die direkt vor Ort verbraucht wird."
    implementation: "reporting_metrics.py::prod_self_consumption"

  prod_self_share:
    raw: "prod_self_share"
    display:
      en: "Self-Consumption Share"
      de: "Eigenverbrauchsanteil"
    description:
      en: "Share of total consumption covered by production."
      de: "Anteil des Gesamtverbrauchs, der durch Produktion gedeckt wird."
    implementation: "reporting_metrics.py::prod_self_share"


# Generated and used within the notebook for reporting metrics
  battery_charge:
    raw: "battery_charge"
    display:
      en: "Battery Charge"
      de: "Batterie Ladeleistung"
    description:
      en: "Energy output from the battery (discharging)."
      de: "Energieabgabe der Batterie (Entladung)."

  chp_asset_production:
    raw: "chp_asset_production"
    display:
      en: "CHP-Production"
      de: "BHKW-Erzeugung"
    description:
      en: "Electrical output from the combined heat and power (CHP) unit."
      de: "Elektrische Erzeugung des Blockheizkraftwerks (BHKW)."

  wind_asset_production:
    raw: "wind_asset_production"
    display:
      en: "Wind-Production"
      de: "Wind-Erzeugung"
    description:
      en: "Electrical output from the wind turbine."
      de: "Elektrische Erzeugung der Windturbine."

  grid_peak:
    raw: "grid_peak"
    display:
      en: "Grid Peak"
      de: "Netzspitze"
    description:
      en: "The highest grid import power recorded within the reporting period."
      de: "Die höchste im Berichtszeitraum gemessene Netzbezugsleistung."

  grid_peak_date:
    raw: "grid_peak_date"
    display:
      en: "Grid Peak Date"
      de: "Datum der Netzspitze"
    description:
      en: "The date and time when the maximum grid import occurred."
      de: "Das Datum und die Uhrzeit, zu denen der maximale Netzbezug aufgetreten ist."
