(*
   --------------------------------------------------------------------------
   title: Using Basis Parameter
   description: Keep functions symbolic with ~basis
   order: 3
   --------------------------------------------------------------------------

   Example 3: Using ~basis to keep functions symbolic
*)

let helper x = x * x + 1

let main x =
  if x < 0 then
    helper x - 10
  else if x = 0 then
    0
  else
    helper x + 10
[@@decomp top ~basis:[[%id helper]] ()]
