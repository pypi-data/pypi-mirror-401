# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/filters/http/kill_request/v3/kill_request.proto
# plugin: python-betterproto2
# This file has been @generated

__all__ = ("KillRequest", "KillRequestDirection")

import typing

import betterproto2
import pydantic
from pydantic.dataclasses import dataclass

from .......message_pool import default_message_pool

_COMPILER_VERSION = "0.9.0"
betterproto2.check_compiler_version(_COMPILER_VERSION)


class KillRequestDirection(betterproto2.Enum):
    """
    On which direction should the filter check for the ``kill_request_header``.
    Default to ``REQUEST`` if unspecified.
    """

    REQUEST = 0

    RESPONSE = 1


@dataclass(eq=False, repr=False, config={"extra": "forbid"})
class KillRequest(betterproto2.Message):
    """
    [#protodoc-title: Kill Request]
    Kill Request :ref:`configuration overview <config_http_filters_kill_request>`.
    [#extension: envoy.filters.http.kill_request]

    Configuration for KillRequest filter.
    """

    probability: "_____type__v3__.FractionalPercent | None" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, optional=True
    )
    """
    The probability that a Kill request will be triggered.
    """

    kill_request_header: "typing.Annotated[str, pydantic.AfterValidator(betterproto2.validators.validate_string)]" = betterproto2.field(
        2, betterproto2.TYPE_STRING
    )
    """
    The name of the kill request header. If this field is not empty, it will override the :ref:`default header <config_http_filters_kill_request_http_header>` name. Otherwise the default header name will be used.
    """

    direction: "KillRequestDirection" = betterproto2.field(
        3, betterproto2.TYPE_ENUM, default_factory=lambda: KillRequestDirection(0)
    )


default_message_pool.register_message(
    "envoy.extensions.filters.http.kill_request.v3", "KillRequest", KillRequest
)


from ......type import v3 as _____type__v3__
