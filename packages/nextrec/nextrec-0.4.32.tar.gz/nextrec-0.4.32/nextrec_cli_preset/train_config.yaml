session:
  id: ctcvr_task                       # Experiment identifier
  artifact_root: nextrec_logs          # Directory for outputs

feature_config: feature_config.yaml    # Path to feature config
model_config: model_configs/mmoe.yaml        # Path to model config

data:
  path: ../dataset/ctcvr_task.csv          # Training data path
  format: csv                          # Data format
  target: [click, conversion]          # Target column(s)
  id_column: user_id                   # Optional ID column (for GAUC)
  valid_ratio: 0.2                     # Validation split ratio
  # valid_path

dataloader:
  train_batch_size: 512
  train_shuffle: true
  valid_batch_size: 512
  valid_shuffle: false
  num_workers: 6
  prefetch_factor: 2

train:
  optimizer: adam
  optimizer_params:
    lr: 0.001
  loss: ['bce','bce']                            # Loss function
  # loss_params:                                # Optional loss params
  # loss_weights:                               # Optional loss weights or GradNorm
  # ignore_label: -1                            # Label value to ignore when computing loss
  metrics:
    - auc
    - gauc
    - recall
  epochs: 1
  shuffle: true
  device: cpu
  log_interval: 1                               # Log validation metrics every N epochs
  use_wandb: false                              # Enable Weights & Biases logging
  use_swanlab: false                            # Enable SwanLab logging
  # note: "baseline run"                         # Optional training note
  # wandb_api: YOUR_WANDB_API_KEY               # Optional API key for non-tty login
  # swanlab_api: YOUR_SWANLAB_API_KEY           # Optional API key for non-tty login
  # wandb_kwargs:                               # Optional kwargs for wandb.init(...)
  #   project: NextRec
  #   name: example_run
  # swanlab_kwargs:                             # Optional kwargs for swanlab.init(...)
  #   project: NextRec
  #   name: example_run

# cd nextrec_cli_preset
# nextrec --mode train --train_config train_config.yaml
