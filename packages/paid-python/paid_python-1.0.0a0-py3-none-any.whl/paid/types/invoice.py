# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

import pydantic
import typing_extensions
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from ..core.serialization import FieldMetadata
from .customer import Customer
from .invoice_status import InvoiceStatus


class Invoice(UniversalBaseModel):
    """
    An invoice for an order
    """

    id: typing.Optional[str] = None
    display_id: typing_extensions.Annotated[typing.Optional[str], FieldMetadata(alias="displayId")] = pydantic.Field(
        default=None
    )
    """
    Human-readable invoice number
    """

    organization_id: typing_extensions.Annotated[typing.Optional[str], FieldMetadata(alias="organizationId")] = None
    customer_id: typing_extensions.Annotated[typing.Optional[str], FieldMetadata(alias="customerId")] = None
    order_id: typing_extensions.Annotated[typing.Optional[str], FieldMetadata(alias="orderId")] = None
    status: typing.Optional[InvoiceStatus] = None
    currency: typing.Optional[str] = None
    subtotal: typing.Optional[float] = pydantic.Field(default=None)
    """
    Total before tax (in smallest currency unit)
    """

    tax: typing.Optional[float] = pydantic.Field(default=None)
    """
    Tax amount (in smallest currency unit)
    """

    total: typing.Optional[float] = pydantic.Field(default=None)
    """
    Total amount including tax (in smallest currency unit)
    """

    amount_paid: typing_extensions.Annotated[typing.Optional[float], FieldMetadata(alias="amountPaid")] = (
        pydantic.Field(default=None)
    )
    """
    Amount already paid (in smallest currency unit)
    """

    amount_due: typing_extensions.Annotated[typing.Optional[float], FieldMetadata(alias="amountDue")] = pydantic.Field(
        default=None
    )
    """
    Amount still due (in smallest currency unit)
    """

    due_date: typing_extensions.Annotated[typing.Optional[dt.datetime], FieldMetadata(alias="dueDate")] = None
    paid_at: typing_extensions.Annotated[typing.Optional[dt.datetime], FieldMetadata(alias="paidAt")] = None
    voided_at: typing_extensions.Annotated[typing.Optional[dt.datetime], FieldMetadata(alias="voidedAt")] = None
    created_at: typing_extensions.Annotated[typing.Optional[dt.datetime], FieldMetadata(alias="createdAt")] = None
    updated_at: typing_extensions.Annotated[typing.Optional[dt.datetime], FieldMetadata(alias="updatedAt")] = None
    customer: typing.Optional[Customer] = None

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
