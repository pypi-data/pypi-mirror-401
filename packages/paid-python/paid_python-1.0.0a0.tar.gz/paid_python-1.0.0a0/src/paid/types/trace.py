# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
import typing_extensions
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from ..core.serialization import FieldMetadata
from .cost_amount import CostAmount


class Trace(UniversalBaseModel):
    """
    A single cost trace record with customer and product info
    """

    name: str = pydantic.Field()
    """
    The name/type of the operation (e.g., "trace.openai.agents.on_agent")
    """

    vendor: str = pydantic.Field()
    """
    The vendor/provider (e.g., "openai", "anthropic", "mistral")
    """

    model: str = pydantic.Field()
    """
    The model used for the operation (e.g., "gpt-4o-mini", "claude-3-sonnet")
    """

    cost: CostAmount
    start_time_unix_nano: typing_extensions.Annotated[str, FieldMetadata(alias="startTimeUnixNano")] = pydantic.Field()
    """
    Unix timestamp in nanoseconds when the operation started
    """

    end_time_unix_nano: typing_extensions.Annotated[str, FieldMetadata(alias="endTimeUnixNano")] = pydantic.Field()
    """
    Unix timestamp in nanoseconds when the operation completed
    """

    attributes: typing.Dict[str, typing.Optional[typing.Any]] = pydantic.Field()
    """
    Additional metadata about the trace (e.g., tokens, etc.)
    """

    customer_id: typing_extensions.Annotated[typing.Optional[str], FieldMetadata(alias="customerId")] = pydantic.Field(
        default=None
    )
    """
    The internal customer ID associated with this trace
    """

    product_id: typing_extensions.Annotated[typing.Optional[str], FieldMetadata(alias="productId")] = pydantic.Field(
        default=None
    )
    """
    The product/agent ID associated with this trace (optional)
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
