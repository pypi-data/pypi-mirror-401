import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as ee,o as re,d as ae,h as te,e as oe,a as p,p as se,b as ie,i as ne,t as c,$ as le,j as O,m as de,c as i,k as M,r as n,f as u,l as pe,s as T,n as me}from"../chunks/Cef1s1vS.js";import{i as x}from"../chunks/DtBwJrag.js";import{s as ve}from"../chunks/XZMgsyez.js";import{s as g}from"../chunks/CepVL_7U.js";import{i as ce}from"../chunks/D6HxSY24.js";import{s as ue,a as w}from"../chunks/B0aKtzpN.js";import{u as fe,W as he,s as z,m as xe}from"../chunks/D3pt6ESx.js";import{p as ge}from"../chunks/FrigezeZ.js";import{g as U}from"../chunks/BUPwbfhi.js";import{T as we}from"../chunks/JXfXx3cP.js";import{S as _e}from"../chunks/DYVezSX_.js";var ke=u('<button id="sidebar-toggle-button" class=" cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-"><div class=" self-center p-1.5"><!></div></button>'),$e=u("<div><!></div>"),be=u('<a href="/workspace/models"> </a>'),ye=u('<a href="/workspace/knowledge"> </a>'),Se=u('<a href="/workspace/prompts"> </a>'),Ee=u('<a href="/workspace/tools"> </a>'),Me=u('<div><nav class="   px-2.5 pt-1.5 backdrop-blur-xl drag-region"><div class=" flex items-center gap-1"><!> <div><div class="flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent py-1 touch-auto pointer-events-auto"><!> <!> <!> <!></div></div></div></nav> <div class="  pb-1 px-3 md:px-[18px] flex-1 max-h-full overflow-y-auto" id="workspace-container"><!></div></div>');function De(D,C){ie(C,!1);const s=()=>w(fe,"$user",f),d=()=>w(ge,"$page",f),m=()=>w(J,"$i18n",f),F=()=>w(he,"$WEBUI_NAME",f),W=()=>w(z,"$showSidebar",f),G=()=>w(xe,"$mobile",f),[f,H]=ue(),J=ee("i18n");let P=de(!1);re(async()=>{var v,l,h,_,k,A,$,b,y,B,S,I,E;((v=s())==null?void 0:v.role)!=="admin"&&(d().url.pathname.includes("/models")&&!((_=(h=(l=s())==null?void 0:l.permissions)==null?void 0:h.workspace)!=null&&_.models)?U("/"):d().url.pathname.includes("/knowledge")&&!(($=(A=(k=s())==null?void 0:k.permissions)==null?void 0:A.workspace)!=null&&$.knowledge)?U("/"):d().url.pathname.includes("/prompts")&&!((B=(y=(b=s())==null?void 0:b.permissions)==null?void 0:y.workspace)!=null&&B.prompts)?U("/"):d().url.pathname.includes("/tools")&&!((E=(I=(S=s())==null?void 0:S.permissions)==null?void 0:I.workspace)!=null&&E.tools)&&U("/")),ne(P,!0)}),ce();var j=ae();te(v=>{c(l=>le.title=`
		${l??""} â€¢ ${F()??""}
	`,[()=>m().t("Workspace")])});var L=oe(j);{var Q=v=>{var l=Me(),h=i(l),_=i(h),k=i(_);{var A=o=>{var e=$e(),r=i(e);{let a=me(()=>W()?m().t("Close Sidebar"):m().t("Open Sidebar"));we(r,{get content(){return O(a)},interactive:!0,children:(t,We)=>{var N=ke(),K=i(N),Z=i(K);_e(Z,{}),n(K),n(N),pe("click",N,()=>{z.set(!W())}),p(t,N)},$$slots:{default:!0}})}n(e),c(()=>g(e,1,`${W()?"md:hidden":""} self-center flex flex-none items-center`)),p(o,e)};x(k,o=>{G()&&o(A)})}var $=M(k,2),b=i($),y=i(b);{var B=o=>{var e=be(),r=i(e,!0);n(e),c((a,t)=>{g(e,1,`min-w-fit p-1.5 ${a??""} transition`),T(r,t)},[()=>d().url.pathname.includes("/workspace/models")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white",()=>m().t("Models")]),p(o,e)};x(y,o=>{var e,r,a,t;(((e=s())==null?void 0:e.role)==="admin"||(t=(a=(r=s())==null?void 0:r.permissions)==null?void 0:a.workspace)!=null&&t.models)&&o(B)})}var S=M(y,2);{var I=o=>{var e=ye(),r=i(e,!0);n(e),c((a,t)=>{g(e,1,`min-w-fit p-1.5 ${a??""} transition`),T(r,t)},[()=>d().url.pathname.includes("/workspace/knowledge")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white",()=>m().t("Knowledge")]),p(o,e)};x(S,o=>{var e,r,a,t;(((e=s())==null?void 0:e.role)==="admin"||(t=(a=(r=s())==null?void 0:r.permissions)==null?void 0:a.workspace)!=null&&t.knowledge)&&o(I)})}var E=M(S,2);{var R=o=>{var e=Se(),r=i(e,!0);n(e),c((a,t)=>{g(e,1,`min-w-fit p-1.5 ${a??""} transition`),T(r,t)},[()=>d().url.pathname.includes("/workspace/prompts")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white",()=>m().t("Prompts")]),p(o,e)};x(E,o=>{var e,r,a,t;(((e=s())==null?void 0:e.role)==="admin"||(t=(a=(r=s())==null?void 0:r.permissions)==null?void 0:a.workspace)!=null&&t.prompts)&&o(R)})}var V=M(E,2);{var X=o=>{var e=Ee(),r=i(e,!0);n(e),c((a,t)=>{g(e,1,`min-w-fit p-1.5 ${a??""} transition`),T(r,t)},[()=>d().url.pathname.includes("/workspace/tools")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white",()=>m().t("Tools")]),p(o,e)};x(V,o=>{var e,r,a,t;(((e=s())==null?void 0:e.role)==="admin"||(t=(a=(r=s())==null?void 0:r.permissions)==null?void 0:a.workspace)!=null&&t.tools)&&o(X)})}n(b),n($),n(_),n(h);var q=M(h,2),Y=i(q);ve(Y,C,"default",{},null),n(q),n(l),c(()=>g(l,1,` relative flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out ${W()?"md:max-w-[calc(100%-var(--sidebar-width))]":""} max-w-full`)),p(v,l)};x(L,v=>{O(P)&&v(Q)})}p(D,j),se(),H()}export{De as component};
//# sourceMappingURL=7.Bx2yqV9b.js.map
