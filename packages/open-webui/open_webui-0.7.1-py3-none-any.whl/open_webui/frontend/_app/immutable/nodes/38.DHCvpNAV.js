import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as S,o as h,d as $,e as v,a as b,p as k,b as y,i as s,m as c,j as a}from"../chunks/Cef1s1vS.js";import{k as P}from"../chunks/DKuG6z3I.js";import{i as N}from"../chunks/D6HxSY24.js";import{s as x,a as E}from"../chunks/B0aKtzpN.js";import{t as p}from"../chunks/Bfaq2Jpc.js";import{g as J}from"../chunks/BUPwbfhi.js";import{p as M}from"../chunks/D3pt6ESx.js";import{c as O,g as R}from"../chunks/TXMk8vAG.js";import{P as j}from"../chunks/CiK9EZ13.js";function K(i,m){y(m,!1);const l=()=>E(u,"$i18n",d),[d,g]=x(),u=S("i18n");let e=c(null),r=c(!1);const f=async o=>{await O(localStorage.token,o).catch(_=>(p.error(`${_}`),null))&&(p.success(l().t("Prompt created successfully")),await M.set(await R(localStorage.token)),await J("/workspace/prompts"))};h(async()=>{if(window.addEventListener("message",async o=>{if(!["https://openwebui.com","https://www.openwebui.com","http://localhost:9999"].includes(o.origin))return;const t=JSON.parse(o.data);s(r,!0),s(e,{title:t.title,command:t.command,content:t.content,access_control:t.access_control!==void 0?t.access_control:{}})}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.prompt){const o=JSON.parse(sessionStorage.prompt);sessionStorage.removeItem("prompt"),s(r,!0),s(e,{title:o.title,command:o.command,content:o.content,access_control:o.access_control!==void 0?o.access_control:{}})}}),N();var n=$(),w=v(n);P(w,()=>a(e),o=>{j(o,{get prompt(){return a(e)},onSubmit:f,get clone(){return a(r)}})}),b(i,n),k(),g()}export{K as component};
//# sourceMappingURL=38.DHCvpNAV.js.map
