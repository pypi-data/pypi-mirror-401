import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as ne,t as ve,l as F,a as G,p as ce,f as U,b as me,k as o,c as e,j as r,i as d,s as g,r as t,aR as ue,m as b,n as I}from"../chunks/Cef1s1vS.js";import{i as fe}from"../chunks/DtBwJrag.js";import{a as J,s as ge,r as pe}from"../chunks/CepVL_7U.js";import{b as O}from"../chunks/C-UcLPd1.js";import{p as xe}from"../chunks/Bfc47y5P.js";import{i as _e}from"../chunks/D6HxSY24.js";import{s as be,a as Q}from"../chunks/B0aKtzpN.js";import{t as z}from"../chunks/Bfaq2Jpc.js";import{g as T}from"../chunks/BUPwbfhi.js";import{u as we}from"../chunks/D3pt6ESx.js";import{c as ye}from"../chunks/DRA_Xro9.js";import{A as he}from"../chunks/pX5DvThk.js";import{S as ke}from"../chunks/CaFREkKp.js";var $e=U('<div class="ml-1.5 self-center"><!></div>'),Ce=U('<div class="w-full max-h-full"><button class="flex space-x-1"><div class=" self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg></div> <div class=" self-center font-medium text-sm"> </div></button> <form class="flex flex-col max-w-lg mx-auto mt-10 mb-10"><div class=" w-full flex flex-col justify-center"><div class=" text-2xl font-medium font-primary mb-2.5"> </div> <div class="w-full flex flex-col gap-2.5"><div class="w-full"><div class=" text-sm mb-2"> </div> <div class="w-full mt-1"><input class="w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" type="text" required/></div></div> <div><div class="text-sm mb-2"> </div> <div class=" w-full mt-1"><textarea class="w-full resize-none rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden" rows="4" required></textarea></div></div></div></div> <div class="mt-2"><!></div> <div class="flex justify-end mt-2"><div><button type="submit"><div class=" self-center font-medium"> </div> <!></button></div></div></form></div>');function je(w,V){me(V,!1);const i=()=>Q(Y,"$i18n",D),p=()=>Q(we,"$user",D),[D,X]=be(),Y=ne("i18n");let m=b(!1),u=b(""),f=b(""),y=b({});const Z=async()=>{if(d(m,!0),r(u).trim()===""||r(f).trim()===""){z.error(i().t("Please fill in all fields.")),d(u,""),d(f,""),d(m,!1);return}const a=await ye(localStorage.token,r(u),r(f),r(y)).catch(l=>{z.error(`${l}`)});a&&(z.success(i().t("Knowledge created successfully.")),T(`/workspace/knowledge/${a.id}`)),d(m,!1)};_e();var h=Ce(),x=e(h),N=o(e(x),2),ee=e(N,!0);t(N),t(x);var k=o(x,2),$=e(k),C=e($),te=e(C,!0);t(C);var P=o(C,2),j=e(P),K=e(j),ae=e(K,!0);t(K);var R=o(K,2),q=e(R);pe(q),t(R),t(j);var W=o(j,2),A=e(W),re=e(A,!0);t(A);var L=o(A,2),B=e(L);ue(B),t(L),t(W),t(P),t($);var H=o($,2),se=e(H);{let a=I(()=>{var s,n,v,c;return((v=(n=(s=p())==null?void 0:s.permissions)==null?void 0:n.sharing)==null?void 0:v.knowledge)||((c=p())==null?void 0:c.role)==="admin"}),l=I(()=>{var s,n,v,c;return((v=(n=(s=p())==null?void 0:s.permissions)==null?void 0:n.sharing)==null?void 0:v.public_knowledge)||((c=p())==null?void 0:c.role)==="admin"});he(se,{accessRoles:["read","write"],get share(){return r(a)},get sharePublic(){return r(l)},get accessControl(){return r(y)},set accessControl(s){d(y,s)},$$legacy:!0})}t(H);var M=o(H,2),E=e(M),_=e(E),S=e(_),ie=e(S,!0);t(S);var le=o(S,2);{var oe=a=>{var l=$e(),s=e(l);ke(s,{}),t(l),G(a,l)};fe(le,a=>{r(m)&&a(oe)})}t(_),t(E),t(M),t(k),t(h),ve((a,l,s,n,v,c,de)=>{g(ee,a),g(te,l),g(ae,s),J(q,"placeholder",n),g(re,v),J(B,"placeholder",c),ge(_,1,` text-sm px-4 py-2 transition rounded-lg ${r(m)?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800"} flex`),_.disabled=r(m),g(ie,de)},[()=>i().t("Back"),()=>i().t("Create a knowledge base"),()=>i().t("What are you working on?"),()=>i().t("Name your knowledge base"),()=>i().t("What are you trying to achieve?"),()=>i().t("Describe your knowledge base and objectives"),()=>i().t("Create Knowledge")]),F("click",x,()=>{T("/workspace/knowledge")}),O(q,()=>r(u),a=>d(u,a)),O(B,()=>r(f),a=>d(f,a)),F("submit",k,xe(()=>{Z()})),G(w,h),ce(),X()}function Fe(w){je(w,{})}export{Fe as component};
//# sourceMappingURL=33.fs6ms9YE.js.map
