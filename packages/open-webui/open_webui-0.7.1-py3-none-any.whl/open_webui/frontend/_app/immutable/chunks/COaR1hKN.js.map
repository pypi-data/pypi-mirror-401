{"version":3,"file":"COaR1hKN.js","sources":["../../../../../../src/lib/components/workspace/common/ManifestModal.svelte","../../../../../../src/lib/components/ImportModal.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher } from 'svelte';\n\timport { onMount, getContext } from 'svelte';\n\n\timport Modal from '../../common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\texport let show = false;\n\texport let manifest = {};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Show your support!')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1 text-sm\">\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\"dark:border-gray-800 my-3\" />\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t('Support this plugin:')}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={manifest.funding_url}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclass=\"underline text-blue-400 hover:text-blue-300\">{manifest.funding_url}</a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Done')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport { extractFrontmatter } from '$lib/utils';\n\n\texport let show = false;\n\n\texport let onImport = (e) => {};\n\texport let onClose = () => {};\n\n\texport let loadUrlHandler: Function = () => {};\n\texport let successMessage: string = '';\n\n\tlet loading = false;\n\tlet url = '';\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tif (!url) {\n\t\t\ttoast.error($i18n.t('Please enter a valid URL'));\n\t\t\tloading = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await loadUrlHandler(url).catch((err) => {\n\t\t\ttoast.error(`${err}`);\n\t\t\tloading = false;\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tif (!successMessage) {\n\t\t\t\tsuccessMessage = $i18n.t('Function imported successfully');\n\t\t\t}\n\n\t\t\ttoast.success(successMessage);\n\n\t\t\tlet func = res;\n\t\t\tfunc.id = func.id || func.name.replace(/\\s+/g, '_').toLowerCase();\n\n\t\t\tconst frontmatter = extractFrontmatter(res.content); // Ensure frontmatter is extracted\n\n\t\t\tif (frontmatter?.title) {\n\t\t\t\tfunc.name = frontmatter.title;\n\t\t\t}\n\n\t\t\tfunc.meta = {\n\t\t\t\t...(func.meta ?? {}),\n\t\t\t\tdescription: frontmatter?.description ?? func.name\n\t\t\t};\n\n\t\t\tonImport(func);\n\t\t\tshow = false;\n\t\t}\n\t};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Import')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('URL')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\tbind:value={url}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter the URL to import')}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<!-- $i18n.t('Enter the URL of the function to import') -->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Import')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n"],"names":["i18n","getContext","createEventDispatcher","show","manifest","$.prop","$$props","$.untrack","$i18n","$.event","button","form","$.preventDefault","onImport","e","loadUrlHandler","successMessage","loading","url","submitHandler","$.set","$.get","toast","res","err","func","frontmatter","extractFrontmatter","$$render","consequent","$.bind_value","input","$$value"],"mappings":"qgDAAA,gDAQOA,EAAOC,EAAW,MAAM,EACbC,GAAqB,EAE3B,IAAAC,gBAAO,EAAK,EACZC,EAAQC,EAAAC,EAAA,WAAA,GAAA,KAAA,CAAA,EAAA,6JAaE,QAAQ,CAAA,sRAblBF,EAAQ,CAAA,EA0CNG,EAAA,IAAAH,IAAS,WAAW,WA1CtBA,EAAQ,CAAA,EA4CyCG,EAAA,IAAAH,IAAS,WAAW,4BAtC/BI,EAAK,EAAC,EAAE,oBAAoB,CAAA,kBAqBtEA,EAAK,EAAC,EACN,mKAAkK,CAAA,kBAKlKA,EAAK,EAAC,EACN,2KAA0K,CAAA,kBAM1KA,EAAK,EAAC,EAAE,sBAAsB,CAAA,kBAc9BA,EAAK,EAAC,EAAE,MAAM,CAAA,KA7CFC,EAAA,QAAAC,EAAA,IAAA,CACfP,EAAO,EAAK,EACZ,EAUgCM,EAAA,SAAAE,EAAAC,GAAA,IAAA,CAC/BT,EAAO,EAAK,CACZ,CAAA,CAAA,qDAtBN,+0BCbA,gDAGOH,EAAOC,EAAW,MAAM,EAOnB,IAAAE,gBAAO,EAAK,EAEZU,EAAYR,EAAAC,EAAA,WAAA,EAAAQ,GAAM,CAAA,CAAE,EACbT,EAAAC,EAAA,UAAA,EAAA,IAAS,CAAA,CAAE,MAElBS,EAAwBV,EAAAC,EAAA,iBAAA,EAAA,IAAS,CAAA,CAAE,EACnCU,0BAAyB,EAAE,EAElCC,IAAU,EAAK,EACfC,IAAM,EAAE,EAEN,MAAAC,EAA4B,SAAA,CAG5B,GAFLC,EAAAH,EAAU,EAAI,EAET,CAAAI,EAAAH,CAAG,EAAE,CACTI,EAAM,MAAMd,EAAK,EAAC,EAAE,0BAA0B,CAAA,EAC9CY,EAAAH,EAAU,EAAK,QAEhB,OAEMM,EAAG,MAASR,IAAeM,EAAAH,CAAG,GAAE,MAAOM,IAC5CF,EAAM,MAAK,GAAIE,CAAG,EAAA,EAClBJ,EAAAH,EAAU,EAAK,EACR,KACP,EAEG,GAAAM,EAAK,CACHP,EAAc,GAClBA,EAAiBR,EAAM,EAAA,EAAE,gCAAgC,CAAA,EAG1Dc,EAAM,QAAQN,EAAc,CAAA,EAExB,IAAAS,EAAOF,EACXE,EAAK,GAAKA,EAAK,IAAMA,EAAK,KAAK,QAAQ,OAAQ,GAAG,EAAE,YAAW,EAEzD,MAAAC,EAAcC,GAAmBJ,EAAI,OAAO,EAE9CG,GAAA,MAAAA,EAAa,QAChBD,EAAK,KAAOC,EAAY,OAGzBD,EAAK,KAAI,CACJ,GAAAA,EAAK,MAAI,CAAA,EACb,aAAaC,GAAA,YAAAA,EAAa,cAAeD,EAAK,MAG/CZ,EAAQ,EAACY,CAAI,EACbtB,EAAO,EAAK,CACb,8JAcoB,QAAQ,CAAA,oNAwClBc,CAAO,GAAAW,EAAAC,CAAA,4RARsLZ,CAC/L,EAAA,sBACA,EAAE,EAAA,eAEKA,CAAO,qCA3C0BT,EAAK,EAAC,EAAE,QAAQ,CAAA,kBAqBjBA,EAAK,EAAC,EAAE,KAAK,CAAA,kBAOxCA,EAAK,EAAC,EAAE,yBAAyB,CAAA,kBAiB/CA,EAAK,EAAC,EAAE,QAAQ,CAAA,KA1CJC,EAAA,QAAAC,EAAA,IAAA,CACfP,EAAO,EAAK,EACZ,EAsBgB2B,GAAAC,EAAA,IAAAV,EAAAH,CAAG,OAAHA,EAAGc,CAAA,CAAA,EAZavB,EAAA,SAAAE,EAAAC,GAAA,IAAA,CAC/BO,GACA,CAAA,CAAA,qDAtBN"}