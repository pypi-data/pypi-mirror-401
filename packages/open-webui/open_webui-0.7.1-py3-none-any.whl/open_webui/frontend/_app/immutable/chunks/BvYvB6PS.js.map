{"version":3,"file":"BvYvB6PS.js","sources":["../../../../../../src/lib/components/chat/MessageInput/AttachWebpageModal.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\n\timport { getContext } from 'svelte';\n\tconst i18n = getContext('i18n');\n\timport { settings } from '$lib/stores';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport { isValidHttpUrl } from '$lib/utils';\n\n\texport let show = false;\n\texport let onSubmit: (e) => void;\n\n\tlet url = '';\n\n\tconst submitHandler = () => {\n\t\tlet urls = url\n\t\t\t.split('\\n')\n\t\t\t.map((u) => u.trim())\n\t\t\t.filter((u) => u !== '')\n\t\t\t.filter((u) => isValidHttpUrl(u));\n\n\t\turls = [...new Set(urls)];\n\n\t\tif (urls.length === 0) {\n\t\t\ttoast.error($i18n.t('Please enter a valid URL.'));\n\t\t\treturn;\n\t\t}\n\n\t\tonSubmit({ type: 'web', data: urls });\n\t\tshow = false;\n\t\turl = '';\n\t};\n</script>\n\n<Modal bind:show size=\"sm\">\n\t<div class=\"flex flex-col h-full\">\n\t\t<div class=\"flex justify-between items-center dark:text-gray-100 px-5 pt-4 pb-1.5\">\n\t\t\t<h1 class=\"text-lg font-medium self-center font-primary\">\n\t\t\t\t{$i18n.t('Attach Webpage')}\n\t\t\t</h1>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\taria-label={$i18n.t('Close modal')}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className=\"size-5\" />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"px-5 pb-4\">\n\t\t\t<form\n\t\t\t\ton:submit={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsubmitHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\"flex justify-between mb-0.5\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tfor=\"webpage-url\"\n\t\t\t\t\t\tclass={`text-xs ${($settings?.highContrastMode ?? false) ? 'text-gray-800 dark:text-gray-100' : 'text-gray-500'}`}\n\t\t\t\t\t\t>{$i18n.t('Webpage URLs')}</label\n\t\t\t\t\t>\n\t\t\t\t</div>\n\n\t\t\t\t<textarea\n\t\t\t\t\tid=\"webpage-url\"\n\t\t\t\t\tclass={`w-full flex-1 text-sm bg-transparent ${($settings?.highContrastMode ?? false) ? 'placeholder:text-gray-700 dark:placeholder:text-gray-100' : 'outline-hidden placeholder:text-gray-300 dark:placeholder:text-gray-700'}`}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tbind:value={url}\n\t\t\t\t\trows=\"3\"\n\t\t\t\t\tplaceholder={'https://example.com'}\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\n\t\t\t\t<div class=\"flex justify-end gap-2 pt-3 bg-gray-50 dark:bg-gray-900/50\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-200 transition rounded-full\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Add')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</Modal>\n"],"names":["i18n","getContext","show","onSubmit","$.prop","$$props","url","submitHandler","urls","$.get","u","isValidHttpUrl","toast","$i18n","$.set","$.untrack","_a","$settings","$.event","button","$.bind_value","textarea","$$value","form","e"],"mappings":"uwCAAA,yEAIOA,EAAOC,EAAW,MAAM,EAOnB,IAAAC,gBAAO,EAAK,EACZC,EAAqBC,EAAAC,EAAA,WAAA,CAAA,EAE5BC,IAAM,EAAE,EAEN,MAAAC,EAAsB,IAAA,CACvB,IAAAC,EAAOC,EAAAH,CAAA,EACT,MAAM;AAAA,CAAI,EACV,IAAKI,GAAMA,EAAE,KAAI,CAAA,EACjB,OAAQA,GAAMA,IAAM,EAAE,EACtB,OAAQA,GAAMC,GAAeD,CAAC,CAAA,EAI5B,GAFJF,EAAI,CAAA,GAAA,IAAW,IAAIA,CAAI,CAAA,EAEnBA,EAAK,SAAW,EAAG,CACtBI,GAAM,MAAMC,EAAK,EAAC,EAAE,2BAA2B,CAAA,QAEhD,CAEAV,EAAQ,GAAG,KAAM,MAAO,KAAMK,CAAI,CAAA,EAClCN,EAAO,EAAK,EACZY,EAAAR,EAAM,EAAE,6QA0CQ,qBAAqB,6GAXdS,EAAA,IAAA,OAAA,mBAAAC,EAAAC,MAAA,YAAAD,EAAW,mBAAoB,GAAS,mCAAqC,eAAe,GAAA,mFAOhEA,EAAAC,EAAS,IAAT,YAAAD,EAAW,mBAAoB,GAAS,2DAA6D,yEAAyE,GAAA,4BA9B9NH,EAAK,EAAC,EAAE,gBAAgB,CAAA,kBAIbA,EAAK,EAAC,EAAE,aAAa,CAAA,kBAoB7BA,EAAK,EAAC,EAAE,cAAc,CAAA,kBAoBvBA,EAAK,EAAC,EAAE,KAAK,CAAA,KAvCAK,EAAA,QAAAC,EAAA,IAAA,CACfjB,EAAO,EAAK,EACZ,EAyBYkB,EAAAC,EAAA,IAAAZ,EAAAH,CAAG,OAAHA,EAAGgB,CAAA,CAAA,EAjBJJ,EAAA,SAAAK,EAAAC,GAAM,CACjBA,EAAE,eAAc,EAChBjB,IACA,oDAxBL"}