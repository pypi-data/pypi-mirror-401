import"./CWj6FrbW.js";import"./CN51-NxK.js";import{b as zt,g as Nt,o as Dt,i as c,x as Et,q as Lt,u as dt,j as e,v as Rt,e as Wt,k as i,c as a,r,t as T,w as o,l as J,a as A,A as Yt,s as _,p as Ft,f as M,m as k,n as j}from"./Cef1s1vS.js";import{i as ct}from"./DtBwJrag.js";import{r as vt,a as mt,s as Ht}from"./CepVL_7U.js";import{b as ut}from"./C-UcLPd1.js";import{p as It}from"./Bfc47y5P.js";import{i as Zt}from"./D6HxSY24.js";import{p as q}from"./8WYl0Dy3.js";import{a as pt,s as Bt}from"./B0aKtzpN.js";import{T as Gt}from"./Dlc8dZfN.js";import{t as ft}from"./Bfaq2Jpc.js";import{T as _t}from"./JXfXx3cP.js";import{L as Jt}from"./C8KpN5mZ.js";import{A as Kt}from"./BpPms_aG.js";import{u as Qt}from"./D3pt6ESx.js";import{s as gt}from"./DHdn9FJM.js";import{S as Ut}from"./CaFREkKp.js";var Vt=M('<div class="text-xs shrink-0 text-gray-500"> </div>'),Xt=M('<div class="self-center shrink-0"><button class="bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center" type="button"><!> <div class="text-sm font-medium shrink-0"> </div></button></div>'),te=M('<div class="flex flex-col w-full"><div class="flex items-center"><input class="text-2xl font-medium w-full bg-transparent outline-hidden" required/> <!></div> <div class="flex gap-0.5 items-center text-xs text-gray-500"><div>/</div> <input class=" w-full bg-transparent outline-hidden" required/></div></div>'),ee=M('<div class="ml-1.5 self-center"><!></div>'),ae=M('<button type="submit"><div class=" self-center font-medium"> </div> <!></button>'),re=M('<!> <div class="w-full max-h-full flex justify-center"><form class="flex flex-col w-full mb-10"><div class="my-2"><!></div> <div class="my-2"><div class="flex w-full justify-between"><div class=" self-center text-sm font-medium"> </div></div> <div class="mt-2"><div><!></div> <div class="text-xs text-gray-400 dark:text-gray-500"> <span class=" text-gray-600 dark:text-gray-300 font-medium"> </span> <span class=" text-gray-600 dark:text-gray-300 font-medium"></span> <span class=" text-gray-600 dark:text-gray-300 font-medium"></span>.</div> <div class="text-xs text-gray-400 dark:text-gray-500 underline"><a href="https://docs.openwebui.com/features/workspace/prompts" target="_blank"> </a></div></div></div> <div class="my-4 flex justify-end pb-20"><!></div></form></div>',1);function ke(xt,w){zt(w,!1);const t=()=>pt(yt,"$i18n",K),$=()=>pt(Qt,"$user",K),[K,ht]=Bt();let bt=q(w,"onSubmit",8),D=q(w,"edit",8,!1),g=q(w,"prompt",8,null);q(w,"clone",8,!1);let p=q(w,"disabled",8,!0);const yt=Nt("i18n");let P=k(!1),h=k(""),x=k(""),O=k(""),z=k({}),E=k(!1),L=k(!1);function kt(n){c(L,!0)}const wt=async()=>{if(p()){ft.error(t().t("You do not have permission to edit this prompt."));return}c(P,!0),$t(e(x))?await bt()({title:e(h),command:e(x),content:e(O),access_control:e(z)}):ft.error(t().t("Only alphanumeric characters and hyphens are allowed in the command string.")),c(P,!1)},$t=n=>/^[a-zA-Z0-9-_]+$/.test(n);Dt(async()=>{var n,v;g()&&(c(h,g().title),await Et(),c(x,g().command.at(0)==="/"?g().command.slice(1):g().command),c(O,g().content),c(z,((n=g())==null?void 0:n.access_control)===void 0?{}:(v=g())==null?void 0:v.access_control))}),Lt(()=>(dt(D()),e(L),e(h),gt),()=>{!D()&&!e(L)&&c(x,e(h)!==""?gt(e(h)):"")}),Rt(),Zt();var Q=re(),U=Wt(Q);{let n=j(()=>($(),o(()=>{var m,s,l,d;return((l=(s=(m=$())==null?void 0:m.permissions)==null?void 0:s.sharing)==null?void 0:l.prompts)||((d=$())==null?void 0:d.role)==="admin"}))),v=j(()=>($(),o(()=>{var m,s,l,d;return((l=(s=(m=$())==null?void 0:m.permissions)==null?void 0:s.sharing)==null?void 0:l.public_prompts)||((d=$())==null?void 0:d.role)==="admin"})));Kt(U,{accessRoles:["read","write"],get share(){return e(n)},get sharePublic(){return e(v)},get show(){return e(E)},set show(m){c(E,m)},get accessControl(){return e(z)},set accessControl(m){c(z,m)},$$legacy:!0})}var V=i(U,2),R=a(V),W=a(R),Ct=a(W);{let n=j(()=>(t(),e(x),o(()=>`${t().t("Only alphanumeric characters and hyphens are allowed")} - ${t().t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:e(x)})}`)));_t(Ct,{get content(){return e(n)},placement:"bottom-start",children:(v,m)=>{var s=te(),l=a(s),d=a(l);vt(d);var B=i(d,2);{var G=u=>{var f=Vt(),S=a(f,!0);r(f),T(N=>_(S,N),[()=>(t(),o(()=>t().t("Read Only")))]),A(u,f)},b=u=>{var f=Xt(),S=a(f),N=a(S);Jt(N,{strokeWidth:"2.5",className:"size-3.5"});var lt=i(N,2),qt=a(lt,!0);r(lt),r(S),r(f),T(Ot=>_(qt,Ot),[()=>(t(),o(()=>t().t("Access")))]),J("click",S,()=>{c(E,!0)}),A(u,f)};ct(B,u=>{p()?u(G):u(b,!1)})}r(l);var C=i(l,2),y=i(a(C),2);vt(y),r(C),r(s),T((u,f)=>{mt(d,"placeholder",u),d.disabled=p(),mt(y,"placeholder",f),y.disabled=D()||p()},[()=>(t(),o(()=>t().t("Title"))),()=>(t(),o(()=>t().t("Command")))]),ut(d,()=>e(h),u=>c(h,u)),ut(y,()=>e(x),u=>c(x,u)),J("input",y,kt),A(v,s)},$$slots:{default:!0}})}r(W);var Y=i(W,2),F=a(Y),X=a(F),At=a(X,!0);r(X),r(F);var tt=i(F,2),H=a(tt),Mt=a(H);{let n=j(()=>(t(),o(()=>t().t("Write a summary in 50 words that summarizes {{topic}}."))));Gt(Mt,{className:"text-sm w-full bg-transparent outline-hidden overflow-y-hidden resize-none",get placeholder(){return e(n)},rows:6,required:!0,get readonly(){return p()},get value(){return e(O)},set value(v){c(O,v)},$$legacy:!0})}r(H);var I=i(H,2),et=a(I),Z=i(et),Pt=a(Z);r(Z);var at=i(Z),rt=i(at);rt.textContent="{{";var st=i(rt),St=i(st);St.textContent="}}",Yt(),r(I);var it=i(I,2),ot=a(it),Tt=a(ot,!0);r(ot),r(it),r(tt),r(Y);var nt=i(Y,2),jt=a(nt);{let n=j(()=>(dt(p()),t(),o(()=>p()?t().t("You do not have permission to save this prompt."):"")));_t(jt,{get content(){return e(n)},children:(v,m)=>{var s=ae(),l=a(s),d=a(l,!0);r(l);var B=i(l,2);{var G=b=>{var C=ee(),y=a(C);Ut(y,{}),r(C),A(b,C)};ct(B,b=>{e(P)&&b(G)})}r(s),T(b=>{Ht(s,1,` text-sm w-full lg:w-fit px-4 py-2 transition rounded-xl ${e(P)||p()?" cursor-not-allowed bg-gray-200 text-gray-500 dark:bg-gray-700 dark:text-gray-400":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black"} flex w-full justify-center`),s.disabled=e(P)||p(),_(d,b)},[()=>(t(),o(()=>t().t("Save & Create")))]),A(v,s)},$$slots:{default:!0}})}r(nt),r(R),r(V),T((n,v,m,s,l,d)=>{_(At,n),_(et,`ⓘ ${v??""} `),_(Pt,`{{${m??""}}}`),_(at,`.
					${s??""} `),_(st,` ${l??""} `),_(Tt,d)},[()=>(t(),o(()=>t().t("Prompt Content"))),()=>(t(),o(()=>t().t("Format your variables using brackets like this:"))),()=>(t(),o(()=>t().t("variable"))),()=>(t(),o(()=>t().t("Make sure to enclose them with"))),()=>(t(),o(()=>t().t("and"))),()=>(t(),o(()=>t().t("To learn more about powerful prompt variables, click here")))]),J("submit",R,It(()=>{wt()})),A(xt,Q),Ft(),ht()}export{ke as P};
//# sourceMappingURL=CiK9EZ13.js.map
