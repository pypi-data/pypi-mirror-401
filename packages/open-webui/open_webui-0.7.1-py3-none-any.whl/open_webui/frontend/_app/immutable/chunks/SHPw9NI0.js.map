{"version":3,"file":"SHPw9NI0.js","sources":["../../../../../../src/lib/components/layout/ChatsModal.svelte","../../../../../../src/lib/components/chat/Settings/Account/UserProfileImage.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext } from 'svelte';\n\n\timport dayjs from 'dayjs';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\timport calendar from 'dayjs/plugin/calendar';\n\n\tdayjs.extend(localizedFormat);\n\tdayjs.extend(calendar);\n\n\timport { deleteChatById } from '$lib/apis/chats';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\timport Spinner from '../common/Spinner.svelte';\n\timport Loader from '../common/Loader.svelte';\n\timport XMark from '../icons/XMark.svelte';\n\timport ChevronUp from '../icons/ChevronUp.svelte';\n\timport ChevronDown from '../icons/ChevronDown.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\n\texport let title = 'Chats';\n\texport let emptyPlaceholder = '';\n\texport let shareUrl = false;\n\n\texport let query = '';\n\n\texport let orderBy = 'updated_at';\n\texport let direction = 'desc'; // 'asc' or 'desc'\n\n\texport let chatList = null;\n\texport let allChatsLoaded = false;\n\texport let chatListLoading = false;\n\n\tlet selectedChatId = null;\n\tlet selectedIdx = 0;\n\tlet showDeleteConfirmDialog = false;\n\n\texport let onUpdate = () => {};\n\n\texport let loadHandler: null | Function = null;\n\texport let unarchiveHandler: null | Function = null;\n\n\tconst setSortKey = (key) => {\n\t\tif (orderBy === key) {\n\t\t\tdirection = direction === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\torderBy = key;\n\t\t\tdirection = 'asc';\n\t\t}\n\t};\n\n\tconst deleteHandler = async (chatId) => {\n\t\tconst res = await deleteChatById(localStorage.token, chatId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tonUpdate();\n\t};\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tif (selectedChatId) {\n\t\t\tdeleteHandler(selectedChatId);\n\t\t\tselectedChatId = null;\n\t\t}\n\t}}\n/>\n\n<Modal size=\"lg\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-1\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{title}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full px-5 pb-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex w-full space-x-2 mb-0.5\">\n\t\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\t\tbind:value={query}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Chats')}\n\t\t\t\t\t\tmaxlength=\"500\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{#if query}\n\t\t\t\t\t\t<div class=\"self-center pl-1.5 pr-1 translate-y-[0.5px] rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tquery = '';\n\t\t\t\t\t\t\t\t\tselectedIdx = 0;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<XMark className=\"size-3\" strokeWidth=\"2\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t{#if chatList}\n\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t{#if chatList.length > 0}\n\t\t\t\t\t\t\t<div class=\"flex text-xs font-medium mb-1.5\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-1.5 py-1 cursor-pointer select-none basis-3/5\"\n\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('title')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Title')}\n\n\t\t\t\t\t\t\t\t\t\t{#if orderBy === 'title'}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-1.5 py-1 cursor-pointer select-none hidden sm:flex sm:basis-2/5 justify-end\"\n\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('updated_at')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Updated at')}\n\n\t\t\t\t\t\t\t\t\t\t{#if orderBy === 'updated_at'}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t\t{#if chatList.length === 0}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-500 dark:text-gray-400 text-center px-5 min-h-20 w-full h-full flex justify-center items-center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('No results found')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#each chatList as chat, idx (chat.id)}\n\t\t\t\t\t\t\t\t{#if (idx === 0 || (idx > 0 && chat.time_range !== chatList[idx - 1].time_range)) && chat?.time_range}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-xs text-gray-500 dark:text-gray-500 font-medium {idx === 0\n\t\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t\t: 'pt-5'} pb-2 px-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t(chat.time_range)}\n\t\t\t\t\t\t\t\t\t\t<!-- localisation keys for time_range to be recognized from the i18next parser (so they don't get automatically removed):\n\t\t\t\t\t\t\t{$i18n.t('Today')}\n\t\t\t\t\t\t\t{$i18n.t('Yesterday')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 7 days')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 30 days')}\n\t\t\t\t\t\t\t{$i18n.t('January')}\n\t\t\t\t\t\t\t{$i18n.t('February')}\n\t\t\t\t\t\t\t{$i18n.t('March')}\n\t\t\t\t\t\t\t{$i18n.t('April')}\n\t\t\t\t\t\t\t{$i18n.t('May')}\n\t\t\t\t\t\t\t{$i18n.t('June')}\n\t\t\t\t\t\t\t{$i18n.t('July')}\n\t\t\t\t\t\t\t{$i18n.t('August')}\n\t\t\t\t\t\t\t{$i18n.t('September')}\n\t\t\t\t\t\t\t{$i18n.t('October')}\n\t\t\t\t\t\t\t{$i18n.t('November')}\n\t\t\t\t\t\t\t{$i18n.t('December')}\n\t\t\t\t\t\t\t-->\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\" w-full flex justify-between items-center rounded-lg text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850\"\n\t\t\t\t\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\" basis-3/5\"\n\t\t\t\t\t\t\t\t\t\thref={shareUrl ? `/s/${chat.id}` : `/c/${chat.id}`}\n\t\t\t\t\t\t\t\t\t\ton:click={() => (show = false)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-ellipsis line-clamp-1 w-full\">\n\t\t\t\t\t\t\t\t\t\t\t{chat?.title}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t\t\t<div class=\"basis-2/5 flex items-center justify-end\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"hidden sm:flex text-gray-500 dark:text-gray-400 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t\tdayjs(chat?.updated_at * 1000).calendar(null, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsameDay: '[Today]',\n\t\t\t\t\t\t\t\t\t\t\t\t\tnextDay: '[Tomorrow]',\n\t\t\t\t\t\t\t\t\t\t\t\t\tnextWeek: 'dddd',\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastDay: '[Yesterday]',\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastWeek: '[Last] dddd',\n\t\t\t\t\t\t\t\t\t\t\t\t\tsameElse: 'L' // use localized format, otherwise dayjs.calendar() defaults to DD/MM/YYYY\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end pl-2.5 text-gray-600 dark:text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t{#if unarchiveHandler}\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Unarchive Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit px-1 text-sm rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunarchiveHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit px-1 text-sm rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedChatId = chat.id;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t\t{#if !allChatsLoaded && loadHandler}\n\t\t\t\t\t\t\t\t<Loader\n\t\t\t\t\t\t\t\t\ton:visible={(e) => {\n\t\t\t\t\t\t\t\t\t\tif (!chatListLoading) {\n\t\t\t\t\t\t\t\t\t\t\tloadHandler();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Spinner className=\" size-4\" />\n\t\t\t\t\t\t\t\t\t\t<div class=\" \">{$i18n.t('Loading...')}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Loader>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if query === ''}\n\t\t\t\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"w-full h-full flex justify-center items-center min-h-20\">\n\t\t\t\t\t\t<Spinner className=\"size-5\" />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<!-- {#if chats !== null}\n\t\t\t\t\t{#if chats.length > 0}\n\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t\t\t<div class=\"relative overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t<table\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<thead\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-1 border-gray-50 dark:border-gray-850/30\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2\"> {$i18n.t('Name')} </th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 hidden md:flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Created At')}\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 text-right\" />\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{#each chats as chat, idx}\n\t\t\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-transparent {idx !== chats.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'border-b'} dark:bg-gray-900 border-gray-50 dark:border-gray-850/30 text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 w-2/3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"/c/{chat.id}\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" hover:underline line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{chat.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\" px-3 py-1 hidden md:flex h-[2.5rem]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(chat.created_at * 1000).format('LLL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if unarchiveHandler}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Unarchive Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunarchiveHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-8\">\n\t\t\t\t\t\t\t{emptyPlaceholder || $i18n.t('No chats found.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"w-full h-full\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t{/if} -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\n\timport { getGravatarUrl } from '$lib/apis/utils';\n\timport { canvasPixelTest, generateInitialsImage } from '$lib/utils';\n\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\texport let profileImageUrl;\n\texport let user = null;\n\n\texport let imageClassName = 'size-14 md:size-18';\n\n\tlet profileImageInputElement;\n</script>\n\n<input\n\tid=\"profile-image-input\"\n\tbind:this={profileImageInputElement}\n\ttype=\"file\"\n\thidden\n\taccept=\"image/*\"\n\ton:change={(e) => {\n\t\tconst files = profileImageInputElement.files ?? [];\n\t\tlet reader = new FileReader();\n\t\treader.onload = (event) => {\n\t\t\tlet originalImageUrl = `${event.target.result}`;\n\n\t\t\tconst img = new Image();\n\t\t\timg.src = originalImageUrl;\n\n\t\t\timg.onload = function () {\n\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\t\t// Calculate the aspect ratio of the image\n\t\t\t\tconst aspectRatio = img.width / img.height;\n\n\t\t\t\t// Calculate the new width and height to fit within 250x250\n\t\t\t\tlet newWidth, newHeight;\n\t\t\t\tif (aspectRatio > 1) {\n\t\t\t\t\tnewWidth = 250 * aspectRatio;\n\t\t\t\t\tnewHeight = 250;\n\t\t\t\t} else {\n\t\t\t\t\tnewWidth = 250;\n\t\t\t\t\tnewHeight = 250 / aspectRatio;\n\t\t\t\t}\n\n\t\t\t\t// Set the canvas size\n\t\t\t\tcanvas.width = 250;\n\t\t\t\tcanvas.height = 250;\n\n\t\t\t\t// Calculate the position to center the image\n\t\t\t\tconst offsetX = (250 - newWidth) / 2;\n\t\t\t\tconst offsetY = (250 - newHeight) / 2;\n\n\t\t\t\t// Draw the image on the canvas\n\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\n\n\t\t\t\t// Get the base64 representation of the compressed image\n\t\t\t\tconst compressedSrc = canvas.toDataURL('image/webp', 0.8);\n\n\t\t\t\t// Display the compressed image\n\t\t\t\tprofileImageUrl = compressedSrc;\n\n\t\t\t\tprofileImageInputElement.files = null;\n\t\t\t};\n\t\t};\n\n\t\tif (\n\t\t\tfiles.length > 0 &&\n\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(files[0]['type'])\n\t\t) {\n\t\t\treader.readAsDataURL(files[0]);\n\t\t}\n\t}}\n/>\n\n<div class=\"flex flex-col self-start group\">\n\t<div class=\"self-center flex\">\n\t\t<button\n\t\t\tclass=\"relative rounded-full dark:bg-gray-700\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={() => {\n\t\t\t\tprofileImageInputElement.click();\n\t\t\t}}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={profileImageUrl !== '' ? profileImageUrl : generateInitialsImage(user?.name)}\n\t\t\t\talt=\"profile\"\n\t\t\t\tclass=\" rounded-full {imageClassName} object-cover\"\n\t\t\t/>\n\n\t\t\t<div class=\"absolute bottom-0 right-0 opacity-0 group-hover:opacity-100 transition\">\n\t\t\t\t<div class=\"p-1 rounded-full bg-white text-black border-gray-100 shadow\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"size-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\td=\"m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</button>\n\t</div>\n\t<div class=\"flex flex-col w-full justify-center mt-2\">\n\t\t<button\n\t\t\tclass=\" text-xs text-center text-gray-500 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={async () => {\n\t\t\t\tprofileImageUrl = `${WEBUI_BASE_URL}/user.png`;\n\t\t\t}}>{$i18n.t('Remove')}</button\n\t\t>\n\n\t\t<button\n\t\t\tclass=\" text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={async () => {\n\t\t\t\tif (canvasPixelTest()) {\n\t\t\t\t\tprofileImageUrl = generateInitialsImage(user?.name);\n\t\t\t\t} else {\n\t\t\t\t\ttoast.info(\n\t\t\t\t\t\t$i18n.t(\n\t\t\t\t\t\t\t'Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tduration: 1000 * 10\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}}>{$i18n.t('Initials')}</button\n\t\t>\n\n\t\t<button\n\t\t\tclass=\" text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={async () => {\n\t\t\t\tconst url = await getGravatarUrl(localStorage.token, user?.email);\n\n\t\t\t\tprofileImageUrl = url;\n\t\t\t}}>{$i18n.t('Gravatar')}</button\n\t\t>\n\t</div>\n</div>\n"],"names":["dayjs","localizedFormat","calendar","i18n","getContext","show","title","shareUrl","query","orderBy","direction","chatList","allChatsLoaded","chatListLoading","selectedChatId","selectedIdx","showDeleteConfirmDialog","onUpdate","$.prop","$$props","loadHandler","unarchiveHandler","setSortKey","key","deleteHandler","chatId","deleteChatById","error","toast","$$value","$.get","$.set","$.event","button_1","$$render","consequent","consequent_1","alternate","consequent_2","alternate_1","consequent_3","alternate_2","consequent_4","alternate_3","$i18n","button_2","button_3","$.each","node_13","chat","idx","$.set_class","div_14","$.untrack","button_4","e","consequent_8","button_5","a","consequent_9","consequent_10","consequent_11","alternate_4","button","profileImageUrl","user","imageClassName","profileImageInputElement","$.mutable_source","$.bind_this","input","generateInitialsImage","_a","files","reader","event","originalImageUrl","img","canvas","ctx","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","$.mutate","WEBUI_BASE_URL","canvasPixelTest","url","getGravatarUrl"],"mappings":"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"}