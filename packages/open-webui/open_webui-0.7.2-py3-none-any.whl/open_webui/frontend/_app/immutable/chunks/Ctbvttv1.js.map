{"version":3,"file":"Ctbvttv1.js","sources":["../../../../../../src/lib/components/common/Loader.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { createEventDispatcher, onDestroy, onMount } from 'svelte';\n\tconst dispatch = createEventDispatcher();\n\n\tlet loaderElement: HTMLElement;\n\n\tlet observer;\n\tlet intervalId;\n\n\tonMount(() => {\n\t\tobserver = new IntersectionObserver(\n\t\t\t(entries, observer) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\tintervalId = setInterval(() => {\n\t\t\t\t\t\t\tdispatch('visible');\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t// dispatch('visible');\n\t\t\t\t\t\t// observer.unobserve(loaderElement); // Stop observing until content is loaded\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclearInterval(intervalId);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t{\n\t\t\t\troot: null, // viewport\n\t\t\t\trootMargin: '0px',\n\t\t\t\tthreshold: 0.1 // When 10% of the loader is visible\n\t\t\t}\n\t\t);\n\n\t\tobserver.observe(loaderElement);\n\t});\n\n\tonDestroy(() => {\n\t\tif (observer) {\n\t\t\tobserver.disconnect();\n\t\t}\n\n\t\tif (intervalId) {\n\t\t\tclearInterval(intervalId);\n\t\t}\n\t});\n</script>\n\n<div bind:this={loaderElement}>\n\t<slot />\n</div>\n"],"names":["dispatch","createEventDispatcher","loaderElement","$.mutable_source","observer","intervalId","onMount","entries","entry","$.get","onDestroy","$.bind_this","div","$$value","$.set"],"mappings":"2SAAA,SAEO,MAAAA,EAAWC,QAEbC,EAA0BC,IAE1BC,EACAC,EAEJC,EAAc,IAAA,CACbF,MAAe,sBACbG,EAASH,IAAa,CACtBG,EAAQ,QAASC,GAAU,CACtBA,EAAM,eACTH,EAAa,YAAkB,IAAA,CAC9BL,EAAS,SAAS,CAClB,EAAE,KAIH,cAAcK,CAAU,EAEzB,CACD,GAEA,KAAM,KACN,WAAY,MACZ,UAAW,KAIbD,EAAS,QAAOK,EAACP,CAAa,CAAA,EAC9B,EAEDQ,EAAgB,IAAA,CACXN,GACHA,EAAS,WAAU,EAGhBC,GACH,cAAcA,CAAU,EAEzB,qDAGcM,EAAAC,EAAAC,GAAAC,EAAAZ,WAAAA,CAAa,CAAA,YAF7B"}