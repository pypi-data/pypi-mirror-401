import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{g as h,o as y,d as S,e as v,a as C,p as x,b as B,i,m as l,j as e}from"../chunks/Cef1s1vS.js";import{i as j}from"../chunks/DtBwJrag.js";import{i as E}from"../chunks/D6HxSY24.js";import{s as M,a as u}from"../chunks/B0aKtzpN.js";import{t as r}from"../chunks/Bfaq2Jpc.js";import{g as n}from"../chunks/CbpIPn_g.js";import{p as q}from"../chunks/Bj3l_-zj.js";import{a as z,u as A,g as D}from"../chunks/Ba4FSOdZ.js";import{p as F}from"../chunks/DpXWboF5.js";import{P as G}from"../chunks/C2xQjE_X.js";function W(f,g){B(g,!1);const d=()=>u(k,"$i18n",c),$=()=>u(F,"$page",c),[c,w]=M(),k=h("i18n");let a=l(null),m=l(!1);const P=async o=>{await A(localStorage.token,o).catch(s=>(r.error(`${s}`),null))&&(r.success(d().t("Prompt updated successfully")),await q.set(await D(localStorage.token)),await n("/workspace/prompts"))};y(async()=>{const o=$().url.searchParams.get("command");if(o){const t=await z(localStorage.token,o.replace(/\//g,"")).catch(s=>(r.error(`${s}`),null));t?(i(m,!t.write_access),i(a,{title:t.title,command:t.command,content:t.content,access_control:(t==null?void 0:t.access_control)===void 0?{}:t==null?void 0:t.access_control})):n("/workspace/prompts")}else n("/workspace/prompts")}),E();var p=S(),b=v(p);{var _=o=>{G(o,{get prompt(){return e(a)},onSubmit:P,get disabled(){return e(m)},edit:!0})};j(b,o=>{e(a)&&o(_)})}C(f,p),x(),w()}export{W as component};
//# sourceMappingURL=39.DDYFCOEg.js.map
