#!/usr/bin/env python3
"""
Shared fixtures for auto-generated CLI tests

Generated by: tests/generators/test_generator.py
DO NOT EDIT MANUALLY - Regenerate with: python tests/generators/test_generator.py
"""

import os
import pytest

# Ensure testing environment is set
os.environ["N8N_DEPLOY_TESTING"] = "1"


@pytest.fixture(autouse=True)
def testing_env():
    """Ensure N8N_DEPLOY_TESTING is set for all tests."""
    old_value = os.environ.get("N8N_DEPLOY_TESTING")
    os.environ["N8N_DEPLOY_TESTING"] = "1"
    yield
    if old_value is None:
        os.environ.pop("N8N_DEPLOY_TESTING", None)
    else:
        os.environ["N8N_DEPLOY_TESTING"] = old_value
