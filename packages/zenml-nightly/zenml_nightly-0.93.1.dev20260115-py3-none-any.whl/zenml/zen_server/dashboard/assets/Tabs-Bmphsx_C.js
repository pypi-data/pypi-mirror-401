import{j as a}from"./@radix-Da0HZyg8.js";import{r as C,T as h,c4 as j,e as v,C as S,o as y,q as T,t as w,v as k,s as P,al as I,am as f,ap as _,aq as d,ar as u,c5 as E,d as L,a8 as U,at as x}from"./index-5vBAbha7.js";import{S as A}from"./scrolling-tabs-list-M0fKPxdm.js";import{a as N}from"./@monaco-editor-xs6rrDBC.js";import{S as D}from"./transform-pqykL0RU.js";import{L as O,f as R,c as q}from"./@react-router-BEwS6i40.js";import{K as n,N as z}from"./KeyValue-DYzqWDCu.js";import{z as b}from"./@zod-yP6IINRw.js";function B({connectorName:s,connectorId:e}){return a.jsx(O,{to:C.settings.connectors.detail.configuration(e),children:a.jsxs(h,{color:"yellow",rounded:!1,className:"w-fit gap-0.5",emphasis:"subtle",children:[a.jsx(D,{width:20,height:20,className:"shrink-0 fill-warning-900"}),a.jsx("span",{children:s})]})})}function F({componentId:s}){return a.jsxs("section",{className:"grid grid-cols-1 gap-5 @5xl:grid-cols-2",children:[a.jsx("div",{children:a.jsx(K,{componentId:s})}),a.jsx("div",{children:a.jsx(M,{componentId:s})})]})}function K({componentId:s}){const[e,m]=N.useState(!0),o=j(s);if(o.isError)return null;if(o.isPending)return a.jsx(v,{className:"h-[150px] w-full"});const t=o.data,r=t.resources?.user,i=t.body?.created,c=t.body?.updated,l=t.metadata?.connector;return a.jsxs(S,{open:e,onOpenChange:m,children:[a.jsx(y,{className:"flex items-center gap-[10px]",children:a.jsxs(T,{className:"flex w-full items-center",children:[a.jsx(w,{className:` ${e?"":"-rotate-90"} mr-2 h-5 w-5 rounded-md fill-neutral-500 transition-transform duration-200 hover:bg-neutral-200`}),"Basic Parameters"]})}),a.jsx(k,{className:"border-t border-theme-border-moderate bg-theme-surface-primary px-5 py-3",children:a.jsxs("dl",{className:"grid grid-cols-1 gap-x-[10px] gap-y-2 md:grid-cols-3 md:gap-y-4",children:[a.jsx(n,{label:"Component Name",value:t.name}),a.jsx(n,{label:"Flavor",value:a.jsxs(h,{rounded:!1,className:"w-fit gap-0.5 text-theme-text-primary",color:"grey",emphasis:"minimal",children:[a.jsx("img",{width:20,height:20,src:P(t.body?.logo_url||""),alt:"Flavor Icon of Component"}),a.jsx("p",{className:"truncate",children:t.resources?.flavor?.body?.display_name})]})}),a.jsx(n,{label:"Author",value:r?a.jsx(I,{avatarUrl:r.body?.avatar_url??void 0,username:r.name,isServiceAccount:!!r.body?.is_service_account}):"Not available"}),a.jsx(n,{label:"Service Connector",value:l?a.jsx(B,{connectorName:l.name,connectorId:l.id}):"Not available"}),a.jsx(n,{label:"Updated",value:c?a.jsx(f,{dateString:c}):"Not available"}),a.jsx(n,{label:"Created",value:i?a.jsx(f,{dateString:i}):"Not available"})]})})]})}function M({componentId:s}){const e=j(s);return e.isError?null:e.isPending?a.jsx(v,{className:"h-[150px] w-full"}):a.jsx(z,{isInitialOpen:!0,intent:"primary",title:"Configuration",data:e.data.metadata?.configuration})}const V=b.object({tab:b.enum(["configuration","stacks","runs"]).optional().default("configuration").catch("configuration")});function $(){const[s]=R(),{tab:e}=V.parse({tab:s.get("tab")||void 0});return e}function aa({componentId:s,isPanel:e,stacksTabContent:m,runsTabContent:o}){const[t,r]=N.useState("configuration"),i=$(),c=q();function l(p){if(e){r(p);return}const g=new URLSearchParams;g.set("tab",p),c(`?${g.toString()}`)}return a.jsx("div",{className:"p-5",children:a.jsxs(_,{value:e?t:i,onValueChange:l,children:[a.jsxs(A,{children:[a.jsxs(d,{className:"flex items-center gap-2 text-text-md",value:"configuration",children:[a.jsx(u,{icon:E}),a.jsx("span",{children:"Configuration"})]}),a.jsxs(d,{className:"flex items-center gap-2 text-text-md",value:"stacks",children:[a.jsx(u,{icon:L}),a.jsx("span",{children:"Stacks"})]}),a.jsxs(d,{className:"flex items-center gap-2 text-text-md",value:"runs",children:[a.jsx(u,{icon:U}),a.jsx("span",{children:"Runs"})]})]}),a.jsx(x,{className:"m-0 mt-5 border-0 bg-transparent p-0",value:"configuration",children:a.jsx(F,{componentId:s})}),a.jsx(x,{className:"m-0 mt-5 border-0 bg-transparent p-0",value:"stacks",children:m}),a.jsx(x,{className:"m-0 mt-5 border-0 bg-transparent p-0",value:"runs",children:o})]})})}export{aa as S};
