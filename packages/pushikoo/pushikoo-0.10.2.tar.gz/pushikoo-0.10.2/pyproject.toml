[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[project]
name = "pushikoo"
dynamic = ["version"]
description = "A message synchronization framework."
authors = [{ name = "Pushikoo" }]
requires-python = "==3.12.*"
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]
dependencies = [
    "alembic>=1.17.2,<2.0.0",
    "apscheduler>=3.11.1,<4.0.0",
    "authlib>=1.6.6,<2.0.0",
    "diskcache>=5.6.3,<6.0.0",
    "fastapi>=0.124.4,<0.125.0",
    "httpx>=0.28.1,<0.29.0",
    "itsdangerous>=2.2.0,<3.0.0",
    "loguru>=0.7.3,<0.8.0",
    "pillow>=12.0.0,<13.0.0",
    "pydantic>=2.12.4,<3.0.0",
    "pydantic-settings>=2.12.0,<3.0.0",
    "pyjwt[crypto]>=2.10.1",
    "python-multipart>=0.0.20,<0.0.21",
    "requests>=2.32.5,<3.0.0",
    "sqlalchemy>=2.0.45,<3.0.0",
    "sqlmodel>=0.0.27,<0.0.28",
    "starlette>=0.50.0,<0.51.0",
    "uvicorn>=0.38.0,<0.39.0",
    "pushikoo-adapter-testgetter",
    "pushikoo-adapter-testprocesser",
    "pushikoo-adapter-testpusher",
    "pushikoo-interface>=1.0.2",
    "sqlalchemy-utc>=0.14.0",
]

[project.urls]
"Homepage" = "https://github.com/Pushikoo/Pushikoo"

[project.scripts]
pushikoo = "pushikoo.app:main"

[project.optional-dependencies]
dev = ["pip-audit>=2.10.0", "ruff", "pytest"]
build = ["hatch>=1.16.2"]

[tool.hatch.build.targets.sdist]
exclude = ["/.github", "/.vscode", "/uv.lock", "/.gitignore"]

[tool.hatch.version]
source = "vcs"

[tool.hatch.version.raw-options]
root = ".."

[tool.hatch.build]
artifacts = ["src/pushikoo/frontend-static/**/*"]

[tool.ruff]
respect-gitignore = true

[tool.pip-tools]
no-emit-index-url = true

[tool.pytest.ini_options]
addopts = "--rootdir=."
pythonpath = ["src"]
testpaths = ["test"]
