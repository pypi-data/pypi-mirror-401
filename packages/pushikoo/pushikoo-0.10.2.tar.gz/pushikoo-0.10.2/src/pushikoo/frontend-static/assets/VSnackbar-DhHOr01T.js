import{u as M,o as C,p as O}from"./VMenu-CRN2gxfd.js";import{f as Y}from"./forwardRefs-DYN4dGLY.js";import{g as E,p as U,q as $,d as j,r as y,s as g,a7 as q,v as z,aL as G,x as H,w as p,o as K,b2 as Q,f as Z,u as J,c as P,z as L,B as W,i as X,D as ee,F as te,b3 as ae,b as V}from"./index-DMKqdLaf.js";import{N as se,Z as ne,c as oe,U as re,d as ie,O as le,Q as ue,$ as ce,a0 as ve,g as me}from"./_plugin-vue_export-helper-DIV_95uD.js";function fe(e){const n=g(e());let s=-1;function t(){clearInterval(s)}function v(){t(),te(()=>n.value=e())}function m(r){const f=r?getComputedStyle(r):{transitionDuration:.2},i=parseFloat(f.transitionDuration)*1e3||200;if(t(),n.value<=0)return;const d=performance.now();s=window.setInterval(()=>{const k=performance.now()-d+i;n.value=Math.max(e()-k,0),n.value<=0&&t()},i)}return ee(t),{clear:t,time:n,start:m,reset:v}}const de=U({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ue({location:"bottom"}),...le(),...ie(),...re(),...X(),...W(O({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","retainFocus","captureFocus","disableInitialFocus","scrim","scrollStrategy","stickToTarget","viewportMargin"])},"VSnackbar"),Ve=E()({name:"VSnackbar",props:de(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:s}=n;const t=$(e,"modelValue"),{positionClasses:v}=se(e),{scopeId:m}=M(),{themeClasses:r}=j(e),{colorClasses:f,colorStyles:i,variantClasses:d}=ne(e),{roundedClasses:k}=oe(e),l=fe(()=>Number(e.timeout)),w=y(),T=y(),u=g(!1),h=g(0),S=y(),_=q(ae,void 0);z(()=>!!_,()=>{const a=G();H(()=>{S.value=a.mainStyles.value})}),p(t,c),p(()=>e.timeout,c),K(()=>{t.value&&c()});let b=-1;function c(){l.reset(),window.clearTimeout(b);const a=Number(e.timeout);if(!t.value||a===-1)return;const o=Q(T.value);l.start(o),b=window.setTimeout(()=>{t.value=!1},a)}function B(){l.reset(),window.clearTimeout(b)}function F(){u.value=!0,B()}function x(){u.value=!1,c()}function N(a){h.value=a.touches[0].clientY}function R(a){Math.abs(h.value-a.changedTouches[0].clientY)>50&&(t.value=!1)}function A(){u.value&&x()}const D=Z(()=>e.location.split(" ").reduce((a,o)=>(a[`v-snackbar--${o}`]=!0,a),{}));return J(()=>{const a=C.filterProps(e),o=!!(s.default||s.text||e.text);return P(C,L({ref:w,class:["v-snackbar",{"v-snackbar--active":t.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},D.value,v.value,e.class],style:[S.value,e.style]},a,{modelValue:t.value,"onUpdate:modelValue":I=>t.value=I,contentProps:L({class:["v-snackbar__wrapper",r.value,f.value,k.value,d.value],style:[i.value],onPointerenter:F,onPointerleave:x},a.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:N,onTouchend:R,onAfterLeave:A},m),{default:()=>[ce(!1,"v-snackbar"),e.timer&&!u.value&&V("div",{key:"timer",class:"v-snackbar__timer"},[P(ve,{ref:T,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:l.time.value},null)]),o&&V("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[s.text?.()??e.text,s.default?.()]),s.actions&&P(me,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[V("div",{class:"v-snackbar__actions"},[s.actions({isActive:t})])]})],activator:s.activator})}),Y({},w)}});export{Ve as V};
