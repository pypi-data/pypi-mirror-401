default_language_version:
  python: "3.11"

repos:
  - repo: local
    hooks:
      # Formatting
      - id: ruff-format
        name: ruff-format
        entry: uv run ruff format
        language: system
        types: [python]
        require_serial: true

      # Security
      - id: check-added-large-files
        name: check-added-large-files
        entry: uv run check-added-large-files
        language: system
      - id: detect-private-key
        name: detect-private-key
        entry: uv run detect-private-key
        language: system
        types: [text]

      # Linting
      - id: check-jsonschema
        name: check-jsonschema
        entry: uv run check-jsonschema
        language: system
        types: [json, yaml]
      - id: end-of-file-fixer
        name: end-of-file-fixer
        entry: uv run python -m pre_commit_hooks.end_of_file_fixer
        language: system
      - id: trailing-whitespace
        name: trailing-whitespace
        entry: uv run python -m pre_commit_hooks.trailing_whitespace_fixer
        language: system
      - id: ruff
        name: ruff (critical subset)
        entry: uv run ruff check
        language: system
        types: [python]
        args:
          - --select=F,E,B,S,PERF,TRY,I,T100
          - --extend-ignore=TRY003
          - --exit-non-zero-on-fix
          - --force-exclude

exclude: 'notebooks/.*|data/.*'
