"""
Advanced Markdown delimiters for Telethon

Importing this module activates additional delimiters globally
using Telethon's supported DEFAULT_DELIMITERS mechanism.

These delimiters are OPTIONAL sugar on top of:
- native markdown
- universal URL-based markdown

===============================

üì¶ Delimiters advanced add-ons for Telethon
üë§ Created by Ankit Chaubey | https://github.com/ankit-chaubey/delimiters
¬© 2026 Ankit Chaubey. All rights reserved.
üì¨ Contact: m.ankitchaubey@gmail.com | Telegram: @ankify @AnkitChaubey @ChaubeyBot
‚ö†Ô∏è Warning: Do not edit this file unless you are absolutely sure what you are doing.
üí• Changing this file may break the package.
üöÄ Initially built for personal use, now released publicly.
"""

from telethon.extensions import markdown
from telethon import types
from telethon.tl import TLObject
from telethon.tl.types import (
    MessageEntityBold,
    MessageEntityItalic,
    MessageEntityCode,
    MessageEntityPre,
    MessageEntityEmail,
    MessageEntityUrl,
    MessageEntityTextUrl,
    MessageEntityMentionName,
    MessageEntityUnderline,
    MessageEntityStrike,
    MessageEntityBlockquote,
    MessageEntityCustomEmoji,
    MessageEntitySpoiler,
    TypeMessageEntity,
)

# ===============================
# Inline formatting
# ===============================

# !!underline!!
markdown.DEFAULT_DELIMITERS["!!"] = types.MessageEntityUnderline

# ||spoiler||
markdown.DEFAULT_DELIMITERS["||"] = types.MessageEntitySpoiler


# ===============================
# Blockquote formatting
# ===============================

# %%collapsed blockquote%%
markdown.DEFAULT_DELIMITERS["%%"] = (
    lambda *a, **k: types.MessageEntityBlockquote(
        *a,
        **k,
        collapsed=True,
    )
)

# ^^expanded blockquote^^
markdown.DEFAULT_DELIMITERS["^^"] = (
    lambda *a, **k: types.MessageEntityBlockquote(
        *a,
        **k,
        collapsed=False,
    )
)

# Re-export markdown so users can do:
# from delimiters import markdown
__all__ = ["markdown"]
