# =============================================================================
# Team Developer Container
# =============================================================================
# Generated by: build-team-image.sh
# Config file:  team-config.yaml
# Generated at: 2026-01-03T00:23:06Z
#
# Build with:
#   docker build -t my-company/dev-container:latest -f Dockerfile.team .
#
# Or use the build script:
#   ./scripts/build-team-image.sh --config team-config.yaml --build
# =============================================================================

FROM grandcamel/claude-devcontainer:enhanced

# Switch to root for package installation
USER root

# =============================================================================
# System Packages (apt)
# =============================================================================
RUN apt-get update && apt-get install -y --no-install-recommends \
    graphviz libpq-dev libmagic1 \
    && rm -rf /var/lib/apt/lists/*

# =============================================================================
# Python Packages (pip)
# =============================================================================
RUN pip3 install --no-cache-dir --break-system-packages \
    flask sqlalchemy requests boto3 pandas

# =============================================================================
# Node.js Packages (npm global)
# =============================================================================
RUN npm install -g \
    typescript ts-node @types/node


# =============================================================================
# Team Environment Variables
# =============================================================================
ENV TEAM_NAME="Platform Engineering"

# =============================================================================
# Image Labels
# =============================================================================
LABEL maintainer="platform-team@company.com"
LABEL team="platform-engineering"

# =============================================================================
# Final Configuration
# =============================================================================
# Switch back to non-root user
USER devuser
WORKDIR /workspace

# Default to interactive bash
ENTRYPOINT ["/bin/bash"]
CMD ["-l"]
