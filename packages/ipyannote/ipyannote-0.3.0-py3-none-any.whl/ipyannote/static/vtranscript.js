var f=t=>{let s=parseInt(t.slice(1),16),e=s>>16&255,l=s>>8&255,i=s&255;return .2126*e+.7152*l+.0722*i>128};function u({model:t,el:s}){let e=document.createElement("div");e.tabIndex=-1;let l=t.get("height");e.style.height=l,e.style.overflowY="auto";function i(){let c={...t.get("labels")},o=t.get("transcript");for(;e.firstChild;)e.removeChild(e.firstChild);o.forEach(n=>{let r=document.createElement("div");r.textContent=n.text,r.setAttribute("data-start",n.start.toString()),r.setAttribute("data-end",n.end.toString());let a=n.speaker,d=c[a]?c[a]:"#ffffff";r.style.backgroundColor=d,r.style.color=f(d)?"#000000":"#ffffff",e.appendChild(r),r.addEventListener("click",()=>{t.set("current_time",n.start),t.save_changes()})})}function g(){console.log("current time changed");let c=t.get("current_time");console.log(c);let o=e.querySelectorAll("div");console.log(o),o.forEach(n=>{let r=parseFloat(n.getAttribute("data-start")||"0"),a=parseFloat(n.getAttribute("data-end")||"0");console.log(r,a),c>=r&&c<=a?(n.classList.add("active"),n.scrollIntoView({behavior:"smooth",block:"center"}),console.log("active")):n.classList.remove("active")})}return t.on("change:transcript",i),t.on("change:labels",i),i(),t.on("change:current_time",g),s.classList.add("ipyannote","ipyannote-transcript"),s.appendChild(e),()=>{}}var m={render:u};export{m as default};
