Metadata-Version: 2.4
Name: web-manage-mcp
Version: 0.3.0
Summary: MCP server for Java backend CRUD operations with Sa-Token authentication
License: MIT
Keywords: crud,java,mcp,satoken
Requires-Python: >=3.10
Requires-Dist: asyncio-throttle>=1.0.0
Requires-Dist: httpx>=0.24.0
Requires-Dist: mcp>=1.0.0
Requires-Dist: pydantic>=2.0.0
Description-Content-Type: text/markdown

# Web管理MCP服务器

Java后台管理系统CRUD操作的MCP工具，支持Sa-Token鉴权。

## 功能

- 创建资源 (POST)
- 查询资源 (GET /{id})
- 更新资源 (PUT)
- 批量删除 (DELETE /batchDelete?ids=)
- 分页查询 (GET ?currentPage=&pageSize=)
- 自定义请求

## 安装

```bash
uvx install web-manage-mcp
```

## MCP配置

```json
{
  "mcpServers": {
    "web-manage-mcp": {
      "command": "uvx",
      "args": ["web-manage-mcp"],
      "env": {
        "MCP_COOKIE_AUTH_NAME": "satoken",
        "MCP_COOKIE_AUTH_TOKEN": "your-token-here"
      }
    }
  }
}
```

## 工具列表

| 工具 | 描述 | 参数 |
|-----|------|-----|
| `java_add_api` | 添加API配置 | `name`, `base_url`, `cookie_name?`, `cookie_token?` |
| `java_create` | 创建资源 POST | `api_name`, `endpoint`, `data` |
| `java_get` | 查询资源 GET /{id} | `api_name`, `endpoint`, `item_id` |
| `java_update` | 更新资源 PUT | `api_name`, `endpoint`, `data` |
| `java_delete` | 批量删除 DELETE | `api_name`, `endpoint`, `ids` |
| `java_list` | 分页查询 GET | `api_name`, `endpoint`, `page?`, `size?`, `params?` |
| `java_custom` | 自定义请求 | `api_name`, `method`, `endpoint`, `data?`, `params?` |
| `java_list_apis` | 列出已配置API | 无 |
| `java_update_token` | 更新token | `api_name`, `token` |

## 使用示例

```javascript
// 1. 配置API
java_add_api({
  "name": "admin",
  "base_url": "http://localhost:8080",
  "cookie_token": "your-satoken"
})

// 2. 查询用户列表
java_list({
  "api_name": "admin",
  "endpoint": "/admin/user",
  "page": 1,
  "size": 10
})

// 3. 新增用户
java_create({
  "api_name": "admin",
  "endpoint": "/admin/user",
  "data": {"username": "test", "password": "123456"}
})

// 4. 更新用户
java_update({
  "api_name": "admin",
  "endpoint": "/admin/user",
  "data": {"id": 1, "username": "test2"}
})

// 5. 删除用户
java_delete({
  "api_name": "admin",
  "endpoint": "/admin/user",
  "ids": [1, 2, 3]
})
```

## 支持的后台接口

适配以下接口模式：
- `/admin/user` - 用户管理
- `/admin/role` - 角色管理
- `/admin/permission` - 权限管理
- `/admin/dict` - 字典管理
- `/admin/notice` - 通知管理
- `/admin/operLog` - 操作日志
- `/admin/front-user` - 前台用户
- `/admin/com-query` - 通用查询

## License

MIT
