[build-system]
requires = ["setuptools>=61.0", ]
build-backend = "setuptools.build_meta"

[project]
name = "excel2moodle"
version = "0.9.3"
authors = [
  { name="Jakob Bosse" },
]
license = "GPL-3.0-or-later"
keywords = ["moodle", "XML", "teaching", "question", "converter", "open educational Ressource" ]

dependencies = [
    "pandas>=2.1.3",
    "lxml>=5.4.0",
    "asteval>=1.0.6",
    "python-calamine>=0.3.2",
    "pyside6-essentials>=6.8.0",
    "pyyaml>=6.0.2",
    "matplotlib>=3.10.7",
]

description = "A package for converting questions from a spreadsheet, to valid moodle-xml"
readme = "README.md"
requires-python = ">=3.10"
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]

[project.scripts]
excel2moodle = "excel2moodle.__main__:main"

# [project.gui-scripts]
# excel2moodle = "excel2moodle.__main__:main"

[tool.setuptools.packages.find]
where = ["."]  # Look for packages in the root directory
include = ["excel2moodle*"]  # Include all packages starting with excel2moodle
namespaces = false

[tool.pytest.ini_options]
pythonpath = ["."]

[dependency-groups]
dev = [
    "pytest>=8.4.1",
    "ty>=0.0.1a10",
]
doc = [
    "asteval>=1.0.6",
    "lxml>=5.4.0",
    "sphinx>=7.4.7",
    "sphinx-autodoc-typehints>=3.0.1",
    "sphinx-copybutton>=0.5.2",
    "sphinx-rtd-theme>=2.0.0",
    "toml>=0.10.2",
]

[project.urls]
Repository = "https://gitlab.com/jbosse3/excel2moodle.git"
Documentation = "https://jbosse3.gitlab.io/excel2moodle"

[tool.ruff]
show-fixes = true
unsafe-fixes = true
line-length = 88


[tool.ruff.lint]
select = ["ALL"]
ignore = ["N802", "N803", "N806","N815", "Q0", "W191", "D213","D203", "COM812"]
fixable = ["ALL"]
unfixable = ["T201", "F841"]

[tool.ruff.lint.pycodestyle]
max-doc-length = 88

[tool.ruff.format]
quote-style = "double"

[tool.ty.src]
exclude = [
    "build/**"
]

[tool.pyright]
exclude = [
    "build/**"
]
