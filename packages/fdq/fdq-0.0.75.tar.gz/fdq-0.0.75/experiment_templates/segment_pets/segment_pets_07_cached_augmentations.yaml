defaults:
  - segment_pets_06_cached
  - _self_

globals:
  project: Segment OXPET
  author: Marc
  comment: "Same experiment as segment_pets_05_cached.yaml, but with additional non-deterministic transformations (augmentations). This lets you split transforms into deterministic (cached) and random (on-the-fly)."

mode:
  run_train: true
  run_test_interactive: false
  run_test_auto: true
  dump_model: false
  run_inference: false
  print_model_summary: false
  resume_chpt_path: null
    
transforms:
  random_vertical_flip_sync: # random_vertical_flip_sync is used in the oxpets_augmentation.py processor
    - SynchronizedRandomVerticalFlip:
        p: 0.5
    
store:
  results_path: ~/data_ML/results

data:
  OXPET:
    caching:
      nondeterministic_transforms:
        processor: ~/dev/fonduecaquelon/experiment_templates/segment_pets/oxpets_augmentation.py

slurm_cluster:
  fdq_test_repo: false
  fdq_version: 0.0.75
  python_env_module: python/3.12.4
  uv_env_module: uv/0.6.12
  cuda_env_module: cuda/12.8.0
  scratch_results_path: /scratch/fdq_results/
  scratch_data_path: /scratch/fdq_data/
  log_path: ~/dev/fonduecaquelon/slurm_log
  job_time: 15
  stop_grace_time: 3
  cpus_per_task: 8
  cpus_per_task_test: 8
  gres: gpu:1
  gres_test: gpu:1
  mem: 120G
  mem_test: 120G
  partition: gpu
  account: cai_ivs
  auto_resubmit: true
  world_size: 1
  additional_pip_packages:
    - chuchichaestli==0.2.14
