[project]
    description     = "Method chaining for iterables and dictionaries in Python."
    name            = "pyochain"
    readme          = "README.md"
    requires-python = ">=3.13"
    version         = "0.9.0"

    dependencies = ["cytoolz>=1.0.1"]

    classifiers = ["License :: OSI Approved :: MIT License"]

[dependency-groups]
    dev = [
        "cytoolz-stubs",
        "memory-profiler>=0.61.0",
        "mkdocstrings-python>=1.18.2",
        "polars>=1.33.1",
        "pydoclint>=0.8.1",
        "pytest-doctest-mkdocstrings>=0.1.1",
        "pytest-stubtester",
        "pytest>=9.0.2",
        "ruff>=0.14.9",
        "toml>=0.10.2",
        "typer>=0.21.1",
        "zensical>=0.0.15",
    ]
[tool.ruff]
    lint.ignore = [
        "C417",
        "COM812",
        "COM812",
        "D401",
        "E501",
        "FIX002",
        "PLC0415",
        "PLR2004",
        "PYI021",
        "S101",
        "S608",
        "SLF001",
        "T201",
        "TC003",
        "TC006",
        "TD002",
        "TD003",
        "TID252",
    ]
    lint.select = ["ALL"]
    [tool.ruff.format]
        docstring-code-format = true
    [tool.ruff.lint.pydocstyle]
        convention = "google"

[tool.pydoclint]
    arg-type-hints-in-docstring                   = true
    arg-type-hints-in-signature                   = true
    check-class-attributes                        = true
    check-raises                                  = true
    check-return-types                            = true
    check-yield                                   = true
    require-arg-section                           = true
    require-return-section                        = true
    require-return-section-when-returning-nothing = false
    skip-checking-short-docstrings                = true
    style                                         = "google"

[tool.uv.sources]
    cytoolz-stubs     = { git = "https://github.com/OutSquareCapital/cytoolz-stubs.git" }
    pytest-stubtester = { git = "https://github.com/OutSquareCapital/pytest-stubtester.git" }

[build-system]
    build-backend = "maturin"
    requires      = ["maturin>=1.8,<2.0"]

[tool.maturin]
    manifest-path = "rust/Cargo.toml"
    module-name   = "pyochain.rs"
    python-source = "src"
