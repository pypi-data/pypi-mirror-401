[settings]
python.uv_venv_auto = true

[tools]
python = "3.12"
uv = "latest"
jq = "latest"

[env]
_.python.venv = { path = ".venv" }
_.file = ".env"

[tasks]
install = "uv sync"
test = "uv run pytest"
lint = "uv run ruff check"
format = "uv run ruff format"
"format:check" = "uv run ruff format --check"
claude-hook-lint = "./scripts/claude-hook-lint.sh"
sync-readme = "uv run python scripts/sync_readme.py"
"docs:install" = "uv sync --group docs --group dev"
"docs:prep" = "cp CHANGELOG.md docs/CHANGELOG.md"

[tasks."docs:serve"]
run = "uv run zensical serve"
depends = ["docs:install", "docs:prep"]

[tasks."docs:build"]
run = "uv run zensical build"
depends = ["docs:prep"]
