window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:true,processEnvironments:true,packages:{'[+]':['ams','newcommand','configmacros']},tags:'ams'},options:{skipHtmlTags:['script','noscript','style','textarea','pre','code'],ignoreHtmlClass:'tex2jax_ignore',processHtmlClass:'tex2jax_process'},startup:{ready:()=>{console.log('MathJax å·²åŠ è½½å®Œæˆ')
MathJax.startup.defaultReady()
if(window._mathJaxPendingElements){window._mathJaxPendingElements.forEach(el=>{MathJax.typesetPromise([el]).catch(err=>console.warn('MathJax æ¸²æŸ“å¤±è´¥:',err))})
window._mathJaxPendingElements=[]}}}}
window._mathJaxLoading=false
window._mathJaxLoaded=false
window._mathJaxPendingElements=[]
window.hasMathContent=function(text){if(!text)return false
const mathPatterns=[/\$[^$]+\$/,/\$\$[^$]+\$\$/,/\\\([^)]+\\\)/,/\\\[[^\]]+\\\]/]
return mathPatterns.some(pattern=>pattern.test(text))}
window.loadMathJaxIfNeeded=function(element,text){if(!window.hasMathContent(text)){return}
if(window._mathJaxLoaded&&window.MathJax&&window.MathJax.typesetPromise){MathJax.typesetPromise([element]).catch(err=>console.warn('MathJax æ¸²æŸ“å¤±è´¥:',err))
return}
window._mathJaxPendingElements.push(element)
if(window._mathJaxLoading){return}
window._mathJaxLoading=true
console.log('ğŸ“ æ£€æµ‹åˆ°æ•°å­¦å…¬å¼ï¼Œå¼€å§‹åŠ è½½ MathJax (1.17MB)...')
const script=document.createElement('script')
script.id='MathJax-script'
script.async=true
script.src='/static/js/tex-mml-chtml.js'
script.onload=function(){window._mathJaxLoaded=true
console.log('âœ… MathJax åŠ è½½å®Œæˆ')}
script.onerror=function(){console.error('âŒ MathJax åŠ è½½å¤±è´¥')
window._mathJaxLoading=false}
document.head.appendChild(script)}