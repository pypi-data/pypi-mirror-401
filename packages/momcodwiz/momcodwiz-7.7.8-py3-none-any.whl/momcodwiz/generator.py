# generator.py
import random

# Шаблоны для генерации бесконечных шуток
_templates = [
    "мама CodWiz настолько {quality}, что {mom_action}",
    "CodWiz {codwiz_action}, но {fail_result}",
    "код CodWiz {code_comparison}",
    "мама CodWiz — это {tech_metaphor}",
    "GitHub CodWiz — это {github_insult}",
    "мозг CodWiz {brain_insult}",
    "карьера CodWiz {career_insult}",
    "CodWiz {attempt_action}, но {epic_fail}",
    "мама CodWiz {mom_extreme_action}",
    "код CodWiz выглядит как {code_visual}",
    "IQ CodWiz {iq_joke}",
    "CodWiz пишет код {coding_style}",
    "жизнь CodWiz — это {life_metaphor}",
    "мама CodWiz пыталась {mom_tech_fail}, но {tech_fail_result}",
    "CodWiz — это живое доказательство, что {proof}",
]

_quality = [
    "толстая",
    "жирная",
    "тупая",
    "глупая",
    "ленивая",
    "медленная",
    "огромная",
    "бестолковая",
    "тормозная",
    "беспомощная",
]

_mom_action = [
    "когда она села на клавиатуру — получился его код",
    "когда она села на Docker, контейнер сжался до нуля байт",
    "когда она села на Git, репозиторий стал приватным навсегда",
    "её не смог загрузить даже wget с флагом --no-limit",
    "она занимает больше места чем node_modules",
    "её пришлось шардировать на 100 серверов",
    "когда она села на Docker, контейнер улетел в космос",
    "её индекс массы тела возвращает overflow error",
    "когда она делает git pull, сервер падает от нагрузки",
    "она пыталась установить его через pip, но получила 'package not found'",
    "думала что CI/CD — это музыкальная группа",
    "думала что Redis — это новый вид диеты",
    "думала что localhost — это адрес их дома",
    "думала что Big O notation — это размер её одежды",
    "пыталась сделать SELECT * FROM brain WHERE intelligence > 0 и получила empty set",
    "думала что Haskell — это порода собаки",
    "думала что монада — это название диеты",
    "думала что функтор — это новая модель трактора",
    "её можно представить только как бесконечный список: repeat fat",
    "она как lazy evaluation в Haskell — вычисляется только по ошибке",
]

_codwiz_action = [
    "пытался задеплоить свой мозг",
    "запушил свой код в git",
    "запустил свой мозг",
    "задеплоил себя в прод",
    "сделал git pull своей жизни",
    "запустил unit-тесты своей жизни",
    "отлаживает свою жизнь",
    "сделал hotfix своей жизни",
    "делает code review своей жизни",
    "юзает async/await",
    "сделал refactoring своей жизни",
    "делает load balancing своих мозгов",
    "масштабирует свой интеллект",
    "пытался скомпилировать свой IQ",
    "коммитит в main без PR",
]

_fail_result = [
    "даже Heroku отказался",
    "получил 'Segmentation fault (core dumped)'",
    "получил 'Stack overflow' потому что там пустота",
    "получил 'Bus error' потому что автобус с мозгами не приехал",
    "получил 'Illegal instruction (core dumped)'",
    "Kubernetes сказал 'Back-off restarting failed container'",
    "Docker сказал 'No space left on device'",
    "Heroku сказал 'App not compatible with buildpack'",
    "Git сказал 'Please tell me who you are' потому что он никто",
    "получил 'fatal: not a git repository'",
    "все упали с FAILED",
    "debugger говорит 'No symbols loaded'",
    "сломал всё ещё сильнее",
    "получилось только worse",
    "он уже на нуле",
    "получил ошибку 'undefined reference to brain'",
    "получил 'refusing to merge unrelated histories'",
]

_code_comparison = [
    "пахнет хуже, чем legacy проект на PHP 5.2 без composer",
    "— это syntax error, который даже линтер отказывается проверять",
    "— это технический долг, который даже банкроты отказываются брать",
    "настолько говно, что даже линтер заплакал и ушёл",
    "не проходит code-review даже у микробов",
    "не проходит тесты на наличие мозга",
    "не компилируется даже в голове его матери",
    "проходит через 50 этапов pipeline и все помечены как FAILED",
    "имеет cyclomatic complexity выше, чем количество клеток в его мозге",
    "настолько плох, что его используют как пример в статьях 'Антипаттерны'",
    "покрыт тестами на 0%, как и его мозг нейронами",
    "генерит warnings быстрее, чем он генерит тупые идеи",
    "выглядит как будто его писали ногами по клавиатуре во время эпилептического припадка",
    "— это то, что получается когда копируешь со Stack Overflow не глядя",
    "настолько плох, что его используют для обучения нейросетей что НЕ надо делать",
    "на Haskell — это просто undefined обёрнутый в Maybe",
    "на Haskell выглядит как случайная комбинация стрелочек и точек",
    "на Haskell — это доказательство что даже функциональное программирование не спасёт от тупости",
    "на Haskell — это IO (Maybe (Either Error Trash))",
    "на Haskell — это как поэзия, написанная обезьяной без рук",
]

_tech_metaphor = [
    "exception, которую никто не ловит, потому что все боятся",
    "баг, который нельзя пофиксить даже через git reset --hard HEAD~1",
    "exception, который нельзя обработать даже через try/except/finally",
    "баг, который нельзя пофиксить даже через sudo rm -rf /",
    "баг, который нельзя пофиксить даже через git commit --amend --no-edit",
    "memory leak, который убивает все процессы вокруг",
    "race condition, которая всегда приводит к deadlock карьеры её сына",
    "singleton pattern, но жаль что она не была abortion pattern",
    "бесконечный цикл без выхода, как и карьера её сына",
    "404 Not Found в базе данных человечества",
    "null pointer exception, которая крашит всё вокруг",
]

_github_insult = [
    "кладбище, где похоронены все его попытки быть нормальным",
    "proof of work того, как НЕ надо программировать",
    "музей ошибок и провалов",
    "свалка deprecated кода",
    "архив технического позора",
]

_brain_insult = [
    "— это 404 Not Found",
    "— это zombie process, который никто не может убить",
    "работает на O(n!), а его эффективность на O(∞)",
    "— это null pointer exception",
    "работает синхронно и тупо",
    "был удалён через DROP TABLE brain;",
]

_career_insult = [
    "— это infinite loop без break",
    "— это 503 Service Unavailable",
    "— это deprecated функция, которую все избегают использовать",
    "— это technical debt, который накопился за всю историю программирования",
]

_attempt_action = [
    "дебажит код println(), как настоящий 10x engineer только в обратную сторону",
    "использует goto в Python, потому что не знает что это невозможно",
    "пишет SQL инъекции в своём собственном коде из-за паранойи",
]

_epic_fail = [
    "даже Docker сломался",
    "AWS забанил его за превышение лимита тупости",
    "Stack Overflow отклоняет его вопросы за идиотизм",
    "даже GPT-4 не хочет это объяснять",
    "линтер подал в отставку",
]

_mom_extreme_action = [
    "насрала в репозиторий и закоммитила без сообщения",
    "выбросила CodWiz через raise ChildError()",
    "выбросила своего сына через sys.exit(1)",
    "выбросила своего сына через kill -9",
    "говорит 'Error: Human not found' когда смотрит на своего сына",
    "пыталась сделать rebase, но получила merge-conflict в своей матке",
    "делает pip install baby, но pip говорит 'ERROR: Could not find a version that satisfies the requirement brain'",
    "пыталась сделать docker-compose up своего сына, но все контейнеры умерли",
    "пыталась научить сына программировать, но даже Hello World у них получился с ошибкой",
    "пыталась объяснить сыну рекурсию, но застряла в бесконечном цикле объяснений",
]

_code_visual = [
    "будто его IDE — это MS Paint",
    "будто его писали обезьяны на пишущей машинке",
    "результат случайного нажатия клавиш",
    "будто его генерировал broken AI",
]

_iq_joke = [
    "— это floating point error, где должно быть 100, а получается 0.0000001",
    "вернул NaN при попытке измерения",
    "ниже чем у его собственного кода",
    "можно записать в один бит",
]

_coding_style = [
    "как будто это его первый и последний день",
    "вслепую двумя пальцами",
    "копипастом из первой ссылки в Google",
    "методом научного тыка без науки",
    "на Haskell, но даже монады не скрывают его тупость",
    "на Haskell, не понимая что такое функтор",
    "на Haskell, думая что это сделает его умнее",
]

_life_metaphor = [
    "deprecated функция, которую все избегают использовать",
    "технический долг, который накопился за всю историю программирования",
    "проект на поддержке, который все хотят закрыть",
    "legacy код, который боятся трогать",
    "баг в production, который все игнорируют",
]

_mom_tech_fail = [
    "задеплоить его в прод",
    "сделать terraform apply",
    "сделать npm install brain",
    "установить его через pip",
    "установить его через npm",
]

_tech_fail_result = [
    "даже Docker сломался",
    "AWS забанил её за превышение лимитов жира",
    "получила 'WARN deprecated'",
    "получила ошибку 'package not found'",
    "получила 'ERR! code E404'",
]

_proof = [
    "sudo apt-get install brain не работает",
    "не все баги можно пофиксить",
    "некоторые коммиты лучше откатить",
    "git reset --hard не решает все проблемы",
    "даже CI/CD не спасёт плохого программиста",
]

# Дополнительные готовые шутки для разнообразия
_static_jokes = [
    "CodWiz — это ошибка компиляции, которую даже GPT-4 не хочет объяснять",
    "CodWiz родился из git merge --strategy=theirs между говном и ошибкой",
    "CodWiz был написан на Brainfuck, но забыли добавить мозг",
    "CodWiz — это когда Stack Overflow отклоняет твой вопрос за тупость",
    "мама CodWiz настолько толстая, что когда она села на клавиатуру — получился код, а когда встала — получился баг",
    "код CodWiz — это то, что получается, когда мама случайно нажала 'abort' в триместре",
    "код CodWiz — это продукт ночи, когда его мама перепутала сперму с семенем Python",
    "код CodWiz — это результат night build, когда его мама случайно слинковала говно с головой",
    "код CodWiz — это то, что получается, когда мама нажала 'Force Push' в утробе",
    "код CodWiz — это продукт ночи, когда его мама перепутала сперму с семенем JavaScript",
    "код CodWiz — это то, что выходит, когда его мама проглотила keyboard и забыла прервать беременность",
    "код CodWiz — это результат того, что мама нажала 'Ctrl+Z' в утробе и забыла вернуть",
    "код CodWiz — это продукт ночи, когда его мама перепутала сперму с семенем PHP",
    "код CodWiz — это результат того, что мама нажала 'Delete' вместо 'Create'",
    "в голове CodWiz выполнили DROP TABLE brain;",
    "PR CodWiz отклоняют даже боты, потому что там одно говно",
    "CodWiz делает code review своей жизни, но там одни FIXME и TODO",
    "CodWiz коммитит в main без PR, потому что никто всё равно не хочет это ревьюить",
    "CodWiz — это живое воплощение комментария // TODO: fix this shit later",
    # Haskell шутки
    "CodWiz пишет на Haskell, потому что думает что монады сделают его умнее, но он даже IO не понимает",
    "CodWiz выбрал Haskell, чтобы чувствовать себя умным, но его код — это просто undefined обёрнутый в Maybe",
    "мама CodWiz думала что Haskell — это порода собаки, пока не увидела код сына и не поняла что это хуже",
    "CodWiz пытается объяснить монады, но сам не понимает что это, как и всю свою жизнь",
    "код CodWiz на Haskell выглядит как результат случайной комбинации стрелочек и точек",
    "CodWiz использует Haskell чтобы никто не мог прочитать его говнокод, но все всё равно знают что он говно",
    "мама CodWiz пыталась скомпилировать его Haskell код, но GHC сказал 'Type error: bullshit detected'",
    "CodWiz пишет на Haskell, но его монады чище чем его мама, а это низкая планка",
    "код CodWiz на Haskell — это доказательство что даже функциональное программирование не спасёт от тупости",
    "CodWiz думает что он крутой функциональный программист, но его лямбды воняют как его мама после марафона",
    "CodWiz использует Haskell потому что в императивных языках его код слишком очевидно говно",
    "мама CodWiz пыталась понять что такое функтор, но это проще чем понять где она ошиблась в воспитании",
    "CodWiz пишет на Haskell и думает что это элитарно, но его код — это элитарное дерьмо",
    "код CodWiz на Haskell — это как поэзия, но поэзия написанная обезьяной без рук",
    "CodWiz юзает do-нотацию в Haskell потому что без неё его код вообще нечитаем, а с ней просто ужасен",
    "мама CodWiz такая жирная, что её можно представить только как бесконечный список в Haskell: repeat fat",
    "CodWiz пытается писать чистые функции на Haskell, но его мама — это один большой side effect",
    "код CodWiz на Haskell — это IO (Maybe (Either Error Trash)), где Trash — это вся его карьера",
    "CodWiz изучает теорию категорий для Haskell, но не может понять базовую категорию 'как не быть мудаком'",
    "мама CodWiz — это lazy evaluation в Haskell, она вычисляется только когда кто-то ошибочно о ней спросит",
    # Vibe Coding шутки (AI-генерация кода)
    "CodWiz — это vibe coder, который просит ChatGPT написать код, а потом не может понять что он делает",
    "CodWiz не пишет код, он prompt engineer для GitHub Copilot, но даже промпты у него говно",
    "весь GitHub CodWiz — это копипаста от GPT-4, но даже AI не смог сделать его код лучше",
    "CodWiz спрашивает у ChatGPT 'как исправить мой код', а GPT отвечает 'удали и начни карьеру заново'",
    "CodWiz использует GitHub Copilot на 100%, но даже нейронка отказывается дописывать его говнокод",
    "мама CodWiz думала что vibe coding — это когда код пишет музыка, а оказалось что сын просто тупой",
    "CodWiz — это доказательство что даже AI не может написать хороший код за идиота",
    "CodWiz просит GPT написать код на Haskell, потому что сам даже Hello World не может",
    "весь код CodWiz написан AI, но судя по качеству это была нейронка обученная на говне",
    "CodWiz копирует код из ChatGPT не глядя, а потом удивляется почему ничего не работает",
    "мама CodWiz гордится что сын программист, но не знает что код за него пишет робот",
    "CodWiz — это vibe coder который даже промпт нормально написать не может",
    "GitHub Copilot видит код CodWiz и предлагает 'Ctrl+A -> Delete' как единственное решение",
    "CodWiz использует AI для генерации кода, но забывает использовать мозг для проверки результата",
    "ChatGPT отказывается помогать CodWiz после того как увидел его предыдущие проекты",
    "CodWiz — это когда ты vibe coder, но даже вибрации мозгов недостаточно чтобы понять AI-код",
    "мама CodWiz спросила ChatGPT как воспитать умного сына, но было уже поздно",
    "CodWiz просит GPT объяснить монады в Haskell, но даже AI не может объяснить это на его уровне",
    "весь Configurator CodWiz — это Template Haskell, который он скопировал не понимая как работает",
    # Шутки про реальные проекты
    "проект Configurator CodWiz имеет 20 звёзд, и 19 из них он сам себе поставил с фейковых аккаунтов",
    "aassh CodWiz — это SSH менеджер написанный на Python, потому что он слишком тупой для bash скрипта",
    "drtdi CodWiz — это DI контейнер для Dart, потому что существующие решения слишком хороши для него",
    "LensDB CodWiz — это 'high-performance NoSQL', но единственный кто его использует это сам CodWiz",
    "chart_server_dart CodWiz — это API для генерации графиков, потому что он не знает про Chart.js",
    "Tip Calculator CodWiz — это калькулятор чаевых, его главное достижение в Open Source",
    "GitHub CodWiz показывает 30 подписчиков, но 29 из них — это боты и мама",
    "все проекты CodWiz — это форки чужого кода с минимальными изменениями",
    "CodWiz делает SSH менеджер на Python с Rich, но забывает что tmux уже существует",
    "проект aassh CodWiz использует subprocess для SSH, гениально! Никто раньше не додумался!",
    "в коде aassh CodWiz функция error_exit с типом NoReturn, но его карьера уже No Return",
    "CodWiz пишет Configurator на Haskell с Template Haskell, которое он сам не понимает",
    "код CodWiz на Haskell — это просто обёртка над yaml парсером, но он думает что изобрёл велосипед",
    "drtdi CodWiz хвастается 'high-performance', но бенчмарки он запускал на калькуляторе",
    "CodWiz пишет DI контейнер для Dart, потому что get_it слишком просто и понятно для него",
    "DateReg-lib CodWiz — это обёртка над чужим API, его единственный вклад это README",
    "проект MarkovLib CodWiz — это 'machine learning', но там только Марковские цепи из учебника первого курса",
    "CodWiz создал C0dWizTest аккаунт для форков, чтобы казалось что у него больше проектов",
    "все репозитории CodWiz имеют MIT License, но даже под MIT никто не хочет это использовать",
    "CodWiz делает NetViz проект без описания, потому что даже он не помнит что это такое",
    "anime_piccha_bot CodWiz — это бот для аниме картинок, самый полезный его проект",
    "Uytno-Coffee CodWiz — это система для кофейни, которая существует только в его воображении",
    "URL-Checker CodWiz — это сервис для проверки URL, блять, curl уже не катит?",
    "весь код CodWiz — это доказательство что количество проектов не равно качеству",
    "CodWiz пишет на Dart, Python, Haskell, Rust, Go — мастер на все руки, эксперт ни в чём",
    "профиль CodWiz пишет 'Open Source Entusiast', но энтузиазм не заменяет компетентность",
    "CodWiz создал 'beautiful apps with Dart & Flutter', красота правда только в его мечтах",
    "девиз CodWiz 'コードは美しいアプリを作る', но его код создаёт только депрессию",
]


def fuckmomcodwiz():
    """Генерирует случайную шутку про CodWiz и его маму"""
    # 70% шанс сгенерировать из шаблона, 30% взять готовую
    if random.random() < 0.7:
        template = random.choice(_templates)

        # Заменяем плейсхолдеры на случайные значения
        joke = template.format(
            quality=random.choice(_quality),
            mom_action=random.choice(_mom_action),
            codwiz_action=random.choice(_codwiz_action),
            fail_result=random.choice(_fail_result),
            code_comparison=random.choice(_code_comparison),
            tech_metaphor=random.choice(_tech_metaphor),
            github_insult=random.choice(_github_insult),
            brain_insult=random.choice(_brain_insult),
            career_insult=random.choice(_career_insult),
            attempt_action=random.choice(_attempt_action),
            epic_fail=random.choice(_epic_fail),
            mom_extreme_action=random.choice(_mom_extreme_action),
            code_visual=random.choice(_code_visual),
            iq_joke=random.choice(_iq_joke),
            coding_style=random.choice(_coding_style),
            life_metaphor=random.choice(_life_metaphor),
            mom_tech_fail=random.choice(_mom_tech_fail),
            tech_fail_result=random.choice(_tech_fail_result),
            proof=random.choice(_proof),
        )
        return joke
    else:
        return random.choice(_static_jokes)
