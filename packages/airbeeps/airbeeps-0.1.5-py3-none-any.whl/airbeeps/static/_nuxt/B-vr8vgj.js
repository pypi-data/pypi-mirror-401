import{h as K,e as R,B as G,a7 as O,f as Q,k as P,E as V,m as q,c as _,o as f,g as s,a,J as S,t as l,b as e,w as o,d,L as U,K as H,y as M,D as W,Q as j}from"./BzhixHsn.js";import{_ as w,a as $}from"./CRjpF7qy.js";import{_ as z}from"./Co_Pqrtl.js";import{_ as k,a as L}from"./DfqdNhl2.js";import{_ as A}from"./Di109XjC.js";import{_ as g}from"./4isL45Eu.js";import{_ as b}from"./Le8goM6p.js";import{_ as B}from"./Di_95mgX.js";import{u as X}from"./G5O1m7ek.js";import{A as Y}from"./CYrYAm7v.js";import{S as Z}from"./CHh9YBUH.js";import"./BmLyE0U0.js";import"./CMS48I6h.js";const ss={class:"container mx-auto space-y-6 py-6"},as={key:0,class:"flex justify-center py-12"},es={class:"flex items-center justify-between"},ts={class:"text-2xl font-bold"},ns={class:"text-muted-foreground"},ls={class:"flex gap-2"},os={class:"grid grid-cols-12 gap-6"},is={class:"bg-muted/50 rounded-lg border p-3"},ds={class:"flex items-center justify-between"},rs={class:"flex items-center gap-2"},us={class:"text-muted-foreground text-xs"},cs=["onClick"],ms={class:"flex items-center justify-between"},ps={class:"flex items-center gap-2"},_s={class:"text-lg"},fs={class:"text-sm font-medium"},gs={class:"col-span-9 space-y-6"},vs={class:"flex items-center justify-between"},xs={class:"flex items-center gap-3"},ys={class:"text-3xl"},bs={class:"grid grid-cols-2 gap-6"},hs={class:"space-y-4"},Vs={class:"mb-2 flex items-center gap-2"},ws={class:"font-semibold"},$s={class:"space-y-2"},ks={class:"space-y-2"},Ls={class:"space-y-2"},Cs={class:"space-y-4"},Is={class:"mb-2 flex items-center gap-2"},Ps={class:"text-lg"},Ss={class:"font-semibold"},Us={class:"space-y-2"},js={class:"space-y-2"},zs={class:"space-y-2"},As={key:2,class:"py-12 text-center"},Bs={class:"text-destructive"},Xs=K({__name:"translations",async setup(Ts){let x,C;const{t}=R(),T=G(),D=O(),h=T.params.id,{data:p,refresh:F,pending:N}=([x,C]=Q(()=>X(`/v1/admin/assistants/${h}/translations`,{server:!1})),x=await x,C(),x),r=P(()=>p.value||{}),I=[{code:"ja",label:"Japanese",flag:"ğŸ‡¯ğŸ‡µ"},{code:"ko",label:"Korean",flag:"ğŸ‡°ğŸ‡·"},{code:"es",label:"Spanish",flag:"ğŸ‡ªğŸ‡¸"},{code:"fr",label:"French",flag:"ğŸ‡«ğŸ‡·"},{code:"de",label:"German",flag:"ğŸ‡©ğŸ‡ª"}],u=V(I[0]?.code||""),y=V(!1),v=P(()=>I),c=V({name:"",description:"",system_prompt:""});q(u,m=>{p.value?.translations?.[m]?c.value={name:p.value.translations[m].name||"",description:p.value.translations[m].description||"",system_prompt:p.value.translations[m].system_prompt||""}:c.value={name:"",description:"",system_prompt:""}},{immediate:!0});const E=async()=>{y.value=!0;try{const{$api:m}=W();await m(`/v1/admin/assistants/${h}/translations/${u.value}`,{method:"PUT",body:c.value}),j.success(t("admin.pages.assistants.translations.saveSuccess")),await F()}catch(m){console.error("Save failed:",m),j.error(t("admin.pages.assistants.translations.saveFailed"))}finally{y.value=!1}},J=()=>{D.push(`/admin/assistants/${h}`)};return(m,i)=>(f(),_("div",ss,[s(N)?(f(),_("div",as,[...i[6]||(i[6]=[a("div",{class:"border-primary h-8 w-8 animate-spin rounded-full border-b-2"},null,-1)])])):s(p)?(f(),_(S,{key:1},[a("div",es,[a("div",null,[a("h1",ts,l(s(t)("admin.pages.assistants.translations.title")),1),a("p",ns,l(s(t)("admin.pages.assistants.translations.subtitle",{name:r.value.default_name||s(t)("common.loading")})),1)]),a("div",ls,[e(s(U),{variant:"outline",onClick:J},{default:o(()=>[e(s(Y),{class:"mr-2 h-4 w-4"}),d(" "+l(s(t)("admin.back")),1)]),_:1}),e(s(U),{onClick:E,disabled:y.value},{default:o(()=>[e(s(Z),{class:"mr-2 h-4 w-4"}),d(" "+l(y.value?s(t)("admin.pages.assistants.translations.saving"):s(t)("admin.pages.assistants.translations.save")),1)]),_:1},8,["disabled"])])]),a("div",os,[e(s($),{class:"col-span-3"},{default:o(()=>[e(s(k),null,{default:o(()=>[e(s(L),null,{default:o(()=>[d(l(s(t)("admin.pages.assistants.translations.languageList")),1)]),_:1}),e(s(z),null,{default:o(()=>[d(l(s(t)("admin.pages.assistants.translations.selectLanguage")),1)]),_:1})]),_:1}),e(s(w),{class:"space-y-2"},{default:o(()=>[a("div",is,[a("div",ds,[a("div",rs,[i[8]||(i[8]=a("span",{class:"text-lg"},"ğŸ‡ºğŸ‡¸",-1)),a("div",null,[i[7]||(i[7]=a("div",{class:"text-sm font-medium"},"English",-1)),a("div",us,l(s(t)("admin.pages.assistants.translations.defaultLanguage")),1)])]),e(s(B),{variant:"outline",class:"text-xs"},{default:o(()=>[...i[9]||(i[9]=[d("100%",-1)])]),_:1})])]),(f(!0),_(S,null,H(v.value,n=>(f(),_("div",{key:n.code,class:M(["hover:bg-muted/50 cursor-pointer rounded-lg border p-3 transition-colors",{"bg-primary/10 border-primary":u.value===n.code,"bg-background":u.value!==n.code}]),onClick:Ds=>u.value=n.code},[a("div",ms,[a("div",ps,[a("span",_s,l(n.flag),1),a("div",fs,l(n.label),1)]),e(s(B),{variant:(r.value.translation_progress?.[n.code]||0)===100?"default":(r.value.translation_progress?.[n.code]||0)>0?"secondary":"outline",class:"text-xs"},{default:o(()=>[d(l(r.value.translation_progress?.[n.code]||0)+"% ",1)]),_:2},1032,["variant"])])],10,cs))),128))]),_:1})]),_:1}),a("div",gs,[e(s($),null,{default:o(()=>[e(s(k),null,{default:o(()=>[a("div",vs,[a("div",xs,[a("span",ys,l(v.value.find(n=>n.code===u.value)?.flag),1),a("div",null,[e(s(L),null,{default:o(()=>[d(l(v.value.find(n=>n.code===u.value)?.label),1)]),_:1}),e(s(z),null,{default:o(()=>[d(l(s(t)("admin.pages.assistants.translations.progress",{progress:r.value.translation_progress?.[u.value]||0})),1)]),_:1})])])])]),_:1}),e(s(w),{class:"space-y-6"},{default:o(()=>[a("div",bs,[a("div",hs,[a("div",Vs,[i[10]||(i[10]=a("span",{class:"text-lg"},"ğŸ‡ºğŸ‡¸",-1)),a("h3",ws,l(s(t)("admin.pages.assistants.translations.reference")),1)]),a("div",$s,[e(s(g),{class:"text-muted-foreground text-xs"},{default:o(()=>[d(l(s(t)("admin.pages.assistants.create.basicInfo.nameLabel")),1)]),_:1}),e(s(A),{modelValue:r.value.default_name,"onUpdate:modelValue":i[0]||(i[0]=n=>r.value.default_name=n),readonly:"",class:"bg-muted/50"},null,8,["modelValue"])]),a("div",ks,[e(s(g),{class:"text-muted-foreground text-xs"},{default:o(()=>[d(l(s(t)("admin.pages.assistants.create.basicInfo.descriptionLabel")),1)]),_:1}),e(s(b),{modelValue:r.value.default_description,"onUpdate:modelValue":i[1]||(i[1]=n=>r.value.default_description=n),readonly:"",class:"bg-muted/50 resize-none",rows:4},null,8,["modelValue"])]),a("div",Ls,[e(s(g),{class:"text-muted-foreground text-xs"},{default:o(()=>[d(l(s(t)("admin.pages.assistants.create.modelConfig.systemPromptLabel")),1)]),_:1}),e(s(b),{modelValue:r.value.default_system_prompt,"onUpdate:modelValue":i[2]||(i[2]=n=>r.value.default_system_prompt=n),readonly:"",class:"bg-muted/50 resize-none font-mono text-xs",rows:12},null,8,["modelValue"])])]),a("div",Cs,[a("div",Is,[a("span",Ps,l(v.value.find(n=>n.code===u.value)?.flag),1),a("h3",Ss,l(s(t)("admin.pages.assistants.translations.translation",{language:v.value.find(n=>n.code===u.value)?.label})),1)]),a("div",Us,[e(s(g),null,{default:o(()=>[d(l(s(t)("admin.pages.assistants.create.basicInfo.nameLabel"))+" *",1)]),_:1}),e(s(A),{modelValue:c.value.name,"onUpdate:modelValue":i[3]||(i[3]=n=>c.value.name=n),placeholder:s(t)("admin.pages.assistants.translations.namePlaceholder")},null,8,["modelValue","placeholder"])]),a("div",js,[e(s(g),null,{default:o(()=>[d(l(s(t)("admin.pages.assistants.create.basicInfo.descriptionLabel"))+" *",1)]),_:1}),e(s(b),{modelValue:c.value.description,"onUpdate:modelValue":i[4]||(i[4]=n=>c.value.description=n),placeholder:s(t)("admin.pages.assistants.translations.descPlaceholder"),class:"resize-none",rows:4},null,8,["modelValue","placeholder"])]),a("div",zs,[e(s(g),null,{default:o(()=>[d(l(s(t)("admin.pages.assistants.create.modelConfig.systemPromptLabel"))+" *",1)]),_:1}),e(s(b),{modelValue:c.value.system_prompt,"onUpdate:modelValue":i[5]||(i[5]=n=>c.value.system_prompt=n),placeholder:s(t)("admin.pages.assistants.translations.promptPlaceholder"),class:"resize-none font-mono text-xs",rows:12},null,8,["modelValue","placeholder"])])])])]),_:1})]),_:1}),e(s($),null,{default:o(()=>[e(s(k),null,{default:o(()=>[e(s(L),{class:"text-base"},{default:o(()=>[d(l(s(t)("admin.pages.assistants.translations.guideTitle")),1)]),_:1})]),_:1}),e(s(w),{class:"text-muted-foreground space-y-2 text-sm"},{default:o(()=>[a("p",null,l(s(t)("admin.pages.assistants.translations.guide1")),1),a("p",null,l(s(t)("admin.pages.assistants.translations.guide2")),1),a("p",null,l(s(t)("admin.pages.assistants.translations.guide3")),1),a("p",null,l(s(t)("admin.pages.assistants.translations.guide4")),1)]),_:1})]),_:1})])])],64)):(f(),_("div",As,[a("p",Bs,l(s(t)("admin.pages.assistants.translations.loadFailed")),1)]))]))}});export{Xs as default};
