import{R as Se,h as $e,e as Ce,k as f,E as g,m as ae,H as Ee,W as Ge,c as h,o as i,M as Xe,x as Oe,J as W,K as te,a as S,v as F,I as D,b as d,w as v,d as w,t as y,g as n,L as M,l as Ye,y as B,ao as Ze,a2 as ea,Q as J,P as aa}from"./BzhixHsn.js";import{_ as ne}from"./4isL45Eu.js";import{d as ye,_ as he,a as fe,b as ge,c as be}from"./C9XbPd6k.js";import{u as xe,D as ta}from"./BTANIQ8V.js";import{_ as na}from"./2RVX2kid.js";import{_ as we}from"./Di109XjC.js";import{_ as Fe}from"./Le8goM6p.js";import{a as oa,d as sa,b as la,c as ca,_ as ra}from"./Bi0Cqvs9.js";import{_ as ua}from"./_XME2JEy.js";import{u as ia}from"./BLw_G03o.js";import{L as ma}from"./B9I6JWJy.js";import{S as da}from"./CHh9YBUH.js";import{E as je}from"./zIw-xwcH.js";import{S as De}from"./BVAf69h5.js";import{C as pa}from"./EdM3CJ8e.js";import{T as _e}from"./C-xhCs27.js";import{U as va}from"./C-9Ampo3.js";const ya=Se("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const ha=Se("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),fa={key:0,class:"text-destructive"},ga={key:1,class:"space-y-1"},ba={class:"relative"},wa=["onClick","disabled"],_a={key:0,class:"text-muted-foreground text-xs"},ka={key:5,class:"space-y-3"},Va=["id","checked","onChange","disabled"],xa={key:0,class:"text-muted-foreground text-xs"},Fa={key:6,class:"flex items-center space-x-3"},Da={key:8,class:"space-y-2"},Sa={class:"flex items-center justify-between text-xs"},$a={class:"text-muted-foreground"},Ca={class:"flex items-center gap-2"},Ea={key:9,class:"text-destructive text-sm"},Oa={key:10,class:"text-muted-foreground text-sm"},ja={class:"flex justify-end gap-2 pt-4"},Ua=$e({__name:"DynamicForm",props:{fields:{},initialData:{},loading:{type:Boolean,default:!1},submitText:{default:""},showCancel:{type:Boolean,default:!1},cancelText:{default:""}},emits:["submit","cancel","change"],setup(b,{expose:oe,emit:m}){const{t:r}=Ce(),V=b,A=f(()=>V.submitText||r("components.dynamicForm.save")),K=f(()=>V.cancelText||r("components.dynamicForm.cancel")),L=m,l=g({}),k=g({}),N=g(new Set),C=g(!1),j=g({}),O=g(new Set),E=ia(),_=`dynamic-form-${Math.random().toString(36).slice(2)}`,P=g({}),U=a=>{const t=a&&typeof a=="object"?Ye(a):a;if(typeof structuredClone=="function")try{return structuredClone(t)}catch{}try{return JSON.parse(JSON.stringify(t))}catch{return t}},G=(a,t)=>{if(a===t||a==null&&t==null)return!0;if(typeof a=="object"||typeof t=="object")try{return JSON.stringify(a)===JSON.stringify(t)}catch{return!1}return!1},R=a=>a.htmlName||a.name,T=a=>{if(typeof a.autocomplete=="string")return a.autocomplete;if(a.type==="password")return"new-password"},I=a=>a.options?typeof a.options=="function"?a.options(l.value):a.options:[],X=()=>{const a={},t=V.initialData&&Object.keys(V.initialData).length>0;V.fields.forEach(u=>{if(V.initialData&&V.initialData[u.name]!==void 0){let e=V.initialData[u.name];u.type==="json"&&typeof e=="object"&&e!==null&&(e=JSON.stringify(e,null,2)),a[u.name]=e}else if(u.defaultValue!==void 0){let e=u.defaultValue;u.type==="json"&&typeof e=="object"&&e!==null&&(e=JSON.stringify(e,null,2)),a[u.name]=e}else switch(u.type){case"multiselect":a[u.name]=[];break;case"switch":a[u.name]=!1;break;case"number":a[u.name]=u.min||0;break;case"json":a[u.name]="{}";break;default:a[u.name]=""}u.type==="password"&&t&&!a[u.name]&&O.value.add(u.name)}),l.value=a,P.value=U(a),C.value=!0},z=(a,t)=>{if(a.required){if(a.type==="multiselect"){if(!t||!Array.isArray(t)||t.length===0)return r("components.dynamicForm.validation.multiselectRequired",{label:a.label})}else if(!t||t==="")return r("components.dynamicForm.validation.required",{label:a.label})}if(a.type==="json"&&t&&t!==""&&!ce(t))return r("components.dynamicForm.validation.invalidJson",{label:a.label});if(a.validation){const{minLength:u,maxLength:e,pattern:o,custom:q}=a.validation;if(u&&t&&t.length<u)return r("components.dynamicForm.validation.minLength",{label:a.label,count:u});if(e&&t&&t.length>e)return r("components.dynamicForm.validation.maxLength",{label:a.label,count:e});if(o&&t&&!o.test(t))return r("components.dynamicForm.validation.invalidFormat",{label:a.label});if(q)return q(t)}return null},Y=()=>{const a={};return V.fields.forEach(t=>{N.value.add(t.name);const u=z(t,l.value[t.name]);u&&(a[t.name]=u)}),k.value=a,Object.keys(a).length===0},Z=f(()=>{if(!C.value)return!1;for(const a of V.fields)if(a.required){const t=l.value[a.name];if(a.type==="multiselect"){if(!t||!Array.isArray(t)||t.length===0)return!1}else if(!t||t==="")return!1}return Object.keys(k.value).length===0}),H=()=>{if(Y()&&Z.value){const a={...l.value};V.fields.forEach(t=>{if(t.type==="json"&&a[t.name]&&typeof a[t.name]=="string")try{a[t.name]=JSON.parse(a[t.name])}catch{}t.type==="password"&&!a[t.name]&&O.value.has(t.name)&&delete a[t.name]}),L("submit",a)}},Q=()=>{L("cancel")},x=a=>{N.value.add(a)},se=(a,t)=>l.value[a]?l.value[a].includes(t):!1,le=(a,t,u)=>{x(a),l.value[a]||(l.value[a]=[]);const e=[...l.value[a]];if(u)e.includes(t)||e.push(t);else{const o=e.indexOf(t);o>-1&&e.splice(o,1)}l.value[a]=e},ce=a=>{if(!a||a.trim()==="")return!0;try{return JSON.parse(a),!0}catch{return!1}},re=a=>{const t=l.value[a];if(t)try{const u=JSON.parse(t);l.value[a]=JSON.stringify(u,null,2)}catch{}},ue=a=>{const t=l.value[a];if(t)try{const u=JSON.parse(t);l.value[a]=JSON.stringify(u)}catch{}};ae(()=>V.initialData,()=>{X()},{deep:!0}),ae(()=>l.value,()=>{if(C.value){const a={};V.fields.forEach(t=>{if(N.value.has(t.name)||t.required){const u=z(t,l.value[t.name]);u&&(a[t.name]=u)}}),k.value=a}L("change",U(l.value))},{deep:!0,immediate:!1});const ie=f(()=>{if(!C.value)return!1;for(const a of V.fields){const t=a.name;if(!G(l.value[t],P.value[t]))return!0}return!1});return ae(()=>ie.value,a=>{E.setDirty(_,a)},{immediate:!0}),Ee(()=>{X()}),Ge(()=>{E.setDirty(_,!1)}),oe({setFieldValue:(a,t)=>{a in l.value&&(l.value[a]=t,x(a))},setValues:a=>{if(a)for(const[t,u]of Object.entries(a))t in l.value&&(l.value[t]=u)},getValues:()=>U(l.value)}),(a,t)=>{const u=na;return i(),h("form",{onSubmit:Xe(H,["prevent"]),class:"space-y-4",autocomplete:"off"},[(i(!0),h(W,null,te(b.fields,e=>(i(),h("div",{key:e.name,class:"space-y-2"},[d(n(ne),{for:e.name,class:"text-sm font-medium"},{default:v(()=>[w(y(e.label)+" ",1),e.required?(i(),h("span",fa,"*")):D("",!0)]),_:2},1032,["for"]),e.type==="text"||e.type==="email"?(i(),F(n(we),{key:0,id:e.name,name:R(e),autocomplete:T(e),modelValue:l.value[e.name],"onUpdate:modelValue":o=>l.value[e.name]=o,type:e.type,placeholder:e.placeholder,disabled:e.disabled||b.loading,class:B({"border-destructive":k.value[e.name]}),onFocus:o=>x(e.name),onBlur:o=>x(e.name)},null,8,["id","name","autocomplete","modelValue","onUpdate:modelValue","type","placeholder","disabled","class","onFocus","onBlur"])):e.type==="password"?(i(),h("div",ga,[S("div",ba,[d(n(we),{id:e.name,name:R(e),autocomplete:T(e),modelValue:l.value[e.name],"onUpdate:modelValue":o=>l.value[e.name]=o,type:j.value[e.name]?"text":"password",placeholder:O.value.has(e.name)&&!l.value[e.name]?"••••••••••••••••••••":e.placeholder||"••••••••",disabled:e.disabled||b.loading,class:B({"border-destructive":k.value[e.name],"pr-10":!0}),onFocus:o=>{x(e.name),O.value.delete(e.name)},onBlur:o=>x(e.name)},null,8,["id","name","autocomplete","modelValue","onUpdate:modelValue","type","placeholder","disabled","class","onFocus","onBlur"]),l.value[e.name]?(i(),h("button",{key:0,type:"button",class:"text-muted-foreground hover:text-foreground absolute top-1/2 right-2 -translate-y-1/2",onClick:o=>j.value[e.name]=!j.value[e.name],disabled:e.disabled||b.loading},[j.value[e.name]?(i(),F(n(ha),{key:1,class:"h-4 w-4"})):(i(),F(n(je),{key:0,class:"h-4 w-4"}))],8,wa)):D("",!0)]),O.value.has(e.name)&&!l.value[e.name]?(i(),h("p",_a,y(n(r)("components.dynamicForm.passwordExists")),1)):D("",!0)])):e.type==="number"?(i(),F(n(we),{key:2,id:e.name,name:R(e),autocomplete:T(e),modelValue:l.value[e.name],"onUpdate:modelValue":o=>l.value[e.name]=o,modelModifiers:{number:!0},type:"number",placeholder:e.placeholder,disabled:e.disabled||b.loading,min:e.min,max:e.max,step:e.step,class:B({"border-destructive":k.value[e.name]}),onFocus:o=>x(e.name),onBlur:o=>x(e.name)},null,8,["id","name","autocomplete","modelValue","onUpdate:modelValue","placeholder","disabled","min","max","step","class","onFocus","onBlur"])):e.type==="textarea"?(i(),F(n(Fe),{key:3,id:e.name,modelValue:l.value[e.name],"onUpdate:modelValue":o=>l.value[e.name]=o,placeholder:e.placeholder,disabled:e.disabled||b.loading,rows:e.rows||3,class:B({"border-destructive":k.value[e.name]}),onFocus:o=>x(e.name),onBlur:o=>x(e.name)},null,8,["id","modelValue","onUpdate:modelValue","placeholder","disabled","rows","class","onFocus","onBlur"])):e.type==="select"?(i(),F(n(ra),{key:4,modelValue:l.value[e.name],"onUpdate:modelValue":[o=>l.value[e.name]=o,()=>x(e.name)],disabled:e.disabled||b.loading},{default:v(()=>[d(n(oa),{class:B({"border-destructive":k.value[e.name]})},{default:v(()=>[d(n(sa),{placeholder:e.placeholder},null,8,["placeholder"])]),_:2},1032,["class"]),d(n(la),null,{default:v(()=>[(i(!0),h(W,null,te(I(e),o=>(i(),F(n(ca),{key:o.value,value:o.value.toString()},{default:v(()=>[w(y(o.label),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):e.type==="multiselect"?(i(),h("div",ka,[S("div",{class:B(["grid grid-cols-1 gap-2 rounded-md border p-2",k.value[e.name]?"border-destructive bg-destructive/5":"border-border"])},[(i(!0),h(W,null,te(I(e),o=>(i(),h("div",{key:o.value,class:"flex items-center space-x-2"},[S("input",{type:"checkbox",id:`${e.name}-${o.value}`,checked:se(e.name,o.value),onChange:q=>{const de=q.target;le(e.name,o.value,de.checked)},disabled:e.disabled||b.loading,class:"text-primary focus:ring-primary h-4 w-4 rounded border-gray-300"},null,40,Va),d(n(ne),{for:`${e.name}-${o.value}`,class:"flex-1 cursor-pointer text-sm font-normal"},{default:v(()=>[w(y(o.label),1)]),_:2},1032,["for"])]))),128))],2),l.value[e.name]&&l.value[e.name].length>0?(i(),h("div",xa,y(n(r)("components.dynamicForm.selected",{count:l.value[e.name].length})),1)):D("",!0)])):e.type==="switch"?(i(),h("div",Fa,[d(n(ua),{id:e.name,modelValue:l.value[e.name],"onUpdate:modelValue":[o=>l.value[e.name]=o,()=>x(e.name)],disabled:e.disabled||b.loading},null,8,["id","modelValue","onUpdate:modelValue","disabled"]),d(n(ne),{for:e.name,class:"cursor-pointer text-sm"},{default:v(()=>[w(y(e.description||e.label),1)]),_:2},1032,["for"])])):e.type==="avatar"?(i(),F(u,{key:7,id:e.name,modelValue:l.value[e.name],"onUpdate:modelValue":o=>l.value[e.name]=o,disabled:e.disabled||b.loading,class:B({"border-destructive":k.value[e.name]})},null,8,["id","modelValue","onUpdate:modelValue","disabled","class"])):e.type==="json"?(i(),h("div",Da,[d(n(Fe),{id:e.name,modelValue:l.value[e.name],"onUpdate:modelValue":o=>l.value[e.name]=o,placeholder:e.placeholder||n(r)("components.dynamicForm.jsonPlaceholder"),disabled:e.disabled||b.loading,rows:e.rows||6,class:B([{"border-destructive":k.value[e.name]},"font-mono text-sm"]),onFocus:o=>x(e.name),onBlur:o=>x(e.name)},null,8,["id","modelValue","onUpdate:modelValue","placeholder","disabled","rows","class","onFocus","onBlur"]),S("div",Sa,[S("span",$a,y(n(r)("components.dynamicForm.jsonHint")),1),S("div",Ca,[d(n(M),{type:"button",variant:"ghost",size:"sm",onClick:o=>re(e.name),disabled:e.disabled||b.loading,class:"h-6 px-2 text-xs"},{default:v(()=>[w(y(n(r)("components.dynamicForm.formatJson")),1)]),_:1},8,["onClick","disabled"]),d(n(M),{type:"button",variant:"ghost",size:"sm",onClick:o=>ue(e.name),disabled:e.disabled||b.loading,class:"h-6 px-2 text-xs"},{default:v(()=>[w(y(n(r)("components.dynamicForm.minifyJson")),1)]),_:1},8,["onClick","disabled"])])])])):D("",!0),k.value[e.name]?(i(),h("div",Ea,y(k.value[e.name]),1)):D("",!0),e.help?(i(),h("div",Oa,y(e.help),1)):D("",!0)]))),128)),Oe(a.$slots,"actions",{onSubmit:H,onCancel:Q},()=>[S("div",ja,[b.showCancel?(i(),F(n(M),{key:0,type:"button",variant:"outline",onClick:Q,disabled:b.loading},{default:v(()=>[w(y(K.value),1)]),_:1},8,["disabled"])):D("",!0),d(n(M),{type:"submit",disabled:b.loading||!Z.value},{default:v(()=>[b.loading?(i(),F(n(ma),{key:0,class:"mr-1 h-4 w-4 animate-spin"})):(i(),F(n(da),{key:1,class:"mr-1 h-4 w-4"})),w(" "+y(A.value),1)]),_:1},8,["disabled"])])])],32)}}}),Ja=Object.assign(Ua,{__name:"ModelViewDynamicForm"}),Ma={class:"model-view space-y-6"},Ia={class:"flex items-center justify-between"},Ba={class:"text-2xl font-bold"},Aa={key:0,class:"text-muted-foreground"},Na={class:"flex items-center gap-2"},Ta={class:"flex justify-end gap-2"},La={key:0,class:"space-y-4"},Ra={class:"col-span-2"},za={key:1,class:"block"},qa={key:1,class:"bg-muted/40 rounded p-3 font-mono text-xs whitespace-pre-wrap"},Pa={key:2,class:"block"},Ha={class:"mt-6 flex justify-end gap-2"},Qa=$e({__name:"ModelView",props:{config:{}},emits:["row-action","bulk-action"],setup(b,{emit:oe}){const{t:m}=Ce(),r=b,V=oe;let A=xe(r.config.apiEndpoint,r.config.apiEndpoints);const K=g([]),L=g(0),l=g(!1),k=g(!1),N=g(!1),C=g(!1),j=g(!1),O=g(!1),E=g("create"),_=g(null),P=g(),U=g([]),G=g(""),R=g({}),T=g([]),I=g({pageIndex:0,pageSize:r.config.pageSize||20}),X=f(()=>r.config.columns),z=f(()=>r.config.formFields),Y=f(()=>r.config.detailFields||[]),Z=f(()=>r.config.formFields&&r.config.canCreate!==!1),H=f(()=>r.config.canEdit!==!1),Q=f(()=>r.config.canDelete!==!1),x=f(()=>r.config.canView!==!1),se=f(()=>r.config.canDuplicate!==!1),le=f(()=>r.config.selectable!==!1),ce=f(()=>r.config.showFilters!==!1),re=f(()=>r.config.showExport===!0),ue=f(()=>r.config.showImport===!0),ie=f(()=>r.config.emptyMessage||m("components.modelView.emptyMessage")),ee=f(()=>{if(!_.value)return{};const s={};for(const c of Y.value)if(typeof c.render=="function")try{s[c.name]=c.render(_.value[c.name],_.value)}catch{}return s}),$=f(()=>r.config.title),me=f(()=>r.config.description),a=f(()=>r.config.formDescription),t=f(()=>U.value.length===1?m("components.modelView.deleteConfirmSingle",{title:$.value}):m("components.modelView.deleteConfirmMultiple",{count:U.value.length,title:$.value})),u=f(()=>{const s=[];return x.value&&s.push({key:"view",label:m("components.modelView.view"),icon:je}),H.value&&s.push({key:"edit",label:m("components.modelView.edit"),icon:De}),se.value&&s.push({key:"duplicate",label:m("components.modelView.duplicate"),icon:pa}),Q.value&&s.push({key:"delete",label:m("components.modelView.delete"),icon:_e,variant:"destructive"}),r.config.customActions&&s.push(...r.config.customActions),s}),e=f(()=>{const s=[];return Q.value&&s.push({key:"bulkDelete",label:m("components.modelView.bulkDelete"),icon:_e,variant:"destructive"}),s}),o=async()=>{l.value=!0;try{const s={page:I.value.pageIndex+1,size:I.value.pageSize,search:G.value||void 0,sort_by:T.value[0]?.id,sort_desc:T.value[0]?.desc,...R.value},c=await A.getList(s);K.value=c.items,L.value=c.total}catch{J.error(m("components.modelView.loadDataFailed"))}finally{l.value=!1}},q=async s=>{k.value=!0;try{await A.create(s),J.success(m("components.modelView.createSuccess",{title:$.value})),pe(),o()}catch{J.error(m("components.modelView.createFailed"))}finally{k.value=!1}},de=async(s,c)=>{k.value=!0;try{await A.update(s,c),J.success(m("components.modelView.updateSuccess",{title:$.value})),pe(),o()}catch(p){if(!(p instanceof aa))throw p;if(p.statusCode===400&&p.data?.detail){J.error(m("components.modelView.updateFailedDetail",{detail:p.data?.detail}));return}J.error(m("components.modelView.updateFailed"))}finally{k.value=!1}},Ue=async s=>{N.value=!0;try{for(const c of s)await A.remove(c.id);J.success(m("components.modelView.deleteSuccess",{title:$.value})),ke(),o()}catch{J.error(m("components.modelView.deleteFailed"))}finally{N.value=!1}},Je=s=>{G.value=s,I.value.pageIndex=0,o()},Me=s=>{R.value=s,I.value.pageIndex=0,o()},Ie=s=>{T.value=s,o()},Be=s=>{I.value=s,o()},Ae=()=>{o()},Ne=(s,c)=>{s.key==="bulkDelete"?(U.value=c,j.value=!0):V("bulk-action",s,c)},Te=(s,c)=>{switch(s.key){case"view":_.value=c,O.value=!0;break;case"edit":Re(c);break;case"duplicate":const p={...c};delete p.id,_.value=p,E.value="create",C.value=!0;break;case"delete":U.value=[c],j.value=!0;break;default:V("row-action",s,c)}},Le=()=>{_.value=null,E.value="create",C.value=!0},Re=s=>{_.value=s,E.value="edit",C.value=!0},ze=s=>{E.value==="create"?q(s):_.value&&de(_.value.id,s)},qe=s=>{if(!r.config.onFormChange)return;const c=P.value;r.config.onFormChange({formData:s,mode:E.value,initialData:_.value,setFieldValue:c?.setFieldValue,setValues:c?.setValues,getValues:c?.getValues})},pe=()=>{C.value=!1,_.value=null},Pe=()=>{Ue(U.value)},ke=()=>{j.value=!1,U.value=[]},He=()=>{O.value=!1,_.value=null},Qe=()=>{_.value&&(E.value="edit",O.value=!1,C.value=!0)},We=()=>{J.info(m("components.modelView.exportInProgress"))},Ke=()=>{J.info(m("components.modelView.importInProgress"))},Ve=(s,c)=>{if(s==null)return"-";switch(c){case"date":return new Date(s).toLocaleDateString();case"datetime":return new Date(s).toLocaleString();case"boolean":return m(s?"components.modelView.yes":"components.modelView.no");case"json":return JSON.stringify(s,null,2);default:return s.toString()}};return Ee(()=>{}),ae(()=>[r.config.apiEndpoint,r.config.apiEndpoints],(s,c)=>{c&&(s[0]!==c[0]||JSON.stringify(s[1])!==JSON.stringify(c[1]))&&(A=xe(r.config.apiEndpoint,r.config.apiEndpoints),o())},{deep:!0}),(s,c)=>(i(),h("div",Ma,[S("div",Ia,[S("div",null,[S("h1",Ba,y($.value),1),me.value?(i(),h("p",Aa,y(me.value),1)):D("",!0)]),S("div",Na,[Oe(s.$slots,"actions"),re.value?(i(),F(n(M),{key:0,variant:"outline",onClick:We,disabled:l.value},{default:v(()=>[d(n(ya),{class:"mr-2 h-4 w-4"}),w(" "+y(n(m)("components.modelView.export")),1)]),_:1},8,["disabled"])):D("",!0),ue.value?(i(),F(n(M),{key:1,variant:"outline",onClick:Ke,disabled:l.value},{default:v(()=>[d(n(va),{class:"mr-2 h-4 w-4"}),w(" "+y(n(m)("components.modelView.import")),1)]),_:1},8,["disabled"])):D("",!0)])]),d(ta,{data:K.value,columns:X.value,"total-count":L.value,loading:l.value,selectable:le.value,"can-create":Z.value,"show-filters":ce.value,filters:b.config.filters||{},"row-actions":u.value,"bulk-actions":e.value,"empty-message":ie.value,onCreate:Le,onRefresh:Ae,onSearch:Je,onFilter:Me,onSort:Ie,onPaginate:Be,onBulkAction:c[0]||(c[0]=(p,ve)=>Ne(p,ve)),onRowAction:c[1]||(c[1]=(p,ve)=>Te(p,ve))},null,8,["data","columns","total-count","loading","selectable","can-create","show-filters","filters","row-actions","bulk-actions","empty-message"]),d(n(ye),{open:C.value,"onUpdate:open":c[4]||(c[4]=p=>C.value=p)},{default:v(()=>[d(n(he),{class:"max-h-[90vh] max-w-4xl overflow-y-auto"},{default:v(()=>[d(n(fe),null,{default:v(()=>[d(n(ge),null,{default:v(()=>[w(y(E.value==="create"?n(m)("components.modelView.createTitle",{title:$.value}):n(m)("components.modelView.editTitle",{title:$.value})),1)]),_:1}),d(n(be),null,{default:v(()=>[w(y(a.value||(E.value==="create"?n(m)("components.modelView.createDescription",{title:$.value}):n(m)("components.modelView.editDescription",{title:$.value}))),1)]),_:1})]),_:1}),z.value&&z.value.length?(i(),F(Ja,{key:0,ref_key:"formRef",ref:P,fields:z.value,"initial-data":_.value||void 0,loading:k.value,"submit-text":E.value==="create"?n(m)("components.modelView.create"):n(m)("components.modelView.save"),onSubmit:c[2]||(c[2]=p=>ze(p)),onChange:c[3]||(c[3]=p=>qe(p)),onCancel:pe},null,8,["fields","initial-data","loading","submit-text"])):D("",!0)]),_:1})]),_:1},8,["open"]),d(n(ye),{open:j.value,"onUpdate:open":c[5]||(c[5]=p=>j.value=p)},{default:v(()=>[d(n(he),null,{default:v(()=>[d(n(fe),null,{default:v(()=>[d(n(ge),null,{default:v(()=>[w(y(n(m)("components.modelView.confirmDelete")),1)]),_:1}),d(n(be),null,{default:v(()=>[w(y(t.value),1)]),_:1})]),_:1}),S("div",Ta,[d(n(M),{variant:"outline",onClick:ke},{default:v(()=>[w(y(n(m)("components.modelView.cancel")),1)]),_:1}),d(n(M),{variant:"destructive",onClick:Pe,disabled:N.value},{default:v(()=>[d(n(_e),{class:"mr-2 h-4 w-4"}),w(" "+y(n(m)("components.modelView.delete")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),d(n(ye),{open:O.value,"onUpdate:open":c[6]||(c[6]=p=>O.value=p)},{default:v(()=>[d(n(he),{class:"max-h-[90vh] max-w-4xl overflow-y-auto"},{default:v(()=>[d(n(fe),null,{default:v(()=>[d(n(ge),null,{default:v(()=>[w(y(n(m)("components.modelView.detailTitle",{title:$.value})),1)]),_:1}),d(n(be),null,{default:v(()=>[w(y(n(m)("components.modelView.viewDescription",{title:$.value})),1)]),_:1})]),_:1}),_.value?(i(),h("div",La,[(i(!0),h(W,null,te(Y.value,p=>(i(),h("div",{key:p.name,class:"grid grid-cols-3 gap-4"},[d(n(ne),{class:"font-medium"},{default:v(()=>[w(y(p.label)+":",1)]),_:2},1024),S("div",Ra,[p.render?(i(),h(W,{key:0},[Ze(ee.value[p.name])?(i(),F(ea(ee.value[p.name]),{key:0})):(i(),h("span",za,y(ee.value[p.name]??"-"),1))],64)):p.type==="json"?(i(),h("pre",qa,y(Ve(_.value[p.name],p.type)),1)):(i(),h("span",Pa,y(Ve(_.value[p.name],p.type)),1))])]))),128))])):D("",!0),S("div",Ha,[d(n(M),{variant:"outline",onClick:He},{default:v(()=>[w(y(n(m)("common.cancel")),1)]),_:1}),H.value?(i(),F(n(M),{key:0,onClick:Qe},{default:v(()=>[d(n(De),{class:"mr-2 h-4 w-4"}),w(" "+y(n(m)("components.modelView.edit")),1)]),_:1})):D("",!0)])]),_:1})]),_:1},8,["open"])]))}}),mt=Object.assign(Qa,{__name:"ModelView"});export{mt as _};
