import{h as F,e as G,a9 as P,F as j,E as k,k as L,H as M,c as y,o as _,a as i,I as w,b as a,w as e,d as n,g as s,t,L as f,v as S,y as q,D as E,Q as $}from"./BzhixHsn.js";import{a as p,_ as b}from"./CRjpF7qy.js";import{_ as H}from"./Co_Pqrtl.js";import{_ as v,a as g}from"./DfqdNhl2.js";import{_ as A}from"./Di_95mgX.js";import{_ as Q,a as U}from"./BSaEE8c4.js";import{_ as J}from"./DdeO54y7.js";import{_ as D}from"./lcKie01k.js";import{_ as o}from"./4isL45Eu.js";import{_ as K,a as O,b as W,c as X,d as Y,e as Z,f as ss,g as as}from"./B-FcqR0d.js";import{_ as es}from"./BzTUrDmP.js";import{A as ts}from"./CYrYAm7v.js";import{M as ls}from"./BeItb1S1.js";import{L as is}from"./CeWx-USI.js";import{S as ns}from"./BVAf69h5.js";import{T as ds}from"./C-xhCs27.js";import{S as os}from"./DQj8dpKz.js";import{C as us}from"./EdM3CJ8e.js";const rs={class:"container mx-auto space-y-6 py-6"},cs={class:"flex items-center justify-between"},ms={class:"flex items-center gap-4"},_s={class:"text-2xl font-bold"},fs={class:"text-muted-foreground"},ps={class:"flex items-center gap-2"},vs={key:0,class:"flex justify-center py-12"},gs={key:1,class:"grid grid-cols-1 gap-4 lg:grid-cols-3"},hs={class:"space-y-4 lg:col-span-2"},xs={class:"flex items-start gap-4"},bs={class:"flex-1"},ys={class:"mb-2 flex items-center gap-3"},ws={class:"mt-4 flex flex-wrap gap-2"},$s={class:"bg-muted rounded-lg p-4"},Cs={class:"text-sm whitespace-pre-wrap"},ks={class:"grid grid-cols-2 gap-3"},As={class:"font-medium"},Ls={class:"font-medium"},Ss={class:"font-medium"},Es={class:"font-medium"},Ds={class:"space-y-4"},Is={class:"mt-1 flex items-center gap-2"},Ts={class:"font-medium"},zs={class:"mt-1 font-medium"},Ns={class:"mt-1 flex items-center gap-2"},Rs={class:"bg-muted rounded px-2 py-1 font-mono text-xs"},Vs={class:"mt-1"},Bs={class:"mt-1"},Fs={key:0},Gs={class:"mt-1"},Ps={class:"text-muted-foreground py-4 text-center"},oa=F({__name:"index",setup(js){const{t:l}=G(),m=P(),h=j().params.id,c=k(!1),C=k(!1),d=k(null),x=L(()=>{if(!d.value)return null;switch(d.value.status){case"ACTIVE":return{label:l("admin.pages.assistants.detail.status.active"),variant:"default",color:"text-green-600"};case"INACTIVE":return{label:l("admin.pages.assistants.detail.status.inactive"),variant:"secondary",color:"text-gray-500"};case"DRAFT":return{label:l("admin.pages.assistants.detail.status.draft"),variant:"outline",color:"text-orange-600"};default:return{label:l("admin.pages.assistants.detail.status.unknown"),variant:"secondary",color:"text-gray-500"}}}),I=L(()=>(d.value?.mode||"GENERAL")==="RAG"?"RAG":"General"),T=async()=>{c.value=!0;try{const{$api:u}=E(),r=await u(`/v1/admin/assistants/${h}`);d.value=r}catch(u){console.error("Failed to load assistant data:",u),$.error(l("admin.pages.assistants.detail.loadFailed")),m.push("/admin/assistants")}finally{c.value=!1}},z=async()=>{C.value=!0;try{const{$api:u}=E();await u(`/v1/admin/assistants/${h}`,{method:"DELETE"}),$.success(l("admin.pages.assistants.detail.deleteSuccess")),m.push("/admin/assistants")}catch(u){console.error("Delete failed:",u),$.error(l("admin.pages.assistants.detail.deleteFailed"))}finally{C.value=!1}},N=()=>{d.value&&(navigator.clipboard.writeText(d.value.id),$.success(l("admin.pages.assistants.detail.idCopied")))},R=()=>{m.push(`/admin/assistants/${h}/edit`)},V=()=>{m.push("/admin/assistants")},B=()=>{m.push(`/chatwith/${h}`)};return M(()=>{T()}),(u,r)=>(_(),y("div",rs,[i("div",cs,[i("div",ms,[a(s(f),{variant:"ghost",size:"sm",onClick:V},{default:e(()=>[a(s(ts),{class:"mr-2 h-4 w-4"}),n(" "+t(s(l)("admin.back")),1)]),_:1}),i("div",null,[i("h1",_s,t(s(l)("admin.pages.assistants.detail.title")),1),i("p",fs,t(d.value?.name?s(l)("admin.pages.assistants.detail.viewing",{name:d.value.name}):s(l)("common.loading")),1)])]),i("div",ps,[a(s(f),{variant:"outline",size:"sm",onClick:B,disabled:c.value},{default:e(()=>[a(s(ls),{class:"mr-2 h-4 w-4"}),n(" "+t(s(l)("admin.pages.assistants.detail.testChat")),1)]),_:1},8,["disabled"]),a(s(f),{variant:"outline",size:"sm",onClick:r[0]||(r[0]=qs=>s(m).push(`/admin/assistants/${s(h)}/translations`)),disabled:c.value},{default:e(()=>[a(s(is),{class:"mr-2 h-4 w-4"}),n(" "+t(s(l)("admin.pages.assistants.actions.translations")),1)]),_:1},8,["disabled"]),a(s(f),{variant:"outline",size:"sm",onClick:R,disabled:c.value},{default:e(()=>[a(s(ns),{class:"mr-2 h-4 w-4"}),n(" "+t(s(l)("admin.edit")),1)]),_:1},8,["disabled"]),a(s(as),null,{default:e(()=>[a(s(es),{"as-child":""},{default:e(()=>[a(s(f),{variant:"destructive",size:"sm",disabled:c.value},{default:e(()=>[a(s(ds),{class:"mr-2 h-4 w-4"}),n(" "+t(s(l)("admin.delete")),1)]),_:1},8,["disabled"])]),_:1}),a(s(K),null,{default:e(()=>[a(s(O),null,{default:e(()=>[a(s(W),null,{default:e(()=>[n(t(s(l)("admin.pages.assistants.delete.title")),1)]),_:1}),a(s(X),null,{default:e(()=>[n(t(s(l)("admin.pages.assistants.delete.description",{name:d.value?.name})),1)]),_:1})]),_:1}),a(s(Y),null,{default:e(()=>[a(s(Z),null,{default:e(()=>[n(t(s(l)("admin.cancel")),1)]),_:1}),a(s(ss),{onClick:z,disabled:C.value,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.delete.confirm")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})])]),c.value?(_(),y("div",vs,[...r[1]||(r[1]=[i("div",{class:"border-primary h-8 w-8 animate-spin rounded-full border-b-2"},null,-1)])])):d.value?(_(),y("div",gs,[i("div",hs,[a(s(p),null,{default:e(()=>[a(s(v),null,{default:e(()=>[i("div",xs,[a(s(Q),{class:"h-16 w-16"},{default:e(()=>[a(s(U),{src:d.value.avatar_url||""},null,8,["src"]),a(s(J),null,{default:e(()=>[n(t(d.value.name.charAt(0).toUpperCase()),1)]),_:1})]),_:1}),i("div",bs,[i("div",ys,[a(s(g),{class:"text-xl"},{default:e(()=>[n(t(d.value.name),1)]),_:1}),x.value?(_(),S(s(A),{key:0,variant:x.value.variant},{default:e(()=>[n(t(x.value.label),1)]),_:1},8,["variant"])):w("",!0),d.value.is_public?(_(),S(s(A),{key:1,variant:"outline"},{default:e(()=>[n(t(s(l)("admin.public")),1)]),_:1})):w("",!0)]),a(s(H),{class:"text-base"},{default:e(()=>[n(t(d.value.description),1)]),_:1}),i("div",ws,[a(s(A),{variant:"secondary",class:"text-xs"},{default:e(()=>[n(t(I.value),1)]),_:1})])])])]),_:1})]),_:1}),a(s(p),null,{default:e(()=>[a(s(v),null,{default:e(()=>[a(s(g),{class:"flex items-center gap-2"},{default:e(()=>[a(s(os),{class:"h-5 w-5"}),n(" "+t(s(l)("admin.pages.assistants.create.modelConfig.systemPromptLabel")),1)]),_:1})]),_:1}),a(s(b),null,{default:e(()=>[i("div",$s,[i("pre",Cs,t(d.value.system_prompt),1)])]),_:1})]),_:1}),a(s(p),null,{default:e(()=>[a(s(v),{class:"pb-3"},{default:e(()=>[a(s(g),null,{default:e(()=>[n(t(s(l)("admin.pages.assistants.create.modelConfig.title")),1)]),_:1})]),_:1}),a(s(b),null,{default:e(()=>[i("div",ks,[i("div",null,[a(s(o),{class:"text-muted-foreground text-sm"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.create.modelConfig.modelLabel")),1)]),_:1}),i("div",As,t(d.value.model?.display_name||s(l)("admin.notSet")),1)]),i("div",null,[a(s(o),{class:"text-muted-foreground text-sm"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.create.modelConfig.providerLabel")),1)]),_:1}),i("div",Ls,t(d.value.model?.provider?.name||d.value.model?.provider||"-"),1)]),i("div",null,[a(s(o),{class:"text-muted-foreground text-sm"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.create.modelConfig.temperatureLabel")),1)]),_:1}),i("div",Ss,t(d.value.temperature??"-"),1)]),i("div",null,[a(s(o),{class:"text-muted-foreground text-sm"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.create.modelConfig.maxTokensLabel")),1)]),_:1}),i("div",Es,t(d.value.max_tokens??"-"),1)])])]),_:1})]),_:1})]),i("div",Ds,[a(s(p),null,{default:e(()=>[a(s(v),{class:"pb-3"},{default:e(()=>[a(s(g),{class:"text-lg"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.detail.statusInfo")),1)]),_:1})]),_:1}),a(s(b),{class:"space-y-3"},{default:e(()=>[i("div",null,[a(s(o),{class:"text-muted-foreground text-sm"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.create.publishSettings.statusLabel")),1)]),_:1}),i("div",Is,[i("div",{class:q([x.value?.color,"h-2 w-2 rounded-full bg-current"])},null,2),i("span",Ts,t(x.value?.label),1)])]),a(s(D)),i("div",null,[a(s(o),{class:"text-muted-foreground text-sm"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.detail.visibility")),1)]),_:1}),i("div",zs,t(d.value.is_public?s(l)("admin.pages.assistants.detail.visibilityPublic"):s(l)("admin.pages.assistants.detail.visibilityPrivate")),1)])]),_:1})]),_:1}),a(s(p),null,{default:e(()=>[a(s(v),{class:"pb-3"},{default:e(()=>[a(s(g),{class:"text-lg"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.detail.metadata")),1)]),_:1})]),_:1}),a(s(b),{class:"space-y-3 text-sm"},{default:e(()=>[i("div",null,[a(s(o),{class:"text-muted-foreground"},{default:e(()=>[...r[2]||(r[2]=[n("Assistant ID",-1)])]),_:1}),i("div",Ns,[i("code",Rs,t(d.value.id),1),a(s(f),{variant:"ghost",size:"sm",onClick:N},{default:e(()=>[a(s(us),{class:"h-3 w-3"})]),_:1})])]),a(s(D)),i("div",null,[a(s(o),{class:"text-muted-foreground"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.detail.createdAt")),1)]),_:1}),i("div",Vs,t(new Date(d.value.created_at).toLocaleString()),1)]),i("div",null,[a(s(o),{class:"text-muted-foreground"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.detail.updatedAt")),1)]),_:1}),i("div",Bs,t(new Date(d.value.updated_at).toLocaleString()),1)]),d.value.owner_name||d.value.owner_id?(_(),y("div",Fs,[a(s(o),{class:"text-muted-foreground"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.detail.creator")),1)]),_:1}),i("div",Gs,t(d.value.owner_name||d.value.owner_id),1)])):w("",!0)]),_:1})]),_:1}),a(s(p),null,{default:e(()=>[a(s(v),null,{default:e(()=>[a(s(g),{class:"text-lg"},{default:e(()=>[n(t(s(l)("admin.pages.assistants.detail.usageStats")),1)]),_:1})]),_:1}),a(s(b),{class:"space-y-3 text-sm"},{default:e(()=>[i("div",Ps,t(s(l)("admin.pages.assistants.detail.statsDev")),1)]),_:1})]),_:1})])])):w("",!0)]))}});export{oa as default};
