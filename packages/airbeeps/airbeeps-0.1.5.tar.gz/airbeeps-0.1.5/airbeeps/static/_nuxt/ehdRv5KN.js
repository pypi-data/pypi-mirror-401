import{_ as ie,a as le,b as ue,c as he,d as ge,e as ye,f as be,g as ve,h as xe,i as $e}from"./CUahoEQi.js";import{R as V,h as F,c as K,o as A,x as H,y as te,g as n,N as ae,v as W,ae as ke,w as t,S as we,E as X,b as e,a as c,t as $,d as ee,X as Y,J as ne,O as Z,B as ce,a7 as de,k as pe,s as Se,I as me,bN as Me,e as Ce,K as Ue}from"./BzhixHsn.js";import{u as Te,_ as De}from"./Dosvfmhb.js";import{a as Ae,_ as Be}from"./BYr6U6oc.js";import{_ as Ee}from"./CawQPbYo.js";import{_ as fe}from"./hcYt5xb6.js";import{_ as Re,a as Ie}from"./BSaEE8c4.js";import{_ as Oe}from"./DdeO54y7.js";import{_ as je,a as Le,b as Ne,c as ze}from"./COjiOs1v.js";import{C as se,_ as Pe,a as qe,L as We,b as Ve,c as Fe}from"./qyVZgQpg.js";import{S as Q}from"./DQj8dpKz.js";import{_ as Ge}from"./6PIUWI5X.js";import{u as Ke}from"./BLw_G03o.js";import{C as J}from"./DhvzP0AS.js";import{B as oe}from"./Dx78NuNM.js";import{B as He}from"./jFGXCmwn.js";import{D as Je}from"./C8B8ONuC.js";import{U as Xe}from"./B7rqDUE4.js";import{M as Ye}from"./BeItb1S1.js";import{A as Ze}from"./CYrYAm7v.js";import{_ as Qe}from"./lcKie01k.js";import{_ as et,a as tt,b as at,d as nt,c as st}from"./DC3gMtZB.js";import"./DjusaS8W.js";import"./Bp3-KBkO.js";import"./DKMWZZOl.js";import"./CCA1r4XF.js";import"./CG_BwZdW.js";import"./XCOtPLqC.js";import"./C9XbPd6k.js";import"./4isL45Eu.js";import"./2RVX2kid.js";import"./C-9Ampo3.js";import"./C-xhCs27.js";import"./Di109XjC.js";import"./Bi0Cqvs9.js";import"./C56gk0qC.js";import"./BmCC6msl.js";import"./vJ3Jskde.js";import"./CeWx-USI.js";import"./B9I6JWJy.js";const ot=V("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const rt=V("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const it=V("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const lt=V("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const ut=V("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const ct=V("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const dt=V("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),pt=F({__name:"SidebarGroupContent",props:{class:{}},setup(y){const u=y;return(f,w)=>(A(),K("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",class:te(n(ae)("w-full text-sm",u.class))},[H(f.$slots,"default")],2))}}),mt=F({__name:"SidebarMenuSub",props:{class:{}},setup(y){const u=y;return(f,w)=>(A(),K("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-badge",class:te(n(ae)("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",u.class))},[H(f.$slots,"default")],2))}}),ft=F({__name:"SidebarMenuSubButton",props:{asChild:{type:Boolean},as:{default:"a"},size:{default:"md"},isActive:{type:Boolean},class:{}},setup(y){const u=y;return(f,w)=>(A(),W(n(ke),{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button",as:y.as,"as-child":y.asChild,"data-size":y.size,"data-active":y.isActive,class:te(n(ae)("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",y.size==="sm"&&"text-xs",y.size==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",u.class))},{default:t(()=>[H(f.$slots,"default")]),_:3},8,["as","as-child","data-size","data-active","class"]))}}),_t=F({__name:"SidebarMenuSubItem",props:{class:{}},setup(y){const u=y;return(f,w)=>(A(),K("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",class:te(n(ae)("group/menu-sub-item relative",u.class))},[H(f.$slots,"default")],2))}}),ht={class:"grid flex-1 text-left text-sm leading-tight"},gt={class:"truncate font-medium"},yt={class:"truncate text-xs"},bt={class:"flex items-center gap-2 px-1 py-1.5 text-left text-sm"},vt={class:"grid flex-1 text-left text-sm leading-tight"},xt={class:"truncate font-semibold"},$t={class:"truncate text-xs"},kt=F({__name:"User",setup(y){const{isMobile:u}=Te(),f=we(),w=X(!1),L=async()=>{await f.logout(),await Z("/sign-in")},N=()=>{w.value=!0};return(h,C)=>{const v=Ie,S=Oe,O=Re,g=ue,d=Le,T=Pe,z=qe,B=ze,b=Ne,U=je,x=le,E=ie,P=Ve;return A(),K(ne,null,[e(E,null,{default:t(()=>[e(x,null,{default:t(()=>[e(U,null,{default:t(()=>[e(d,{"as-child":""},{default:t(()=>[e(g,{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:t(()=>[e(O,{class:"h-8 w-8 rounded-lg"},{default:t(()=>[e(v,{src:n(f).user?.avatar_url||"",alt:h.$t("nav.avatar")},null,8,["src","alt"]),e(S,{class:"rounded-lg"},{default:t(()=>[e(n(se))]),_:1})]),_:1}),c("div",ht,[c("span",gt,$(n(f).user?.name||h.$t("nav.mysteriousUser")),1),c("span",yt,$(n(f).user?.email),1)]),e(n(rt),{class:"ml-auto size-4"})]),_:1})]),_:1}),e(b,{class:"w-[--reka-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:n(u)?"bottom":"right",align:"end","side-offset":4},{default:t(()=>[e(T,{class:"p-0 font-normal"},{default:t(()=>[c("div",bt,[e(O,{class:"h-8 w-8 rounded-lg"},{default:t(()=>[e(v,{src:n(f).user?.avatar_url||"",alt:h.$t("nav.avatar")},null,8,["src","alt"]),e(S,{class:"rounded-lg"},{default:t(()=>[e(n(se))]),_:1})]),_:1}),c("div",vt,[c("span",xt,$(n(f).user?.name||h.$t("nav.mysteriousUser")),1),c("span",$t,$(n(f).user?.email),1)])])]),_:1}),e(z),e(B,{onClick:N},{default:t(()=>[e(n(Q)),ee(" "+$(h.$t("nav.settings")),1)]),_:1}),e(z),e(B,{onClick:L},{default:t(()=>[e(n(We)),ee(" "+$(h.$t("common.logout")),1)]),_:1})]),_:1},8,["side"])]),_:1})]),_:1})]),_:1}),e(P,{open:n(w),"onUpdate:open":C[0]||(C[0]=j=>Y(w)?w.value=j:null)},null,8,["open"])],64)}}}),wt=Object.assign(kt,{__name:"NavUser"}),St={class:"grid flex-1 text-left text-sm leading-tight"},Mt={class:"truncate font-bold"},Ct={class:"truncate text-xs"},Ut={class:"truncate"},Tt=F({__name:"Sidebar",setup(y){const u=ce(),f=de(),w=Se(),L=Ke(),N=pe(()=>!!w.public.enableOAuthProviders),h=X(!1),C=X(!1),v=X(!1),S=async()=>{if(L.isDirty){if(!window.confirm("You have unsaved changes. Leave this page and go to Chat?"))return;L.clearAll()}await Z("/chat")},O=()=>{const g=f.options?.history?.state?.back;return g&&g.startsWith("/chat")?Z(g):Z("/chat")};return(g,d)=>{const T=ue,z=ge,B=Ee,b=fe,U=ft,x=_t,E=mt,P=Be,j=le,G=Ae,a=ie,r=pt,i=ye,l=be,o=wt,s=ve,_=xe,p=he;return A(),W(p,{collapsible:"icon"},{default:t(()=>[e(z,null,{default:t(()=>[e(T,{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",onClick:S},{default:t(()=>[d[3]||(d[3]=c("div",{class:"text-sidebar-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg"},[c("img",{src:Ge,alt:"Logo"})],-1)),c("div",St,[c("span",Mt,$(n(w).public.appName),1),c("span",Ct,$(g.$t("admin.dashboard")),1)])]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(i,null,{default:t(()=>[e(r,null,{default:t(()=>[e(a,null,{default:t(()=>[e(G,{"default-open":!0,class:"group/collapsible"},{default:t(()=>[e(j,null,{default:t(()=>[e(B,{"as-child":""},{default:t(()=>[e(T,{tooltip:"Dashboard"},{default:t(()=>[e(n(lt)),d[4]||(d[4]=c("span",null,"Dashboard",-1)),e(n(J),{class:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]),_:1})]),_:1}),e(P,null,{default:t(()=>[e(E,null,{default:t(()=>[e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin"},{default:t(()=>[e(b,{to:"/admin"},{default:t(()=>[...d[5]||(d[5]=[c("span",null,"Overview",-1)])]),_:1})]),_:1},8,["is-active"])]),_:1}),e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/analytics"},{default:t(()=>[e(b,{to:"/admin/analytics"},{default:t(()=>[...d[6]||(d[6]=[c("span",null,"Analytics",-1)])]),_:1})]),_:1},8,["is-active"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(G,{open:n(h),"onUpdate:open":d[0]||(d[0]=k=>Y(h)?h.value=k:null),class:"group/collapsible"},{default:t(()=>[e(j,null,{default:t(()=>[e(B,{"as-child":""},{default:t(()=>[e(T,{tooltip:"Models"},{default:t(()=>[e(n(oe)),d[7]||(d[7]=c("span",null,"Models",-1)),e(n(J),{class:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]),_:1})]),_:1}),e(P,null,{default:t(()=>[e(E,null,{default:t(()=>[e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/model-providers"},{default:t(()=>[e(b,{to:"/admin/model-providers"},{default:t(()=>[e(n(ot)),c("span",null,$(g.$t("admin.sidebar.modelProviders")),1)]),_:1})]),_:1},8,["is-active"])]),_:1}),e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/models"},{default:t(()=>[e(b,{to:"/admin/models"},{default:t(()=>[e(n(oe)),c("span",null,$(g.$t("admin.sidebar.models")),1)]),_:1})]),_:1},8,["is-active"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(G,{open:n(C),"onUpdate:open":d[1]||(d[1]=k=>Y(C)?C.value=k:null),class:"group/collapsible"},{default:t(()=>[e(j,null,{default:t(()=>[e(B,{"as-child":""},{default:t(()=>[e(T,{tooltip:"RAG"},{default:t(()=>[e(n(dt)),d[8]||(d[8]=c("span",null,"RAG",-1)),e(n(J),{class:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]),_:1})]),_:1}),e(P,null,{default:t(()=>[e(E,null,{default:t(()=>[e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/assistants"||n(u).path.startsWith("/admin/assistants")&&!n(u).path.includes("/settings")},{default:t(()=>[e(b,{to:"/admin/assistants"},{default:t(()=>[e(n(He)),c("span",null,$(g.$t("admin.sidebar.assistants")),1)]),_:1})]),_:1},8,["is-active"])]),_:1}),e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/assistants/settings"},{default:t(()=>[e(b,{to:"/admin/assistants/settings"},{default:t(()=>[e(n(Q)),d[9]||(d[9]=c("span",null,"Settings",-1))]),_:1})]),_:1},8,["is-active"])]),_:1}),e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path.startsWith("/admin/kbs")},{default:t(()=>[e(b,{to:"/admin/kbs"},{default:t(()=>[e(n(Je)),c("span",null,$(g.$t("admin.sidebar.knowledgeBases")),1)]),_:1})]),_:1},8,["is-active"])]),_:1}),e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path.startsWith("/admin/assistant-defaults")},{default:t(()=>[e(b,{to:"/admin/assistant-defaults"},{default:t(()=>[e(n(ut)),c("span",null,$(g.$t("admin.sidebar.assistantDefaults")),1)]),_:1})]),_:1},8,["is-active"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(G,{open:n(v),"onUpdate:open":d[2]||(d[2]=k=>Y(v)?v.value=k:null),class:"group/collapsible"},{default:t(()=>[e(j,null,{default:t(()=>[e(B,{"as-child":""},{default:t(()=>[e(T,{tooltip:"User Management"},{default:t(()=>[e(n(ct)),d[10]||(d[10]=c("span",null,"User Management",-1)),e(n(J),{class:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]),_:1})]),_:1}),e(P,null,{default:t(()=>[e(E,null,{default:t(()=>[e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/users"||n(u).path.startsWith("/admin/users/")&&!n(u).path.includes("/settings")},{default:t(()=>[e(b,{to:"/admin/users"},{default:t(()=>[e(n(Xe)),c("span",null,$(g.$t("admin.sidebar.users")),1)]),_:1})]),_:1},8,["is-active"])]),_:1}),e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/users/settings"},{default:t(()=>[e(b,{to:"/admin/users/settings"},{default:t(()=>[e(n(Q)),d[11]||(d[11]=c("span",null,"Settings",-1))]),_:1})]),_:1},8,["is-active"])]),_:1}),e(x,null,{default:t(()=>[e(U,{"as-child":"","is-active":n(u).path==="/admin/conversations"},{default:t(()=>[e(b,{to:"/admin/conversations"},{default:t(()=>[e(n(Ye)),c("span",null,$(g.$t("admin.sidebar.conversations")),1)]),_:1})]),_:1},8,["is-active"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),n(N)?(A(),W(j,{key:0},{default:t(()=>[e(T,{"as-child":"","is-active":n(u).path.startsWith("/admin/oauth-providers"),tooltip:"OAuth Providers"},{default:t(()=>[e(b,{to:"/admin/oauth-providers"},{default:t(()=>[e(n(it)),c("span",null,$(g.$t("admin.sidebar.oauthProviders")),1)]),_:1})]),_:1},8,["is-active"])]),_:1})):me("",!0),e(j,null,{default:t(()=>[e(T,{"as-child":"","is-active":n(u).path.startsWith("/admin/system-config"),tooltip:"System Config"},{default:t(()=>[e(b,{to:"/admin/system-config"},{default:t(()=>[e(n(Q)),c("span",null,$(g.$t("admin.sidebar.systemConfig")),1)]),_:1})]),_:1},8,["is-active"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(j,null,{default:t(()=>[e(T,{onClick:O,variant:"outline",size:"lg",class:"border-primary/50 text-primary hover:border-primary hover:text-primary data-[active=true]:bg-sidebar-accent/60 mt-1 font-semibold hover:shadow-sm"},{default:t(()=>[e(n(Ze),{class:"shrink-0"}),c("span",Ut,$(g.$t("admin.sidebar.backToUser")),1)]),_:1})]),_:1}),e(o)]),_:1}),e(_)]),_:1})}}}),Dt=Object.assign(Tt,{__name:"AdminSidebar"});var I={},re;function At(){if(re)return I;re=1,Object.defineProperty(I,"__esModule",{value:!0}),I.PathError=I.TokenData=void 0,I.parse=S,I.compile=O,I.match=T,I.pathToRegexp=z,I.stringify=P;const y="/",u=a=>a,f=/^[$_\p{ID_Start}]$/u,w=/^[$\u200c\u200d\p{ID_Continue}]$/u,L={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function N(a){return a.replace(/[{}()\[\]+?!:*\\]/g,"\\$&")}function h(a){return a.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}class C{constructor(r,i){this.tokens=r,this.originalPath=i}}I.TokenData=C;class v extends TypeError{constructor(r,i){let l=r;i&&(l+=`: ${i}`),l+="; visit https://git.new/pathToRegexpError for info",super(l),this.originalPath=i}}I.PathError=v;function S(a,r={}){const{encodePath:i=u}=r,l=[...a],o=[];let s=0,_=0;function p(){let m="";if(f.test(l[s]))do m+=l[s++];while(w.test(l[s]));else if(l[s]==='"'){let D=s;for(;s++<l.length;){if(l[s]==='"'){s++,D=0;break}l[s]==="\\"&&s++,m+=l[s]}if(D)throw new v(`Unterminated quote at index ${D}`,a)}if(!m)throw new v(`Missing parameter name at index ${s}`,a);return m}for(;s<l.length;){const m=l[s],D=L[m];D?o.push({type:D,index:s++,value:m}):m==="\\"?o.push({type:"escape",index:s++,value:l[s++]}):m===":"?o.push({type:"param",index:s++,value:p()}):m==="*"?o.push({type:"wildcard",index:s++,value:p()}):o.push({type:"char",index:s++,value:m})}o.push({type:"end",index:s,value:""});function k(m){const D=[];for(;;){const M=o[_++];if(M.type===m)break;if(M.type==="char"||M.type==="escape"){let R=M.value,q=o[_];for(;q.type==="char"||q.type==="escape";)R+=q.value,q=o[++_];D.push({type:"text",value:i(R)});continue}if(M.type==="param"||M.type==="wildcard"){D.push({type:M.type,name:M.value});continue}if(M.type==="{"){D.push({type:"group",tokens:k("}")});continue}throw new v(`Unexpected ${M.type} at index ${M.index}, expected ${m}`,a)}return D}return new C(k("end"),a)}function O(a,r={}){const{encode:i=encodeURIComponent,delimiter:l=y}=r,o=typeof a=="object"?a:S(a,r),s=g(o.tokens,l,i);return function(p={}){const[k,...m]=s(p);if(m.length)throw new TypeError(`Missing parameters: ${m.join(", ")}`);return k}}function g(a,r,i){const l=a.map(o=>d(o,r,i));return o=>{const s=[""];for(const _ of l){const[p,...k]=_(o);s[0]+=p,s.push(...k)}return s}}function d(a,r,i){if(a.type==="text")return()=>[a.value];if(a.type==="group"){const o=g(a.tokens,r,i);return s=>{const[_,...p]=o(s);return p.length?[""]:[_]}}const l=i||u;return a.type==="wildcard"&&i!==!1?o=>{const s=o[a.name];if(s==null)return["",a.name];if(!Array.isArray(s)||s.length===0)throw new TypeError(`Expected "${a.name}" to be a non-empty array`);return[s.map((_,p)=>{if(typeof _!="string")throw new TypeError(`Expected "${a.name}/${p}" to be a string`);return l(_)}).join(r)]}:o=>{const s=o[a.name];if(s==null)return["",a.name];if(typeof s!="string")throw new TypeError(`Expected "${a.name}" to be a string`);return[l(s)]}}function T(a,r={}){const{decode:i=decodeURIComponent,delimiter:l=y}=r,{regexp:o,keys:s}=z(a,r),_=s.map(p=>i===!1?u:p.type==="param"?i:k=>k.split(l).map(i));return function(k){const m=o.exec(k);if(!m)return!1;const D=m[0],M=Object.create(null);for(let R=1;R<m.length;R++){if(m[R]===void 0)continue;const q=s[R-1],_e=_[R-1];M[q.name]=_e(m[R])}return{path:D,params:M}}}function z(a,r={}){const{delimiter:i=y,end:l=!0,sensitive:o=!1,trailing:s=!0}=r,_=[],p=o?"":"i",k=[];for(const M of B(a,[])){const R=typeof M=="object"?M:S(M,r);for(const q of b(R.tokens,0,[]))k.push(U(q,i,_,R.originalPath))}let m=`^(?:${k.join("|")})`;return s&&(m+=`(?:${h(i)}$)?`),m+=l?"$":`(?=${h(i)}|$)`,{regexp:new RegExp(m,p),keys:_}}function B(a,r){if(Array.isArray(a))for(const i of a)B(i,r);else r.push(a);return r}function*b(a,r,i){if(r===a.length)return yield i;const l=a[r];if(l.type==="group")for(const o of b(l.tokens,0,i.slice()))yield*b(a,r+1,o);else i.push(l);yield*b(a,r+1,i)}function U(a,r,i,l){let o="",s="",_=!0;for(const p of a){if(p.type==="text"){o+=h(p.value),s+=p.value,_||(_=p.value.includes(r));continue}if(p.type==="param"||p.type==="wildcard"){if(!_&&!s)throw new v(`Missing text before "${p.name}" ${p.type}`,l);p.type==="param"?o+=`(${x(r,_?"":s)}+)`:o+="([\\s\\S]+)",i.push(p),s="",_=!1;continue}}return o}function x(a,r){return r.length<2?a.length<2?`[^${h(a+r)}]`:`(?:(?!${h(a)})[^${h(r)}])`:a.length<2?`(?:(?!${h(r)})[^${h(a)}])`:`(?:(?!${h(r)}|${h(a)})[\\s\\S])`}function E(a){let r="",i=0;function l(o){return j(o)&&G(a[i])?o:JSON.stringify(o)}for(;i<a.length;){const o=a[i++];if(o.type==="text"){r+=N(o.value);continue}if(o.type==="group"){r+=`{${E(o.tokens)}}`;continue}if(o.type==="param"){r+=`:${l(o.name)}`;continue}if(o.type==="wildcard"){r+=`*${l(o.name)}`;continue}throw new TypeError(`Unknown token type: ${o.type}`)}return r}function P(a){return E(a.tokens)}function j(a){const[r,...i]=a;return f.test(r)&&i.every(l=>w.test(l))}function G(a){return a&&a.type==="text"?!w.test(a.value[0]):!0}return I}var Bt=At();const Et=y=>{const u=de();for(const f of u.getRoutes())if(Bt.match(f.path.replace(/:([A-Za-z0-9_]+)\(\)/g,":$1"),{decode:decodeURIComponent})(y))return f;return null},Rt={class:"flex h-16 shrink-0 items-center gap-2 border-b"},It={class:"flex items-center gap-2 px-3"},Ot={class:"flex w-full flex-1 flex-col gap-4 overflow-x-hidden p-4"},ka=F({__name:"admin",setup(y){const u=Me("sidebar_state"),f=ce(),{t:w}=Ce(),L=pe(()=>{const N=f.path.split("/").filter(Boolean);return N.map((C,v)=>"/"+N.slice(0,v+1).join("/")).map(C=>{const v=Et(C);if(!v)return null;const S=v.meta?.breadcrumb||v.meta?.name||v.name||C;if(typeof S=="string"){const O=w(S,S);return{name:O===S&&!S.includes(".")?S:O,path:C}}return{name:S,path:C}}).filter(Boolean)});return(N,h)=>{const C=Dt,v=Fe,S=Qe,O=fe,g=nt,d=at,T=st,z=tt,B=et,b=$e,U=De;return A(),W(U,{"default-open":n(u)},{default:t(()=>[e(C),e(b,{class:"min-h-screen min-w-0"},{default:t(()=>[c("header",Rt,[c("div",It,[e(v),e(S,{orientation:"vertical",class:"mr-2 h-4"}),e(B,null,{default:t(()=>[e(z,null,{default:t(()=>[(A(!0),K(ne,null,Ue(n(L),(x,E)=>(A(),K(ne,{key:x.path},[e(d,null,{default:t(()=>[E<n(L).length-1?(A(),W(O,{key:0,to:x.path},{default:t(()=>[ee($(x.name),1)]),_:2},1032,["to"])):(A(),W(g,{key:1},{default:t(()=>[ee($(x.name),1)]),_:2},1024))]),_:2},1024),E<n(L).length-1?(A(),W(T,{key:0})):me("",!0)],64))),128))]),_:1})]),_:1})])]),c("div",Ot,[H(N.$slots,"default")])]),_:3})]),_:3},8,["default-open"])}}});export{ka as default};
