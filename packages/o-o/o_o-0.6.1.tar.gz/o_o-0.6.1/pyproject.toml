[project]
name = "o-o"
version = "0.6.1"
description = "A command line interface for running cloud jobs"
authors = [
    { name = "Paul Novotny", email = "mail@paulnovo.us" }
]
readme = "README.md"
requires-python = ">=3.11"
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]
license = "GPL-3.0-or-later"
license-files = ["LICENSE"]
dependencies = [
    "apache-libcloud==3.8.0",
    "asciidag>=0.2.0",
    "click>=8.2.1",
    "gitpython>=3.1.44",
    "paramiko>=3.5.1,<3.6",
    "pendulum>=3.1.0",
    "pydantic>=2.11.7",
    "pydantic-extra-types>=2.10.5",
    "pydantic-settings>=2.10.1",
    "python-dotenv>=1.1.1",
    "pyyaml>=6.0.2",
    "requests>=2.32.4",
    "typer>=0.16.0",
]

[project.urls]
Homepage = "https://o-o.tools"
Source = "https://git.sr.ht/~ootools/oocli"
Issues = "https://todo.sr.ht/~ootools/oocli"

[project.scripts]
o-o = "oocli.cli:app"

[build-system]
requires = ["uv_build>=0.8.11,<0.9.0"]
build-backend = "uv_build"

[dependency-groups]
dev = [
    "black>=25.9.0",
    "ipdb>=0.13.13",
    "pytest>=9.0.1",
    "pytest-cov>=7.0.0",
    "ruff>=0.13.3",
]

[tool.pytest]
addopts = [
    "--cov=oocli",
]
markers = [
    "cloud: Requires cloud resources and probably incurs a charge.",
]

[tool.ruff.lint]
select = ["E", "F", "UP", "B", "SIM", "I"]
ignore = ["B008", "B905", "E501", "E731", "E741", "SIM117"]

[tool.uv.build-backend]
module-name = "oocli"
source-exclude = ["*.swp"]
