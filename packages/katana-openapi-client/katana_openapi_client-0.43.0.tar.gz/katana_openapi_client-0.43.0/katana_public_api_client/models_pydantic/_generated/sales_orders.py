"""Auto-generated Pydantic models - sales_orders domain.

DO NOT EDIT - This file is generated by scripts/generate_pydantic_models.py

To regenerate, run:
    uv run poe generate-pydantic
"""

from __future__ import annotations

from typing import Annotated

from pydantic import AnyUrl, AwareDatetime, ConfigDict, Field

from katana_public_api_client.models_pydantic._base import KatanaPydanticBase

from .base import DeletableEntity, UpdatableEntity
from .common import (
    Attribute,
    Attribute1,
    EntityType4,
    IngredientAvailability,
    IntegrationType,
    ProductAvailability,
    ProductionStatus,
    Status5,
    Status6,
    Status12,
)
from .stock import BatchTransaction6


class SalesOrderRow(UpdatableEntity):
    id: Annotated[int, Field(description="Unique identifier for the sales order row")]
    sales_order_id: Annotated[
        int | None, Field(description="ID of the sales order this row belongs to")
    ] = None
    quantity: Annotated[
        float, Field(description="Ordered quantity of the product variant")
    ]
    variant_id: Annotated[
        int, Field(description="ID of the product variant being ordered")
    ]
    tax_rate_id: Annotated[
        int | None, Field(description="ID of the tax rate applied to this line item")
    ] = None
    location_id: Annotated[
        int | None,
        Field(description="Location where the product should be picked from"),
    ] = None
    product_availability: Annotated[
        ProductAvailability | None,
        Field(
            description="Current availability status of the product for this order row",
        ),
    ] = None
    product_expected_date: Annotated[
        AwareDatetime | None,
        Field(
            description="Expected date when the product will be available if not currently in stock"
        ),
    ] = None
    price_per_unit: Annotated[
        float | None, Field(description="Selling price per unit in the order currency")
    ] = None
    price_per_unit_in_base_currency: Annotated[
        float | None,
        Field(
            description="Selling price per unit converted to the base company currency"
        ),
    ] = None
    total: Annotated[
        float | None,
        Field(
            description="Total line amount (quantity * price_per_unit) in order currency"
        ),
    ] = None
    total_in_base_currency: Annotated[
        float | None,
        Field(description="Total line amount converted to the base company currency"),
    ] = None
    total_discount: Annotated[
        str | None, Field(description="Discount amount applied to this line item")
    ] = None
    cogs_value: Annotated[
        float | None, Field(description="Cost of goods sold value for this line item")
    ] = None
    attributes: Annotated[
        list[Attribute] | None,
        Field(description="Custom attributes associated with this sales order row"),
    ] = None
    batch_transactions: Annotated[
        list[BatchTransaction6] | None,
        Field(
            description="Batch allocations for this order row when using batch tracking"
        ),
    ] = None
    serial_numbers: Annotated[
        list[int] | None,
        Field(
            description="Serial numbers allocated to this order row for serialized products"
        ),
    ] = None
    linked_manufacturing_order_id: Annotated[
        int | None,
        Field(
            description="ID of the manufacturing order linked to this sales order row for make-to-order items"
        ),
    ] = None
    conversion_rate: Annotated[
        float | None, Field(description="Currency conversion rate used for this row")
    ] = None
    conversion_date: Annotated[
        AwareDatetime | None,
        Field(description="Date when the currency conversion rate was applied"),
    ] = None


class SalesOrderAddress(UpdatableEntity):
    id: Annotated[int, Field(description="Unique identifier for the address record")]
    sales_order_id: Annotated[
        int, Field(description="ID of the sales order this address belongs to")
    ]
    entity_type: Annotated[
        EntityType4,
        Field(
            description="Type of address - billing for invoicing or shipping for delivery"
        ),
    ]
    first_name: Annotated[
        str | None, Field(description="First name of the contact person")
    ] = None
    last_name: Annotated[
        str | None, Field(description="Last name of the contact person")
    ] = None
    company: Annotated[
        str | None, Field(description="Company name for business deliveries")
    ] = None
    phone: Annotated[
        str | None, Field(description="Contact phone number for delivery coordination")
    ] = None
    line_1: Annotated[
        str | None, Field(description="Primary address line (street address)")
    ] = None
    line_2: Annotated[
        str | None, Field(description="Secondary address line (apartment, suite, etc.)")
    ] = None
    city: Annotated[str | None, Field(description="City name")] = None
    state: Annotated[str | None, Field(description="State or province")] = None
    zip: Annotated[str | None, Field(description="Postal or ZIP code")] = None
    country: Annotated[
        str | None, Field(description="Country code (e.g., US, CA, GB)")
    ] = None


class CreateSalesOrderRowRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    sales_order_id: Annotated[
        int, Field(description="ID of the sales order this row belongs to")
    ]
    variant_id: Annotated[
        int, Field(description="ID of the product variant being ordered")
    ]
    quantity: Annotated[
        float, Field(description="Ordered quantity of the product variant")
    ]
    price_per_unit: Annotated[
        float | None, Field(description="Selling price per unit in the order currency")
    ] = None
    tax_rate_id: Annotated[
        int | None, Field(description="ID of the tax rate applied to this line item")
    ] = None
    location_id: Annotated[
        int | None,
        Field(description="Location where the product should be picked from"),
    ] = None


class UpdateSalesOrderRowRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    variant_id: Annotated[
        int | None, Field(description="ID of the product variant being ordered")
    ] = None
    quantity: Annotated[
        float | None, Field(description="Ordered quantity of the product variant")
    ] = None
    price_per_unit: Annotated[
        float | None, Field(description="Selling price per unit in the order currency")
    ] = None
    tax_rate_id: Annotated[
        int | None, Field(description="ID of the tax rate applied to this line item")
    ] = None
    location_id: Annotated[
        int | None,
        Field(description="Location where the product should be picked from"),
    ] = None


class CreateSalesOrderAddressRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    sales_order_id: Annotated[
        int, Field(description="ID of the sales order this address belongs to")
    ]
    entity_type: Annotated[
        EntityType4, Field(description="Type of address (billing or shipping)")
    ]
    first_name: Annotated[
        str | None, Field(description="First name for the address contact")
    ] = None
    last_name: Annotated[
        str | None, Field(description="Last name for the address contact")
    ] = None
    company: Annotated[
        str | None, Field(description="Company name for the address")
    ] = None
    address_line_1: Annotated[str, Field(description="Primary address line")]
    address_line_2: Annotated[
        str | None, Field(description="Secondary address line")
    ] = None
    city: Annotated[str, Field(description="City name")]
    state: Annotated[str | None, Field(description="State or province")] = None
    zip: Annotated[str | None, Field(description="Postal code")] = None
    country: Annotated[str, Field(description="Country code")]
    phone: Annotated[str | None, Field(description="Contact phone number")] = None


class UpdateSalesOrderAddressRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    entity_type: Annotated[
        EntityType4 | None, Field(description="Type of address (billing or shipping)")
    ] = None
    first_name: Annotated[
        str | None, Field(description="First name for the address contact")
    ] = None
    last_name: Annotated[
        str | None, Field(description="Last name for the address contact")
    ] = None
    company: Annotated[
        str | None, Field(description="Company name for the address")
    ] = None
    address_line_1: Annotated[str | None, Field(description="Primary address line")] = (
        None
    )
    address_line_2: Annotated[
        str | None, Field(description="Secondary address line")
    ] = None
    city: Annotated[str | None, Field(description="City name")] = None
    state: Annotated[str | None, Field(description="State or province")] = None
    zip: Annotated[str | None, Field(description="Postal code")] = None
    country: Annotated[str | None, Field(description="Country code")] = None
    phone: Annotated[str | None, Field(description="Contact phone number")] = None


class SalesOrderRow1(KatanaPydanticBase):
    quantity: Annotated[
        float, Field(description="Quantity of the product variant being ordered")
    ]
    variant_id: Annotated[
        int, Field(description="ID of the product variant being ordered")
    ]
    tax_rate_id: Annotated[
        int | None, Field(description="Tax rate to apply to this line item")
    ] = None
    location_id: Annotated[
        int | None, Field(description="Location to pick the product from")
    ] = None
    price_per_unit: Annotated[
        float | None,
        Field(description="Override price per unit (uses default if not specified)"),
    ] = None
    total_discount: Annotated[
        float | None, Field(description="Discount amount to apply to this line")
    ] = None
    attributes: Annotated[
        list[Attribute1] | None,
        Field(description="Custom attributes for the order line"),
    ] = None


class CreateSalesOrderRequest(KatanaPydanticBase):
    order_no: Annotated[
        str, Field(description="Unique order number for tracking and reference")
    ]
    customer_id: Annotated[
        int, Field(description="ID of the customer placing the order")
    ]
    sales_order_rows: Annotated[
        list[SalesOrderRow1],
        Field(
            description="List of products and quantities being ordered", min_length=1
        ),
    ]
    tracking_number: Annotated[
        str | None, Field(description="Shipping tracking number if already known")
    ] = None
    tracking_number_url: Annotated[
        AnyUrl | None, Field(description="URL for tracking shipment status")
    ] = None
    addresses: Annotated[
        list[Address] | None,
        Field(description="Billing and shipping addresses for the order"),
    ] = None
    order_created_date: Annotated[
        AwareDatetime | None,
        Field(
            description="Date when the order was originally created (defaults to current time)"
        ),
    ] = None
    delivery_date: Annotated[
        AwareDatetime | None, Field(description="Requested delivery date")
    ] = None
    currency: Annotated[
        str | None,
        Field(
            description="Currency code for the order (defaults to company base currency)"
        ),
    ] = None
    location_id: Annotated[
        int | None, Field(description="Primary fulfillment location for the order")
    ] = None
    status: Annotated[
        Status6 | None, Field(description="Initial status of the order")
    ] = None
    additional_info: Annotated[
        str | None, Field(description="Additional notes or instructions for the order")
    ] = None
    customer_ref: Annotated[
        str | None, Field(description="Customer's internal reference number")
    ] = None
    ecommerce_order_type: Annotated[
        str | None, Field(description="Type of ecommerce order if applicable")
    ] = None
    ecommerce_store_name: Annotated[
        str | None,
        Field(
            description="Name of the ecommerce store if order originated from online"
        ),
    ] = None
    ecommerce_order_id: Annotated[
        str | None, Field(description="Original order ID from the ecommerce platform")
    ] = None


class SalesOrderFulfillment(UpdatableEntity):
    id: Annotated[
        int, Field(description="Unique identifier for the fulfillment record")
    ]
    sales_order_id: Annotated[
        int, Field(description="ID of the sales order being fulfilled")
    ]
    tracking_number: Annotated[
        str | None, Field(description="Carrier tracking number for shipment monitoring")
    ] = None
    tracking_number_url: Annotated[
        str | None, Field(description="URL for online tracking of the shipment")
    ] = None
    shipped_date: Annotated[
        AwareDatetime | None,
        Field(description="Date and time when the order was shipped"),
    ] = None
    estimated_delivery_date: Annotated[
        AwareDatetime | None,
        Field(description="Carrier's estimated delivery date and time"),
    ] = None
    actual_delivery_date: Annotated[
        AwareDatetime | None,
        Field(description="Actual date and time of delivery confirmation"),
    ] = None
    shipping_cost: Annotated[
        float | None, Field(description="Total shipping cost charged to the customer")
    ] = None
    shipping_method: Annotated[
        str | None,
        Field(description="Shipping service used (e.g., Ground, Express, Overnight)"),
    ] = None
    carrier: Annotated[
        str | None, Field(description="Shipping carrier name (e.g., UPS, FedEx, DHL)")
    ] = None
    notes: Annotated[
        str | None, Field(description="Additional notes about the shipment or delivery")
    ] = None


class UpdateSalesReturnRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    customer_id: Annotated[
        int | None, Field(description="ID of the customer initiating the return")
    ] = None
    sales_order_id: Annotated[
        int | None, Field(description="ID of the original sales order being returned")
    ] = None
    order_no: Annotated[
        str | None, Field(description="Return order reference number")
    ] = None
    return_location_id: Annotated[
        int | None,
        Field(description="ID of the location where items are being returned to"),
    ] = None
    currency: Annotated[
        str | None, Field(description="Currency code (e.g., USD, EUR)")
    ] = None
    order_created_date: Annotated[
        AwareDatetime | None,
        Field(description="Date when the original order was created"),
    ] = None
    additional_info: Annotated[
        str | None, Field(description="Optional notes or comments about the return")
    ] = None
    status: Annotated[
        Status12 | None, Field(description="Status of the sales return")
    ] = None


class SalesReturnRow(UpdatableEntity):
    id: int
    sales_return_id: Annotated[
        int, Field(description="The sales return this line item belongs to")
    ]
    variant_id: Annotated[int, Field(description="The product variant being returned")]
    quantity: Annotated[
        str,
        Field(
            description="The quantity of the variant being returned (formatted as decimal string for precision)"
        ),
    ]
    return_reason_id: Annotated[
        int | None, Field(description="The reason code for this return")
    ] = None
    notes: Annotated[
        str | None, Field(description="Additional notes about this return item")
    ] = None
    unit_price: Annotated[
        float | None, Field(description="The price per unit for the returned item")
    ] = None
    total_price: Annotated[
        float | None, Field(description="The total refund amount for this line item")
    ] = None


class CreateSalesReturnRowRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    variant_id: Annotated[int, Field(description="ID of the variant being returned")]
    quantity: Annotated[float, Field(description="Quantity being returned")]
    return_reason_id: Annotated[
        int | None, Field(description="ID of the return reason")
    ] = None
    notes: Annotated[
        str | None, Field(description="Optional notes about this returned item")
    ] = None


class SalesOrderRowListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesOrderRow] | None,
        Field(
            description="Array of sales order row line items with pricing and product details"
        ),
    ] = None


class SalesOrderAddressListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesOrderAddress] | None,
        Field(
            description="Array of sales order addresses with complete contact and location information"
        ),
    ] = None


class SalesOrderFulfillmentListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesOrderFulfillment] | None,
        Field(
            description="Array of fulfillment records with tracking and delivery information"
        ),
    ] = None


class SalesReturnRowListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesReturnRow] | None, Field(description="List of sales return row items")
    ] = None


class SalesOrderAccountingMetadata(KatanaPydanticBase):
    id: Annotated[
        int, Field(description="Unique identifier for the accounting metadata record")
    ]
    sales_order_id: Annotated[
        int, Field(description="ID of the sales order linked to accounting system")
    ]
    fulfillment_id: Annotated[
        int,
        Field(
            description="ID of the fulfillment record associated with this accounting entry"
        ),
    ]
    invoice_id: Annotated[
        str, Field(description="Invoice identifier in the external accounting system")
    ]
    integration_type: Annotated[
        IntegrationType, Field(description="Type of accounting system integration used")
    ]
    created_at: Annotated[
        AwareDatetime,
        Field(description="Date and time when the accounting metadata was created"),
    ]


class SalesOrderShippingFee(KatanaPydanticBase):
    id: Annotated[
        int, Field(description="Unique identifier for the shipping fee record")
    ]
    sales_order_id: Annotated[
        int, Field(description="ID of the sales order this shipping fee applies to")
    ]
    amount: Annotated[
        str, Field(description="Shipping fee amount in the order currency")
    ]
    tax_rate_id: Annotated[
        int | None, Field(description="ID of the tax rate applied to the shipping fee")
    ] = None
    description: Annotated[
        str | None, Field(description="Description of the shipping service or fee type")
    ] = None


class CreateSalesOrderShippingFeeRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    sales_order_id: Annotated[
        int, Field(description="ID of the sales order to add shipping fee to")
    ]
    amount: Annotated[
        float, Field(description="Shipping fee amount in the order currency")
    ]
    description: Annotated[
        str | None, Field(description="Description of the shipping service or fee type")
    ] = None
    tax_rate_id: Annotated[
        int | None, Field(description="ID of the tax rate to apply to the shipping fee")
    ] = None


class SalesOrder(UpdatableEntity):
    customer_id: Annotated[
        int, Field(description="Unique identifier of the customer placing the order")
    ]
    order_no: Annotated[
        str,
        Field(description="Unique order number for tracking and reference purposes"),
    ]
    source: Annotated[
        str | None,
        Field(
            description="Source system or channel where the order originated (e.g., Shopify, manual entry)"
        ),
    ] = None
    order_created_date: Annotated[
        AwareDatetime | None,
        Field(
            description="Date and time when the sales order was created in the system"
        ),
    ] = None
    delivery_date: Annotated[
        AwareDatetime | None,
        Field(description="Requested or promised delivery date for the order"),
    ] = None
    picked_date: Annotated[
        AwareDatetime | None,
        Field(description="Date when items were picked from inventory for shipment"),
    ] = None
    location_id: Annotated[
        int,
        Field(
            description="Unique identifier of the fulfillment location for this order"
        ),
    ]
    status: Annotated[
        Status5, Field(description="Current fulfillment status of the sales order")
    ]
    currency: Annotated[
        str | None,
        Field(
            description="Currency code for the order pricing (ISO 4217 format)",
            pattern="^[A-Z]{3}$",
        ),
    ] = None
    conversion_rate: Annotated[
        float | None,
        Field(
            description="Exchange rate used to convert order currency to base company currency"
        ),
    ] = None
    conversion_date: Annotated[
        AwareDatetime | None,
        Field(description="Date when the currency conversion rate was applied"),
    ] = None
    invoicing_status: Annotated[
        str | None,
        Field(description="Current invoicing status indicating billing progress"),
    ] = None
    total: Annotated[
        float | None, Field(description="Total order amount in the order currency")
    ] = None
    total_in_base_currency: Annotated[
        float | None,
        Field(
            description="Total order amount converted to the company's base currency"
        ),
    ] = None
    additional_info: Annotated[
        str | None,
        Field(description="Additional notes or instructions for the sales order"),
    ] = None
    customer_ref: Annotated[
        str | None,
        Field(description="Customer's reference number or purchase order number"),
    ] = None
    sales_order_rows: Annotated[
        list[SalesOrderRow] | None,
        Field(
            description="Line items included in the sales order with product details and quantities"
        ),
    ] = None
    ecommerce_order_type: Annotated[
        str | None,
        Field(
            description="Type of ecommerce order when imported from external platforms"
        ),
    ] = None
    ecommerce_store_name: Annotated[
        str | None,
        Field(
            description="Name of the ecommerce store when order originated from external platforms"
        ),
    ] = None
    ecommerce_order_id: Annotated[
        str | None,
        Field(description="Original order ID from the external ecommerce platform"),
    ] = None
    product_availability: Annotated[ProductAvailability | None, Field()] = None
    product_expected_date: Annotated[
        AwareDatetime | None,
        Field(
            description="Expected date when products will be available for fulfillment"
        ),
    ] = None
    ingredient_availability: Annotated[IngredientAvailability | None, Field()] = None
    ingredient_expected_date: Annotated[
        AwareDatetime | None,
        Field(
            description="Expected date when ingredients will be available for production"
        ),
    ] = None
    production_status: Annotated[
        ProductionStatus | None,
        Field(
            description="Current status of production for items in this order",
        ),
    ] = None
    tracking_number: Annotated[
        str | None,
        Field(description="Shipping carrier tracking number for package tracking"),
    ] = None
    tracking_number_url: Annotated[
        str | None,
        Field(description="URL link to track the shipment on carrier website"),
    ] = None
    billing_address_id: Annotated[
        int | None,
        Field(description="Reference to the customer address used for billing"),
    ] = None
    shipping_address_id: Annotated[
        int | None,
        Field(description="Reference to the customer address used for shipping"),
    ] = None
    linked_manufacturing_order_id: Annotated[
        int | None,
        Field(
            description="ID of the linked manufacturing order if this sales order has associated production"
        ),
    ] = None
    shipping_fee: Annotated[
        SalesOrderShippingFee | None,
        Field(
            description="Shipping fee details for this sales order",
        ),
    ] = None
    addresses: Annotated[
        list[SalesOrderAddress] | None,
        Field(description="Complete address information for billing and shipping"),
    ] = None


class SalesOrderListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesOrder] | None,
        Field(
            description="Array of sales orders with complete order details and status information"
        ),
    ] = None


class SalesReturn(DeletableEntity):
    id: Annotated[
        int, Field(description="Unique identifier for the sales return record")
    ]
    customer_id: Annotated[
        int, Field(description="Unique identifier of the customer making the return")
    ]
    sales_order_id: Annotated[
        int | None,
        Field(
            description="Reference to the original sales order being returned (if applicable)"
        ),
    ] = None
    order_no: Annotated[
        str, Field(description="Unique return order number for tracking and reference")
    ]
    return_location_id: Annotated[
        int,
        Field(
            description="Location where returned items will be received and processed"
        ),
    ]
    status: Annotated[
        Status12, Field(description="Current processing status of the sales return")
    ]
    currency: Annotated[
        str | None,
        Field(
            description="Currency code for refund amounts (ISO 4217 format)",
            pattern="^[A-Z]{3}$",
        ),
    ] = None
    return_date: Annotated[
        AwareDatetime | None,
        Field(description="Date when the return was processed and items received"),
    ] = None
    order_created_date: Annotated[
        AwareDatetime | None,
        Field(description="Date and time when the return request was created"),
    ] = None
    additional_info: Annotated[
        str | None, Field(description="Additional notes or comments about the return")
    ] = None
    refund_status: Annotated[
        str | None, Field(description="Current status of the refund processing")
    ] = None
    sales_return_rows: Annotated[
        list[SalesReturnRow] | None,
        Field(description="Line items being returned with quantities and reasons"),
    ] = None


class CreateSalesReturnRequest(KatanaPydanticBase):
    model_config = ConfigDict(
        extra="forbid",
    )
    customer_id: Annotated[
        int, Field(description="ID of the customer initiating the return")
    ]
    sales_order_id: Annotated[
        int | None, Field(description="ID of the original sales order being returned")
    ] = None
    order_no: Annotated[str, Field(description="Return order reference number")]
    return_location_id: Annotated[
        int, Field(description="ID of the location where items are being returned to")
    ]
    currency: Annotated[
        str | None, Field(description="Currency code (e.g., USD, EUR)")
    ] = None
    order_created_date: Annotated[
        AwareDatetime | None,
        Field(description="Date when the original order was created"),
    ] = None
    additional_info: Annotated[
        str | None, Field(description="Optional notes or comments about the return")
    ] = None
    sales_return_rows: Annotated[
        list[CreateSalesReturnRowRequest],
        Field(description="Array of items being returned", min_length=1),
    ]


class SalesReturnListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesReturn] | None, Field(description="List of sales return records")
    ] = None


class SalesOrderAccountingMetadataListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesOrderAccountingMetadata] | None,
        Field(
            description="Array of accounting metadata records with integration and invoice information"
        ),
    ] = None


class SalesOrderShippingFeeListResponse(KatanaPydanticBase):
    data: Annotated[
        list[SalesOrderShippingFee] | None,
        Field(
            description="Array of shipping fee records with costs and tax information"
        ),
    ] = None


# Type aliases
Address = SalesOrderAddress
