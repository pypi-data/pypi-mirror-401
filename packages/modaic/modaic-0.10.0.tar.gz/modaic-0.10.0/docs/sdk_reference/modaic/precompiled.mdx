---
title: PrecompiledProgram
description: The Precompiled Program Class
---

## PrecompiledConfig

```python
class PrecompiledConfig(BaseModel)
```

#### save\_precompiled

```python
def save_precompiled(path: str | Path) -> None
```

Saves the config to a config.json file in the given local folder.
Also saves the auto_classes.json with AutoConfig and any other auto classes passed to _extra_auto_classes

**Arguments**:

- `path` - The local folder to save the config to.

#### from\_precompiled

```python
@classmethod
def from_precompiled(cls: Type[C],
                     path: str | Path,
                     rev: str = "main",
                     **kwargs) -> C
```

Loads the config from a config.json file in the given path. The path can be a local directory or a repo on Modaic Hub.

**Arguments**:

- `path` - The path to load the config from. Can be a local directory or a repo on Modaic Hub.
- `**kwargs` - Additional keyword arguments used to override the default config.
  

**Returns**:

  An instance of the PrecompiledConfig class.

#### from\_dict

```python
@classmethod
def from_dict(cls: Type[C], dict: Dict, **kwargs) -> C
```

Loads the config from a dictionary.

**Arguments**:

- `dict` - A dictionary containing the config.
- `**kwargs` - Additional keyword arguments used to override the default config.
  

**Returns**:

  An instance of the PrecompiledConfig class.

#### from\_json

```python
@classmethod
def from_json(cls: Type[C], path: str, **kwargs) -> C
```

Loads the config from a json file.

**Arguments**:

- `path` - The path to load the config from.
- `**kwargs` - Additional keyword arguments used to override the default config.
  

**Returns**:

  An instance of the PrecompiledConfig class.

#### to\_dict

```python
def to_dict() -> Dict
```

Converts the config to a dictionary.

#### to\_json

```python
def to_json() -> str
```

Converts the config to a json string.

## PrecompiledProgram

```python
class PrecompiledProgram(dspy.Module)
```

Bases: `dspy.Module`

PrecompiledProgram supports observability tracking through DSPy callbacks.

#### forward

```python
def forward(**kwargs) -> str
```

Forward pass for the program.

**Arguments**:

- `**kwargs` - Additional keyword arguments.
  

**Returns**:

  Forward pass result.

#### save\_precompiled

```python
def save_precompiled(path: str, _with_auto_classes: bool = False) -> None
```

Saves the program.json and the config.json to the given local folder.

**Arguments**:

- `path` - The local folder to save the program and config to. Must be a local path.
- `_with_auto_classes` - Internally used argument used to configure whether to save the auto classes mapping.

#### from\_precompiled

```python
@classmethod
def from_precompiled(cls: Type[A],
                     path: str | Path,
                     config: Optional[PrecompiledConfig | dict] = None,
                     api_key: Optional[str | dict[str, str]] = None,
                     hf_token: Optional[str | dict[str, str]] = None,
                     rev: str = "main",
                     **kwargs) -> A
```

Loads the program and the config from the given path.

**Arguments**:

- `path` - The path to load the program and config from. Can be a local path or a path on Modaic Hub.
- `config` - A dictionary containg key-value pairs used to override the default config.
- `api_key` - Your API key.
- `hf_token` - Your Hugging Face token.
- `**kwargs` - Additional keyword arguments forwarded to the PrecompiledProgram's constructor.
  

**Returns**:

  An instance of the PrecompiledProgram class.

#### push\_to\_hub

```python
def push_to_hub(repo_path: str,
                access_token: Optional[str] = None,
                commit_message: str = "(no commit message)",
                with_code: Optional[bool] = None,
                private: bool = False,
                branch: str = "main",
                tag: str = None) -> Commit
```

Pushes the program and the config to the given repo_path.

**Arguments**:

- `repo_path` - The path on Modaic hub to save the program and config to.
- `access_token` - Your Modaic access token.
- `commit_message` - The commit message to use when pushing to the hub.
- `with_code` - Whether to save the code along with the program.json and config.json.
  - Defaults to True if the Program was loaded via AutoProgram, otherwise defaults to False

## Retriever

```python
class Retriever(ABC, Trackable)
```

#### from\_precompiled

```python
@classmethod
def from_precompiled(cls: Type[R],
                     path: str | Path,
                     config: Optional[dict] = None,
                     rev: str = "main",
                     **kwargs) -> R
```

Loads the retriever and the config from the given path.

#### save\_precompiled

```python
def save_precompiled(path: str | Path,
                     _with_auto_classes: bool = False) -> None
```

Saves the retriever configuration to the given path.

**Arguments**:

- `path` - The path to save the retriever configuration and auto classes mapping.
- `_with_auto_classes` - Internal argument used to configure whether to save the auto classes mapping.

#### push\_to\_hub

```python
def push_to_hub(repo_path: str,
                access_token: Optional[str] = None,
                commit_message: str = "(no commit message)",
                with_code: Optional[bool] = None,
                branch: str = "main",
                tag: str = None) -> Commit
```

Pushes the retriever and the config to the given repo_path.

**Arguments**:

- `repo_path` - The path on Modaic hub to save the DSPy programand config to.
- `access_token` - Your Modaic access token.
- `commit_message` - The commit message to use when pushing to the hub.
- `with_code` - Whether to save the code along with the retriever.json and config.json.
  - Defaults to True if the Retriever was loaded via AutoRetriever, otherwise defaults to False

#### \_\_getattr\_\_

```python
def __getattr__(name: str)
```

Handle deprecated imports with warnings.

