Metadata-Version: 2.4
Name: jasper-finance
Version: 1.0.1
Summary: Terminal-native autonomous financial research agent with deterministic planning and validation gating.
Author-email: ApexYash <apex@example.com>
License: MIT
Project-URL: Homepage, https://github.com/ApexYash11/jasper
Project-URL: Issues, https://github.com/ApexYash11/jasper/issues
Project-URL: Repository, https://github.com/ApexYash11/jasper
Keywords: finance,agent,research,autonomous,cli
Classifier: Development Status :: 5 - Production/Stable
Classifier: Environment :: Console
Classifier: Intended Audience :: Financial and Insurance Industry
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Office/Business :: Financial
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: typer[all]==0.9.0
Requires-Dist: click<9.0.0,>=8.0.0
Requires-Dist: rich==13.0.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: langchain-core>=0.1.0
Requires-Dist: langchain-openai>=0.1.0
Requires-Dist: openai>=1.0.0
Requires-Dist: httpx>=0.24.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: yfinance>=0.2.0
Requires-Dist: jinja2>=3.1.0
Requires-Dist: weasyprint>=60.0
Requires-Dist: xhtml2pdf>=0.2.15
Requires-Dist: markdown-it-py>=3.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0; extra == "dev"
Dynamic: license-file

ï»¿# Jasper Finance

> **The terminal-native autonomous financial research agent.**  
> Deterministic planning. Tool-grounded data. Validation gating. Human-trustworthy answers.

[![PyPI](https://img.shields.io/pypi/v/jasper-finance.svg)](https://pypi.org/project/jasper-finance/)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![MIT License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![GitHub Stars](https://img.shields.io/github/stars/ApexYash11/jasper.svg)](https://github.com/ApexYash11/jasper)

---

## ğŸ¯ Why Jasper?

Financial AI is often unreliable. Most tools produce confident-sounding answers that are frequently backed by hallucinations or missing data. **Jasper takes a different approach: it treats every question as a mission.**

Instead of just "chatting," Jasper follows a rigorous 4-stage pipeline:
1. **Plan** â†’ Decomposes your question into structured research tasks.
2. **Execute** â†’ Fetches real-time data from authoritative APIs (Alpha Vantage, yfinance).
3. **Validate** â†’ Analyzes data completeness and financial logic.
4. **Synthesize** â†’ Generates a report **only if validation passes**.

**If validation fails, Jasper stops. No hallucinations. Confidence = 0.**

---

## âœ¨ Key Features

- ğŸ§  **Autonomous Planning**: Automatically breaks down complex questions (e.g., "Compare Apple and Microsoft's R&D spend vs Revenue") into executable sub-tasks.
- âš™ï¸ **Tool-Grounded Data**: Direct integration with [Alpha Vantage](https://www.alphavantage.co/) and [yfinance](https://github.com/ranaroussi/yfinance).
- âœ… **Validation Gate**: A "Mission Control" that blocks synthesis if data is missing or inconsistent.
- ğŸ“Š **Confidence Scoring**: Transparent breakdown of data coverage, data quality, and inference strength.
- ğŸ’¬ **Interactive REPL**: A professional CLI environment for iterative research.
- ğŸ¨ **Rich Terminal UI**: Live progress boards, tree views, and structured reports.
- ğŸ“„ **PDF Export**: Generate professional financial research reports and export as PDFs.

---

## ğŸš€ Installation

### Option 1: Pre-Built Executable (Recommended) â­

**No Python needed. Everything bundled including PDF renderer.**

**Windows:**
```powershell
# Build locally:
git clone https://github.com/ApexYash11/jasper.git
cd jasper
.\scripts\build.ps1
.\dist\jasper\jasper.exe interactive
```

**Linux/macOS:**
```bash
git clone https://github.com/ApexYash11/jasper.git
cd jasper
chmod +x scripts/build.sh && ./scripts/build.sh
./dist/jasper/jasper interactive
```

### Option 2: Docker (Production)

```bash
docker build -t jasper-finance:1.0.0 .
docker run -it jasper-finance:1.0.0 interactive
```

### Option 3: Python pip

```bash
pip install jasper-finance
jasper interactive
```

---

## ğŸ› ï¸ Setup (2 Minutes)

### Step 1: Get API Keys
You need **two free API keys**:

| API | Purpose | Get Key |
|-----|---------|---------|
| **OpenRouter** | LLM synthesis & planning | [openrouter.ai/keys](https://openrouter.ai/keys) |
| **Alpha Vantage** | Financial data (statements) | [alphavantage.co/support](https://www.alphavantage.co/support/#api-key) *(free)* |

### Step 2: Configure Environment
Create a `.env` file in your working directory:

```bash
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxx
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-key
```

**Or** export in your terminal:
```bash
# macOS/Linux
export OPENROUTER_API_KEY="sk-or-v1-xxxxxxxxxxxxx"
export ALPHA_VANTAGE_API_KEY="your-key"

# Windows PowerShell
$env:OPENROUTER_API_KEY="sk-or-v1-xxxxxxxxxxxxx"
$env:ALPHA_VANTAGE_API_KEY="your-key"
```

### Step 3: Verify Setup
```bash
jasper doctor
```

Expected output:
```
âœ… OPENROUTER_API_KEY is set
âœ… ALPHA_VANTAGE_API_KEY is set
âœ… Python 3.9+ installed
âœ… All dependencies available
```

---

## ğŸ“– Quick Start

### Single Query (One-off Research)
```bash
jasper ask "What is Nvidia's revenue trend over the last 3 years?"
```

Output:
```
MISSION CONTROL
[PLANNING] Breaking down your question...
[EXECUTING] Fetching financial data...
[VALIDATING] Checking data integrity...
[SYNTHESIZING] Generating report...

INTELLIGENCE MEMO
Nvidia Revenue Analysis 2022-2024
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[Report content...]
```

### Interactive Mode (Multiple Queries)
```bash
jasper interactive
```

You'll see:
```
Interactive Mode. Type 'exit' to quit.

? Enter Financial Query: Analyze Tesla's operating margins.
[Jasper processes your query...]

? Enter Financial Query: Compare Ford vs GM revenue growth.
[Next query...]
```

---

## ğŸ—ï¸ How It Works (Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    YOUR QUESTION                         â”‚
â”‚          "What is Apple's revenue trend?"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   1ï¸âƒ£ PLANNER AGENT     â”‚
        â”‚  Breaks down question   â”‚
        â”‚  into research tasks    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ 2ï¸âƒ£ EXECUTION ENGINE    â”‚
        â”‚  Fetches real data      â”‚
        â”‚  - Alpha Vantage        â”‚
        â”‚  - yfinance             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ 3ï¸âƒ£ VALIDATION GATE     â”‚
        â”‚  Checks data quality    â”‚
        â”‚  & completeness         â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚           â”‚
          âœ… PASS    âŒ FAIL
             â”‚           â”‚
             â–¼           â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Research Failed
      â”‚ 4ï¸âƒ£ SYNTHESIZEâ”‚  (Confidence = 0)
      â”‚   Report    â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   FINAL REPORT      â”‚
    â”‚  + Confidence Score â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Agents:**
- **Planner**: Decomposes questions â†’ creates task list
- **Executor**: Runs tasks â†’ fetches from APIs
- **Validator**: Verifies completeness â†’ blocks bad synthesis
- **Synthesizer**: Writes professional report

---

## ğŸ’¡ Real Examples

### Example 1: Single Query
```bash
$ jasper ask "What is Apple's revenue trend over the last 3 years?"

MISSION CONTROL
[EXECUTING] Fetching live market data...
â””â”€â”€ RESEARCH PLAN
    â”œâ”€â”€ âœ” Fetch income statement for AAPL
    â”œâ”€â”€ âœ” Calculate YoY growth percentages
    â””â”€â”€ âœ” Validate data consistency

INTELLIGENCE MEMO
Apple Inc. Revenue Analysis
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- 2022: $394.3B
- 2023: $383.3B (-2.8%)
- 2024: $391.0B (+1.9%)

Overall Confidence: 95%
Data Coverage: 100%
```

### Example 2: Failed Research (By Design)
```bash
$ jasper ask "What is the revenue of a private company with no SEC filings?"

MISSION CONTROL
[VALIDATING] Verifying data integrity...

Research Failed

Validation Issues:
  - No financial data available for private companies
  - SEC filings required (Alpha Vantage provides only public data)

Overall Confidence: 0%
```
This is **intentional**. No hallucinations.

---

## ğŸ”§ All Commands

| Command | What It Does |
|---------|------------|
| `jasper ask "question"` | Execute a single research mission |
| `jasper interactive` | Enter multi-query mode |
| `jasper export <query>` | Generate research and export as PDF report |
| `jasper doctor` | Verify API keys and setup |
| `jasper version` | Show installed version |
| `jasper --help` | View all commands |

---

## â“ Troubleshooting

**Problem**: `"Research Failed"`  
**Solution**: This is by design. Check the validation issues output. Usually means data is incomplete or ticker doesn't exist.

**Problem**: `API Rate Limit Hit`  
**Solution**: Using free Alpha Vantage key? Limit is ~5 calls/min. Wait a moment or upgrade your key.

**Problem**: `OPENROUTER_API_KEY not set`  
**Solution**: 
```bash
echo $OPENROUTER_API_KEY  # Check if set
export OPENROUTER_API_KEY="sk-or-v1-xxxxx"  # Set it
jasper doctor  # Verify
```

**Problem**: `Ticker not found`  
**Solution**: Verify the ticker symbol is correct (AAPL, not APPLE). For international stocks, use `.NS` or `.BSE` suffix.

---

## âš–ï¸ License

Jasper Finance is released under the **MIT License** (2026, ApexYash).

### What MIT Means
- âœ… **Commercial Use**: Yes, you can use this commercially.
- âœ… **Modification**: Yes, you can modify the code.
- âœ… **Distribution**: Yes, you can redistribute.
- âœ… **Private Use**: Yes, use for private projects.
- âš ï¸ **Warranty**: None. No liability for damages.

See [LICENSE](LICENSE) for full legal text.

---

## ğŸ”— Links

| What | Link |
|------|------|
| ğŸ“¦ **PyPI Package** | [pypi.org/project/jasper-finance/](https://pypi.org/project/jasper-finance/) |
| ğŸ’» **GitHub Source** | [github.com/ApexYash11/jasper](https://github.com/ApexYash11/jasper) |
| ğŸ› **Report Issues** | [github.com/ApexYash11/jasper/issues](https://github.com/ApexYash11/jasper/issues) |
| ğŸ“Š **Data: Alpha Vantage** | [alphavantage.co](https://www.alphavantage.co/) |
| ğŸ“ˆ **Data: yfinance** | [github.com/ranaroussi/yfinance](https://github.com/ranaroussi/yfinance) |
| ğŸ¤– **LLM: OpenRouter** | [openrouter.ai](https://openrouter.ai/) |

---

**Built by analysts, for analysts. Stop guessing. Start researching. Jasper Finance v1.0.0**
