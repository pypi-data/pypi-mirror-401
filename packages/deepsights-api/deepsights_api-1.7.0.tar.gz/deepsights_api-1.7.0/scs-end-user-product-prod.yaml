openapi: 3.0.1
info:
  title: Secondary Content API - End User client [prod]
  version: 0.1.0-SNAPSHOT
servers:
  - url: https://apigee.mlsdevcloud.com/secondary-content/api
paths:
  /federated-ai-service/connectors/_search:
    post:
      operationId: searchAiConnectors
      summary: Search for AI connectors
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AiConnectorsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AiConnectorsSearchResponse'
      tags:
        - AiConnector
  /federated-ai-service/connectors/{connector_id}/reports/_generate:
    post:
      operationId: generateAiReport
      summary: Generate report by AI connector
      parameters:
        - name: connector_id
          in: path
          description: Connector identifier
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          example: 64de66af3f166c805e1ff196
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AiReportGenerateRequest'
      responses:
        '200':
          description: The report was successfully generated. However the report itself
            may contain nested non-technical errors indicating generation problems
            that have to be handled on the caller side
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AiReport'
      tags:
        - AiReport
  /federated-ai-service/subscriptions/_search:
    post:
      operationId: searchAiSubscriptions
      summary: Search for subscriptions
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AiSubscriptionsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AiSubscriptionsSearchResponse'
      tags:
        - AiSubscription
  /federated-search-service/connectors/_search:
    post:
      operationId: searchFederatedSearchConnectors
      summary: Search for Federated search connectors
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FederatedSearchConnectorsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchConnectorsSearchResponse'
      tags:
        - FederatedSearchConnector
  /federated-search-service/connectors/{id}/spaces:
    get:
      operationId: getFederatedSearchSpaces
      summary: Get all content spaces
      description: Get all content spaces
      parameters:
        - name: id
          in: path
          description: Connector identifier path variable
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 65f99e5df49b2ef5de4d623f
            pattern: ^[a-fA-F0-9]{24}$
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchSpaces'
      tags:
        - FederatedSearch
  /federated-search-service/connectors/{id}/spaces/{space_id}/_get-items-search-definition:
    get:
      operationId: getFederatedSearchItemsSearchDefinition
      summary: Get items search definition
      parameters:
        - name: id
          in: path
          description: Connector identifier path variable
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 65f99e5df49b2ef5de4d623f
            pattern: ^[a-fA-F0-9]{24}$
        - name: space_id
          in: path
          description: Space identifier path variable
          required: true
          schema:
            description: External identifier
            type: string
            example: quarterly_reports
            pattern: '[0-9A-Za-z_-]{1,100}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchItemsSearchDefinition'
        default:
          description: Unexpected error
      tags:
        - FederatedSearch
  /federated-search-service/connectors/{id}/spaces/{space_id}/item-filters/{filter_id}/filter-values/_search:
    post:
      operationId: searchFederatedSearchItemFilterValues
      summary: Search available item filter values
      parameters:
        - name: id
          in: path
          description: Connector identifier path variable
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 65f99e5df49b2ef5de4d623f
            pattern: ^[a-fA-F0-9]{24}$
        - name: space_id
          in: path
          description: Space identifier path variable
          required: true
          schema:
            description: External identifier
            type: string
            example: quarterly_reports
            pattern: '[0-9A-Za-z_-]{1,100}'
        - name: filter_id
          in: path
          description: Filter identifier path variable
          required: true
          schema:
            description: External identifier
            type: string
            example: quarterly_reports
            pattern: '[0-9A-Za-z_-]{1,100}'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FederatedSearchItemFilterValuesSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchItemFilterValuesSearchResponse'
      tags:
        - FederatedSearch
      x-codegen-request-body-name: request
  /federated-search-service/connectors/{id}/spaces/{space_id}/item-full-text/_get-by-item-id:
    post:
      operationId: getFederatedSearchItemFullTextById
      summary: Get item full text by ID. If full text length is above 500_000, it
        will be truncated to this size.
      description: Getting item full text by ID. If full text length is above 500_000,
        it will be truncated to this size.
      parameters:
        - name: id
          in: path
          description: Connector identifier path variable
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 65f99e5df49b2ef5de4d623f
            pattern: ^[a-fA-F0-9]{24}$
        - name: space_id
          in: path
          description: Space identifier path variable
          required: true
          schema:
            description: External identifier
            type: string
            example: quarterly_reports
            pattern: '[0-9A-Za-z_-]{1,100}'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FederatedSearchItemFullTextGetByIdRequest'
      responses:
        '200':
          description: Full text was successfully extracted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchItemFullTextGetByIdResponse'
        '403':
          description: Full text extraction is not allowed for items from this connector
        '404':
          description: Connector or space or item not found
        '500':
          description: Could not extract full text due to a failure
        default:
          description: Unexpected error
      tags:
        - FederatedSearch
      x-codegen-request-body-name: request
  /federated-search-service/connectors/{id}/spaces/{space_id}/item-query-suggestions/_search:
    post:
      operationId: searchFederatedSearchItemQuerySuggestions
      summary: Search suggestions for item search terms
      parameters:
        - name: id
          in: path
          description: Connector identifier path variable
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 65f99e5df49b2ef5de4d623f
            pattern: ^[a-fA-F0-9]{24}$
        - name: space_id
          in: path
          description: Space identifier path variable
          required: true
          schema:
            description: External identifier
            type: string
            example: quarterly_reports
            pattern: '[0-9A-Za-z_-]{1,100}'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FederatedSearchItemQuerySuggestionsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchItemQuerySuggestionsSearchResponse'
      tags:
        - FederatedSearch
      x-codegen-request-body-name: request
  /federated-search-service/connectors/{id}/spaces/{space_id}/items/_batch-get:
    post:
      operationId: getFederatedSearchItemsByIds
      summary: Getting items by IDs [partial]
      description: Getting items by IDs. If any item does not exist, fewer items than
        the requested item IDs will be returned
      parameters:
        - name: id
          in: path
          description: Connector identifier path variable
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 65f99e5df49b2ef5de4d623f
            pattern: ^[a-fA-F0-9]{24}$
        - name: space_id
          in: path
          description: Space identifier path variable
          required: true
          schema:
            description: External identifier
            type: string
            example: quarterly_reports
            pattern: '[0-9A-Za-z_-]{1,100}'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FederatedSearchItemsGetByIdsRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchItemsGetByIdsResponse'
      tags:
        - FederatedSearch
      x-codegen-request-body-name: request
  /federated-search-service/connectors/{id}/spaces/{space_id}/items/_search:
    post:
      operationId: searchFederatedSearchItems
      summary: Search items
      parameters:
        - name: id
          in: path
          description: Connector identifier path variable
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 65f99e5df49b2ef5de4d623f
            pattern: ^[a-fA-F0-9]{24}$
        - name: space_id
          in: path
          description: Space identifier path variable
          required: true
          schema:
            description: External identifier
            type: string
            example: quarterly_reports
            pattern: '[0-9A-Za-z_-]{1,100}'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FederatedSearchItemsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchItemsSearchResponse'
        '401':
          description: "Tenant has no account configured for accessing search connector\
            \ \nor the existing account is not valid.\n"
      tags:
        - FederatedSearch
      x-codegen-request-body-name: request
  /federated-search-service/subscriptions/_search:
    post:
      operationId: searchFederatedSearchSubscriptions
      summary: Search subscriptions
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FederatedSearchSubscriptionsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FederatedSearchSubscriptionsSearchResponse'
      tags:
        - FederatedSearchSubscription
      x-codegen-request-body-name: request
  /feed-service/feeds:
    post:
      operationId: createFeed
      summary: Create a feed
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeedCreateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feed'
        '409':
          description: Given id already exists
        '422':
          description: Validation failed
        '424':
          description: Service account does not have access to GCP topic to send a
            pubsub message
        default:
          description: Unexpected error
      tags:
        - Feed
      x-codegen-request-body-name: request
  /feed-service/feeds/_preview-items:
    post:
      operationId: previewFeedItems
      summary: Preview feed items
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeedCreateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FeedItemsPreviewResponse'
        '422':
          description: Validation failed
        default:
          description: Unexpected error
      tags:
        - Feed
      x-codegen-request-body-name: request
  /feed-service/feeds/_search:
    post:
      operationId: searchFeeds
      summary: Search feeds
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeedsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FeedsSearchResponse'
        default:
          description: Unexpected error
      tags:
        - Feed
      x-codegen-request-body-name: request
  /feed-service/feeds/{id}:
    delete:
      operationId: deleteFeed
      summary: Delete a feed
      parameters:
        - name: id
          in: path
          description: Feed identifier path parameter
          required: true
          schema:
            description: Customizable identifier (can be set on create or autogenerated)
            type: string
            example: 64cba62568e377fe8c87f255
            pattern: ^[a-zA-Z0-9_-]{2,100}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      responses:
        '200':
          description: OK
        '404':
          description: Feed not found
      tags:
        - Feed
    get:
      operationId: getFeed
      summary: Get a feed
      parameters:
        - name: id
          in: path
          description: Feed identifier path parameter
          required: true
          schema:
            description: Customizable identifier (can be set on create or autogenerated)
            type: string
            example: 64cba62568e377fe8c87f255
            pattern: ^[a-zA-Z0-9_-]{2,100}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feed'
        default:
          description: Unexpected error
      tags:
        - Feed
    patch:
      operationId: patchFeed
      summary: Patch a feed
      parameters:
        - name: id
          in: path
          description: Feed identifier path parameter
          required: true
          schema:
            description: Customizable identifier (can be set on create or autogenerated)
            type: string
            example: 64cba62568e377fe8c87f255
            pattern: ^[a-zA-Z0-9_-]{2,100}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeedPatchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feed'
        default:
          description: Unexpected error
      tags:
        - Feed
      x-codegen-request-body-name: request
  /feed-service/feeds/{id}/items/_search:
    post:
      operationId: searchFeedItems
      summary: Search feed items for a feed
      parameters:
        - name: id
          in: path
          description: Feed identifier path parameter
          required: true
          schema:
            description: Customizable identifier (can be set on create or autogenerated)
            type: string
            example: 64cba62568e377fe8c87f255
            pattern: ^[a-zA-Z0-9_-]{2,100}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeedItemsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FeedItemsSearchResponse'
        default:
          description: Unexpected error
      tags:
        - Feed
      x-codegen-request-body-name: request
  /feed-service/notification-channels:
    get:
      operationId: listNotificationChannels
      summary: List notification channels
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationChannelsListResponse'
        default:
          description: Unexpected error
      tags:
        - Notification Channel
    post:
      operationId: createNotificationChannel
      summary: Create a notification channel
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NotificationChannelCreateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationChannel'
        '409':
          description: Notification channel with the same properties already exists
        '422':
          description: Validation failed
        '424':
          description: Service account does not have access to GCP topic to send a
            pubsub message
        default:
          description: Unexpected error
      tags:
        - Notification Channel
      x-codegen-request-body-name: request
  /feed-service/notification-channels/{id}:
    delete:
      operationId: deleteNotificationChannel
      summary: Delete a notification channel
      parameters:
        - name: id
          in: path
          description: Notification channel identifier path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 64cba62568e377fe8c87f255
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      responses:
        '200':
          description: OK
        '404':
          description: Notification channel not found
      tags:
        - Notification Channel
    get:
      operationId: getNotificationChannel
      summary: Get a notification channel
      parameters:
        - name: id
          in: path
          description: Notification channel identifier path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            example: 64cba62568e377fe8c87f255
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationChannel'
        default:
          description: Unexpected error
      tags:
        - Notification Channel
  /item-service/item-filters:
    get:
      operationId: getItemFilters
      summary: Get item filters
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemFiltersResponse'
        default:
          description: Unexpected error
      tags:
        - ItemsSearch
      x-codegen-request-body-name: body
  /item-service/item-filters/{name}/filter-values/_text-search:
    post:
      operationId: textSearchItemFilterValues
      summary: Text search for item filter values
      parameters:
        - name: name
          in: path
          required: true
          schema:
            type: string
            enum:
              - source_ids
              - languages
              - countries
          allowEmptyValue: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemFilterValuesTextSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemFilterValuesTextSearchResponse'
        default:
          description: Unexpected error
      tags:
        - ItemsSearch
      x-codegen-request-body-name: body
  /item-service/items/_get-by-ids:
    post:
      operationId: getItemsByIds
      summary: Get items by IDs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemsGetByIdsRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemsGetByIdsResponse'
        default:
          description: Unexpected error
      tags:
        - Item
  /item-service/items/_hybrid-search:
    post:
      operationId: hybridSearchItems
      summary: Hybrid search for items
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemsHybridSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemsHybridSearchResponse'
        default:
          description: Unexpected error
      tags:
        - ItemsSearch
      x-codegen-request-body-name: body
  /item-service/items/_text-search:
    post:
      operationId: textSearchItems
      summary: Text search for items
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemsTextSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemsTextSearchResponse'
        default:
          description: Unexpected error
      tags:
        - ItemsSearch
      x-codegen-request-body-name: body
  /item-service/items/_vector-search:
    post:
      operationId: vectorSearchItems
      summary: Vector search for items
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemsVectorSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemsVectorSearchResponse'
        default:
          description: Unexpected error
      tags:
        - ItemsSearch
      x-codegen-request-body-name: body
  /item-service/items/{id}/_download-content-extracted-text:
    get:
      operationId: downloadItemExtractedTextOfContent
      summary: Download item full text
      parameters:
        - name: id
          in: path
          description: Item identifier path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      responses:
        '302':
          description: Redirect to a signed link that will be available for download
            within 15 minutes
        '404':
          description: No full text found for item with given id
        default:
          description: Unexpected error
      tags:
        - Item
      x-codegen-request-body-name: body
  /item-service/items/{id}/url:
    get:
      operationId: getItemUrl
      summary: Get the item's URL
      parameters:
        - name: id
          in: path
          description: Item identifier path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f255
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemUrl'
        '404':
          description: Item with given id not found
        default:
          description: Unexpected error
      tags:
        - Item
  /item-service/sources/_search:
    post:
      operationId: searchSources
      summary: Search for sources
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SourcesSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SourcesSearchResponse'
        default:
          description: Unexpected error
      tags:
        - Source
      x-codegen-request-body-name: body
  /item-service/subscriptions/_search:
    post:
      operationId: searchSubscriptions
      summary: Search for subscriptions by the given query
      description: Search for subscriptions by the given query
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubscriptionsSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionsSearchResponse'
      tags:
        - Subscription
      x-codegen-request-body-name: body
  /migration-service/items/_resolve-item-ids:
    post:
      operationId: resolveItemIds
      summary: "Technical endpoint to batch resolve SCS item_ids by ISS item_ids and\
        \ tenant_id, \nthis endpoint is used for feeds migration (MIP to SCS) purposes\
        \ \nand going to be deleted once migration is finished.\n"
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MigrationItemsResolveRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MigrationItemsResolveResponse'
        default:
          description: Unexpected error
      tags:
        - External Migration
      x-codegen-request-body-name: body
  /migration-service/providers/_resolve-source-ids:
    post:
      operationId: resolveSourceIds
      summary: "Technical endpoint to resolve SCS source_ids by ISS provider_id and\
        \ tenant_id, \nthis endpoint is used for feeds migration (MIP to SCS) purposes\
        \ \nand going to be deleted once migration is finished.\n"
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MigrationSourcesResolveRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MigrationSourcesResolveResponse'
        default:
          description: Unexpected error
      tags:
        - External Migration
      x-codegen-request-body-name: body
  /oauth/_generate-access-token:
    post:
      operationId: generateAccessToken
      summary: Generates a short-lived access token
      description: Generates a short-lived access token
      parameters:
        - name: user_id
          in: query
          description: User ID
          required: true
          schema:
            type: string
          allowEmptyValue: false
          example: 123124124
        - name: user_first_name
          in: query
          description: User First Name
          required: true
          schema:
            type: string
          allowEmptyValue: true
          example: John
        - name: user_last_name
          in: query
          description: User Last Name
          required: true
          schema:
            type: string
          allowEmptyValue: true
          example: Doe
        - name: user_email
          in: query
          description: User Email
          required: true
          schema:
            type: string
          allowEmptyValue: false
          example: john.doe@marketlogicsoftware.com
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAuthTokenGenerationRequest'
      responses:
        '200':
          description: Generated token response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuthTokenGenerationResponse'
      tags:
        - OAuth
  /static-resolver/api-key-attributes:
    get:
      operationId: resolveApiAttributes
      summary: Resolves attributes for a current api client
      description: Resolves attributes for a current api client
      responses:
        '200':
          description: Resolved api attributes
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKeyAttributes'
      tags:
        - StaticResolver
  /static-resolver/quota:
    get:
      operationId: resolveQuota
      summary: Resolves quota for a current api client
      description: Resolves quota for a current api client
      responses:
        '200':
          description: Resolved quota information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuotaInfo'
      tags:
        - StaticResolver
  /table-search-service/answer/_generate:
    post:
      operationId: generateAnswer
      summary: Generate an answer to a question based on provided table. If the table
        is not provided then it will be determined automatically
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AnswersGenerateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Answer'
        default:
          description: Unexpected error
      tags:
        - Answer
      x-codegen-request-body-name: body
  /table-search-service/answer/_search:
    post:
      operationId: searchAnswers
      summary: Search answers
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AnswersSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AnswersSearchResponse'
        default:
          description: Unexpected error
      tags:
        - Answer
      x-codegen-request-body-name: body
  /table-search-service/answer/{id}:
    get:
      operationId: getAnswer
      summary: Get answer
      parameters:
        - name: id
          in: path
          description: Answer ID path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f266
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Answer'
        '404':
          description: Answer not found
        default:
          description: Unexpected error
      tags:
        - Answer
      x-codegen-request-body-name: body
  /table-search-service/answer/{id}/_dislike:
    post:
      operationId: dislikeAnswer
      summary: Dislikes the answer
      description: Increments dislikes counter for the given answer by one. If called
        again then decrements it back.
      parameters:
        - name: id
          in: path
          description: Answer ID path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f266
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AnswerFeedbackRequest'
      responses:
        '200':
          description: Answer feedback summary
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AnswerFeedbackSummary'
      tags:
        - Answer
      x-codegen-request-body-name: body
  /table-search-service/answer/{id}/_like:
    post:
      operationId: likeAnswer
      summary: Likes the answer
      description: Increments likes counter for the given answer by one. If called
        again then decrements it back.
      parameters:
        - name: id
          in: path
          description: Answer ID path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f266
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AnswerFeedbackRequest'
      responses:
        '200':
          description: Answer feedback summary
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AnswerFeedbackSummary'
      tags:
        - Answer
      x-codegen-request-body-name: body
  /table-search-service/answer/{id}/prompts/_download:
    post:
      operationId: downloadPrompt
      summary: Download a prompt
      parameters:
        - name: id
          in: path
          description: Answer ID path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f266
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromptDownloadRequest'
      responses:
        '307':
          description: Redirect to a signed link that will be available for download
            within 10 seconds
        '404':
          description: Prompt not found
        default:
          description: Unexpected error
      tags:
        - Answer
      x-codegen-request-body-name: request
  /table-search-service/answer/{id}/steps:
    get:
      operationId: getAnswerSteps
      summary: Get answer steps
      parameters:
        - name: id
          in: path
          description: Answer ID path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f266
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AnswerStepsGetResponse'
        '404':
          description: Answer not found
        default:
          description: Unexpected error
      tags:
        - Answer
  /table-search-service/table/_search:
    post:
      operationId: searchTables
      summary: Search tables
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TablesSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TablesSearchResponse'
        default:
          description: Unexpected error
      tags:
        - Table
      x-codegen-request-body-name: body
  /table-search-service/table/{id}:
    get:
      operationId: getTable
      summary: Get table
      parameters:
        - name: id
          in: path
          description: Table ID path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f266
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Table'
        '404':
          description: Table not found
      tags:
        - Table
  /table-search-service/table/{id}/metadata:
    get:
      operationId: getTableMetadata
      summary: Get table metadata
      parameters:
        - name: id
          in: path
          description: Table ID path parameter
          required: true
          schema:
            description: Internal identifier
            type: string
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
          example: 64cba62568e377fe8c87f266
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TableMetadata'
        '404':
          description: Table metadata not found
      tags:
        - Table Metadata
  /voc-service/answer/_generate:
    post:
      operationId: generateAnswer
      summary: Generate an answer to a question
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VocAnswerGenerateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VocAnswer'
        default:
          description: Unexpected error
      tags:
        - Answer
      x-codegen-request-body-name: body
  /voc-service/answer/{id}:
    get:
      operationId: getAnswerById
      summary: Get answer by its identifier
      parameters:
        - name: id
          in: path
          required: true
          schema:
            description: Unique internal identifier of an entity
            type: string
            example: 666ff5b0a1b0a4194008b72a
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VocAnswer'
        '404':
          description: Answer not found
        default:
          description: Unexpected error
      tags:
        - Answer
      x-codegen-request-body-name: body
  /voc-service/answer/{id}/_dislike:
    post:
      operationId: dislikeAnswer
      summary: Dislikes the answer
      description: Increments dislikes counter for the given answer by one. If called
        again then decrements it back.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            description: Unique internal identifier of an entity
            type: string
            example: 666ff5b0a1b0a4194008b72a
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VocAnswerFeedbackRequest'
      responses:
        '200':
          description: Answer feedback summary
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VocAnswerFeedbackSummary'
      tags:
        - Answer
      x-codegen-request-body-name: body
  /voc-service/answer/{id}/_like:
    post:
      operationId: likeAnswer
      summary: Likes the answer
      description: Increments likes counter for the given answer by one. If called
        again then decrements it back.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            description: Unique internal identifier of an entity
            type: string
            example: 666ff5b0a1b0a4194008b72a
            pattern: ^[a-fA-F0-9]{24}$
          allowEmptyValue: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VocAnswerFeedbackRequest'
      responses:
        '200':
          description: Answer feedback summary
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VocAnswerFeedbackSummary'
      tags:
        - Answer
      x-codegen-request-body-name: body
  /voc-service/sessions/_vector-search:
    post:
      operationId: sessionVectorSearch
      summary: 'Search sessions with a semantic query. Returned sessions contain utterances
        that are most

        relevant to the query.

        '
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VocSessionVectorSearchRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VocSessionVectorSearchResponse'
        default:
          description: Unexpected error
      tags:
        - SessionSearch
      x-codegen-request-body-name: body
components:
  schemas:
    AccessRestriction:
      description: Manages access to the resource
      type: object
      properties:
        user_groups:
          description: User groups having access to the resource
          type: array
          items:
            type: string
          maxItems: 100
          minItems: 1
        users:
          description: Users having access to the resource
          type: array
          items:
            type: string
          maxItems: 100
          minItems: 1
    AiConnector:
      description: AI connector
      type: object
      properties:
        auth_method:
          $ref: '#/components/schemas/AiConnectorAuthMethod'
        description:
          description: Description
          type: string
          example: NextAtlas connector
        display_name:
          description: Display name
          type: string
          example: NextAtlas
        id:
          $ref: '#/components/schemas/Id'
        image_url:
          description: Image URL
          type: string
          example: https://storage.googleapis.com/logos/NextAtlas.png
        secret_id:
          description: Identifier of the secret created in Google Secret Manager
          type: string
          example: nextatlas-ai-connector-secret
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated
          type: string
          example: language-detection-step
        url:
          description: URL of service
          type: string
          example: https://nextatlas-abc.cloudrun.gcp.com
      required:
        - auth_method
        - display_name
        - id
        - system_created_at
        - system_updated_at
        - url
    AiConnectorAuthMethod:
      description: Authentication method for accessing the AI connector
      type: string
      enum:
        - API_KEY
        - DEFAULT_GCP_OAUTH
    AiConnectorsSearchRequest:
      description: Request to search for AI connectors
      type: object
      properties:
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
    AiConnectorsSearchResponse:
      description: Response to search for AI connectors
      type: object
      properties:
        connectors:
          description: Found connectors
          type: array
          items:
            $ref: '#/components/schemas/AiConnector'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - connectors
        - total
    AiReport:
      description: Response to generate a report on query
      type: object
      properties:
        error:
          $ref: '#/components/schemas/AiReportGenerationError'
        id:
          description: Report identifier
          type: string
          example: Slz1JCyISjzcDE-Kt_3ku
        sources:
          type: array
          items:
            $ref: '#/components/schemas/AiSource'
        summary:
          description: Summary on query
          type: string
          example: Mark Twain "The Adventures of Tom Sawyer"
        url:
          description: URL to access the generated report
          type: string
          example: https://app.nextatlas.com/nexttrend/generate/Slz1JCyISjzcDE-Kt_3ku
    AiReportGenerateRequest:
      description: Request to generate a report on query
      type: object
      properties:
        query:
          description: Question query
          example: What was a bestseller in 2023?
          maxLength: 512
          minLength: 1
          type: string
      required:
        - query
    AiReportGenerationError:
      description: If present, indicates report generation problems
      type: object
      properties:
        code:
          description: The error code
          type: string
          enum:
            - NOT_ENOUGH_FINDINGS
            - USER_HAS_NO_ACCESS
            - INTERNAL_ERROR
            - TENANT_HAS_NO_ACCESS
        message:
          description: The error message
          type: string
          example: Sorry, I couldn't find enough relevant information to answer your
            question.
      required:
        - message
    AiSource:
      description: An external source (blog, article etc)
      type: object
      properties:
        title:
          description: Source title
          type: string
          example: The Project Gutenberg eBook of The Adventures of Tom Sawyer, by
            Mark Twain
        url:
          description: Source url
          type: string
          example: https://www.gutenberg.org/files/74/74-h/74-h.htm
    AiSubscription:
      description: Subscription on AI connector
      type: object
      properties:
        connector_id:
          $ref: '#/components/schemas/Id'
        external_id:
          description: Subscription identifier in AI connector
          type: string
          example: tenant-nextatlas-subscription-1
        id:
          $ref: '#/components/schemas/Id'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
      required:
        - id
        - system_created_at
    AiSubscriptionsSearchRequest:
      description: Request to search for subscriptions
      type: object
      properties:
        connector_ids:
          type: array
          items:
            $ref: '#/components/schemas/Id'
          minItems: 1
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
    AiSubscriptionsSearchResponse:
      description: Response to search for subscriptions
      type: object
      properties:
        subscriptions:
          type: array
          items:
            $ref: '#/components/schemas/AiSubscription'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - subscriptions
        - total
    AlternativeQuestionsDeterminationStep:
      description: Determination of alternative questions. Executes only for big test
        and if answer can't be generated
      type: object
      properties:
        alternative_questions:
          description: Alternative questions
          type: array
          items:
            type: string
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    AmbiguousFiltersAnalysisStep:
      description: Analysis of ambiguous filters values and generating alternative
        questions. Executes only for big test
      type: object
      properties:
        alternative_questions:
          description: Alternative questions
          type: array
          items:
            type: string
        alternative_questions_prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        sql_filters_prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    Answer:
      description: Answer to query or error
      type: object
      properties:
        answer:
          description: Answer to query based on table data analytics
          type: string
          example: Switzerland has the highest salaries
        answer_generated_at:
          description: Answer generation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        error_message:
          description: Error message
          type: string
          example: Sorry, I couldn't find relevant information to answer your question
        failed_post_processing_steps:
          type: array
          items:
            $ref: '#/components/schemas/StepType'
        failed_step_type:
          $ref: '#/components/schemas/StepType'
        feedback_summary:
          $ref: '#/components/schemas/AnswerFeedbackSummary'
        id:
          $ref: '#/components/schemas/Id'
        post_processing_finished_at:
          description: Answer post processing finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        post_processing_started_at:
          description: Answer post processing start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        prompt:
          description: "Prompt for OpenAI that was used for generating an SQL query\
            \ \nfor retrieving the data for answering the question.\n"
          type: string
        query_explanation:
          description: Generated by OpenAI SQL query explanation in human-readable
            format
          type: string
          example: "Retrieve the product, color, and stock from the table where the\
            \ color \nis either Black or White and the stock is greater than 10.\n"
        question:
          description: Question to a table from a user
          type: string
          example: Country with highest salaries?
        sql_count_query:
          description: Generated by OpenAI SQL query to count data from BigQuery table
          type: string
          example: SELECT COUNT(*) FROM Test_BigQuery...
        sql_query:
          description: Generated by OpenAI SQL query to retrieve data from BigQuery
            table
          type: string
          example: SELECT product, MAX(cogs) AS highest_cogs FROM Test_BigQuery...
            LIMIT 10
        sql_query_result_csv:
          description: "Data that has been retrieved by running generated SQL query\
            \ \nupon the BigQuery table (in csv format)\n"
          type: string
          example: Galaxy S3;999;\niPhone;100500;
        sql_query_result_header_csv:
          description: 'Column names that were extracted from SQL query result (in
            csv format).

            This field could be null in case if we couldn''t extract names from the
            SQL query resul.

            '
          type: string
          example: smartphone_model;price_in_usd;
        sql_query_result_header_human_readable_csv:
          description: 'AI-generated column names that were constructed after SQL
            and result data analysis (in csv format)

            '
          type: string
          example: Smartphone model;Price in USD;
        sql_query_result_limit:
          description: Maximum rows that can be retrieved by running generated SQL
            query (SQL LIMIT)
          type: integer
          format: int32
        sql_query_result_markdown:
          description: Combined header and data rows in a markdown table format
          type: string
        sql_query_result_rows_count:
          description: Result rows count that were retrieved by running generated
            SQL query
          type: integer
          format: int32
        sql_query_result_total_rows_count:
          description: How many rows would be retrieved by running generated SQL query
            without LIMIT
          type: integer
          format: int64
        sql_query_thinking:
          description: Thinking logic that model used for generating sql_query if
            thinking was enabled
          type: string
        status:
          $ref: '#/components/schemas/AnswerStatus'
        successful_post_processing_steps:
          type: array
          items:
            $ref: '#/components/schemas/StepType'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_finished_at:
          description: System finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        table_description:
          description: Description of the table and its data that is provided by creator
          type: string
          example: Statistics for jobs and salaries by years
        table_display_name:
          description: Display name of the table (shown on UI)
          type: string
          example: SFDC Funnel Full
        table_id:
          $ref: '#/components/schemas/Id'
        table_source_url:
          description: URL to original data provided by source
          type: string
        table_system_updated_at:
          description: Table system update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-20T18:05:10+02:00'
        table_system_updated_by:
          description: Who updated
          type: string
          example: rss-feed-importer
        tenant_id:
          $ref: '#/components/schemas/TenantId'
    AnswerFeedbackRequest:
      description: Answer feedback request
      type: object
      properties:
        comment:
          description: Comment message
          type: string
          example: The answer is exactly what I was looking for.
          maxLength: 5000
          minLength: 1
    AnswerFeedbackSummary:
      type: object
      properties:
        disliked_by_current_user:
          description: True if the answer is disliked by the current user
          type: boolean
          example: false
        liked_by_current_user:
          description: True if the answer is liked by the current user
          type: boolean
          example: true
        total_dislikes:
          description: Total dislikes count
          type: integer
          format: int32
          example: 2
        total_likes:
          description: Total likes count
          type: integer
          format: int32
          example: 25
    AnswerGenerationStep:
      description: Answer generation
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    AnswerRatingDeterminationStep:
      description: Answer post-analysis and rating determination
      type: object
      properties:
        answer_rating:
          type: integer
          format: int32
          maximum: 10
          minimum: 0
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    AnswerStatus:
      description: 'Answer status:

        - CREATED: answer is created but not processed yet

        - PROCESSING: answer is being processed now

        - STOPPED: answer processing was stopped because no enabled tables found for
        the current tenant

        - POSTPROCESSING: answer main processing is done, post-processing steps are
        running now

        - UNANSWERED: answer processing is done but no answer could be generated (e.g.
        no relevant data in the table)

        - FINISHED: answer processing is done and answer is generated

        - FAILED: answer processing failed due to a technical reason

        '
      type: string
      enum:
        - CREATED
        - PROCESSING
        - STOPPED
        - POSTPROCESSING
        - UNANSWERED
        - FINISHED
        - FAILED
    AnswerStepStatus:
      description: Answer Step status
      type: string
      enum:
        - CREATED
        - PROCESSING
        - FINISHED
        - FAILED
    AnswerStepsGetResponse:
      description: Get answer steps response
      type: object
      properties:
        alternative_questions_determination:
          $ref: '#/components/schemas/AlternativeQuestionsDeterminationStep'
        ambiguous_filters_analysis:
          $ref: '#/components/schemas/AmbiguousFiltersAnalysisStep'
        answer_generation:
          $ref: '#/components/schemas/AnswerGenerationStep'
        answer_rating_determination:
          $ref: '#/components/schemas/AnswerRatingDeterminationStep'
        column_names_formatting:
          $ref: '#/components/schemas/ColumnNamesFormattingStep'
        sql_query_determination:
          $ref: '#/components/schemas/SqlQueryDeterminationStep'
        sql_query_execution:
          $ref: '#/components/schemas/SqlQueryExecutionStep'
        sql_query_explanation:
          $ref: '#/components/schemas/SqlQueryExplanationStep'
        sql_query_prompt_compilation:
          $ref: '#/components/schemas/SqlQueryPromptCompilationStep'
        sql_query_validation:
          $ref: '#/components/schemas/SqlQueryValidationStep'
        table_determination:
          $ref: '#/components/schemas/TableDeterminationStep'
    AnswersGenerateRequest:
      description: Table data and question
      type: object
      properties:
        ai_model:
          description: 'AI model to use for prompts (except sql query determination
            prompt).

            Possible values: claude-3-7-sonnet, gemini-2-5-flash, gemini-2-5-pro.

            Full list of supported models can be seen in vectorization-service-api

            '
          type: string
        ai_model_for_sql_query_determination:
          description: 'AI model to use for sql query determination prompt.

            Possible values: claude-3-7-sonnet, gemini-2-5-flash, gemini-2-5-pro.

            Full list of supported models can be seen in vectorization-service-api

            '
          type: string
        ai_model_for_table_determination:
          description: 'AI model to use for table selection prompt.

            Possible values: claude-3-7-sonnet, gemini-2-5-flash, gemini-2-5-pro.

            Full list of supported models can be seen in vectorization-service-api

            '
          type: string
        ai_model_thinking_tokens:
          description: Model thinking budget in tokens. If value is 0 or not present
            then thinking is disabled
          type: integer
          format: int32
          default: 0
          maximum: 30000
          minimum: 0
        async:
          description: 'Whether to generate answer in either asynchronous or synchronous
            mode. If value is not present, asynchronous

            mode is used by default

            * `true` - Use asynchronous mode, operation returns response with answer''s
            identifier right away, answer

            processing status should be tracked by polling `/answer/{id}`

            * `false` - Use synchronous mode, operation returns response after answer
            processing is completed

            '
          type: boolean
          default: true
        question:
          description: Question to a table
          type: string
          example: What country has highest salaries?
        table_id:
          $ref: '#/components/schemas/Id'
      required:
        - question
    AnswersSearchRequest:
      description: Search answers request
      type: object
      properties:
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
        table_id:
          $ref: '#/components/schemas/Id'
    AnswersSearchResponse:
      description: Search answers response
      type: object
      properties:
        answers:
          description: Found answers
          type: array
          items:
            $ref: '#/components/schemas/Answer'
          minItems: 0
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - answers
        - total
    ApiKeyAttributes:
      type: object
      properties:
        app_id:
          description: Tenant App
          type: string
          example: some-tenant-b2b-client-app
        product_name:
          description: Apigee Product Name
          type: string
          example: SOME-PRODUCT
        quota_limit:
          description: Tenant App Quota Limit
          type: integer
          example: 86400
        tenant_id:
          description: Tenant Id
          type: string
          example: some-tenant
        user_id:
          description: User Id
          type: string
          example: 4d0fcfd7-d6eb-4335-8900-3baba6a5075f
    BigQueryColumn:
      description: Table column name and SQL type
      type: object
      properties:
        description:
          description: Column description that is taken from the second row of the
            table
          type: string
          example: Survey number
        max_value:
          description: A string representation of the maximum value contained in the
            column
          type: string
        min_value:
          description: A string representation of the minimum value contained in the
            column
          type: string
        name:
          description: Column name that is taken from the first row of the table
          type: string
          example: sr_number
        refined_description:
          description: A refined version of the original column description
          type: string
          example: Survey number refined
        sql_type:
          description: BigQuery SQL column type (see StandardSQLTypeName enum for
            values)
          type: string
          example: DATETIME
        total_values:
          description: A total number of distinct values of the column
          type: integer
          format: int64
        values:
          description: A list of distinct values of the column
          type: array
          items:
            $ref: '#/components/schemas/StringValue'
    BigQueryTable:
      description: Table in BigQuery
      type: object
      properties:
        dataset_id:
          description: BigQuery dataset ID, usually same as tenant ID but with underscores
            instead of dashes
          type: string
          example: Test_Dataset
        project_id:
          description: GCP Project ID
          type: string
          example: secondary-content-store-test
        table_id:
          description: BigQuery table ID
          type: string
          example: 8af283898df83adc018df8a43ff5002a
    ColumnNamesFormattingStep:
      description: Human-readable column names generation step
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    Content:
      description: Content metadata
      type: object
      properties:
        extractedTextUrl:
          description: Text content URL
          type: string
          example: https://storage.cloud.google.com/ingest/00000000-0000-0000-0000-000000000000.txt
          pattern: ^(https?:\/\/|\/).{4,2048}$
        extracted_text_source:
          $ref: '#/components/schemas/ExtractedTextSource'
        hashes:
          description: Hashes of the content
          type: object
          example:
            crc32c: jEcTOQ==
            md5: JKcLis1U3Enmop4f68HCyA==
          additionalProperties:
            type: string
        length:
          description: Length of the binary content in bytes
          type: integer
          format: int64
          example: 512000
        mime_type:
          description: Content type of the binary content
          type: string
          example: application/pdf
        url:
          description: Content URL
          type: string
          example: https://storage.cloud.google.com/ingest/00000000-0000-0000-0000-000000000000.pdf
          pattern: ^(https?:\/\/|\/).{4,2048}$
      required:
        - url
        - mime_type
        - length
        - hashes
    ContentRestriction:
      description: 'Content (items) provided by the source can be used for:

        * ALLOWED_FOR_AI_SUMMARIZATION  - include items available for AI summarization

        * NONE                          - returns all items independent of any content
        restrictions

        '
      type: string
      default: ALLOWED_FOR_AI_SUMMARIZATION
      enum:
        - NONE
        - ALLOWED_FOR_AI_SUMMARIZATION
    CustomizableId:
      description: Customizable identifier (can be set on create or autogenerated)
      type: string
      example: 64cba62568e377fe8c87f255
      pattern: ^[a-zA-Z0-9_-]{2,100}$
    DateRangeFilter:
      description: Date range filter
      properties:
        from:
          description: Date from (included)
          type: string
          format: date-time
          example: '2021-09-30 15:30:00+01:00'
        to:
          description: Date to (excluded)
          type: string
          format: date-time
          example: '2021-10-30 15:30:00+01:00'
    ExternalId:
      description: External identifier
      type: string
      example: quarterly_reports
      pattern: '[0-9A-Za-z_-]{1,100}'
    ExtractedTextSource:
      description: 'Source from which the extracted text was derived

        - SOURCE - source provided text

        - URL - taken from the website at URL

        - CONTENT - extracted from the content'
      type: string
      enum:
        - SOURCE
        - URL
        - CONTENT
    FailedRow:
      description: Row that failed to be inserted
      type: object
      properties:
        error_message:
          description: Error message (why this row has failed)
          type: string
          example: Not expected value type
        index:
          description: Index of the row that failed
          type: integer
          format: int32
          example: respondent_name
    FederatedSearchConnector:
      description: Federated search connector
      type: object
      properties:
        allow_full_text_extraction:
          description: Determines whether full text extraction is allowed for items
            returned by this connector.
          type: boolean
          example: true
          default: false
        auth_method:
          $ref: '#/components/schemas/FederatedSearchConnectorAuthMethod'
        available_for_ai_summarization:
          description: Determines whether AI summarization is available.
          type: boolean
          example: true
          default: false
        description:
          description: Description
          type: string
          example: NextAtlas connector
        disable_empty_search:
          description: Determines whether empty search query is enabled or disabled
            for items search
          type: boolean
          example: true
          default: false
        display_name:
          description: Display name
          type: string
          example: NextAtlas
        id:
          $ref: '#/components/schemas/Id'
        image_url:
          description: Image URL
          type: string
          example: https://storage.googleapis.com/logos/NextAtlas.png
        legacy_api:
          description: 'API version of the Federated search connector

            * true - federated search adapter API

            * false - federated search connector API

            '
          type: boolean
          example: true
          default: false
        secret_id:
          description: Identifier of the secret created in Google Secret Manager
          type: string
          example: bayer-federated-search-connector-secret
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated
          type: string
          example: language-detection-step
        url:
          description: URL of service
          type: string
          example: https://nextatlas-abc.cloudrun.gcp.com
      required:
        - auth_method
        - display_name
        - id
        - legacy_api
        - system_created_at
        - system_updated_at
        - url
    FederatedSearchConnectorAuthMethod:
      description: 'Authentication method for accessing the Federated search connector

        - API_KEY - authorization via HTTP header X-Api-Key. The "secret" field must
        be filled in: { "apiKey":"${apiKey}" }

        - DEFAULT_GCP_OAUTH - the service account from the default application context
        will be used

        '
      type: string
      enum:
        - API_KEY
        - DEFAULT_GCP_OAUTH
    FederatedSearchConnectorsSearchRequest:
      description: Request to search for Federated search connectors
      type: object
      properties:
        ids:
          description: Federated search connector identifiers
          type: array
          items:
            $ref: '#/components/schemas/Id'
          maxLength: 1000
          minItems: 1
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          example: 5
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          example: 3
          default: 0
          minimum: 0
    FederatedSearchConnectorsSearchResponse:
      description: Response to search for Federated search connectors
      type: object
      properties:
        connectors:
          description: Found connectors
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchConnector'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - connectors
        - total
    FederatedSearchDateTimeRangeFilter:
      description: Date-time range item filters
      type: object
      properties:
        description:
          description: Description
          type: string
        display_name:
          description: Display name
          type: string
        from:
          description: Start selectable date
          type: string
          format: date-time
        id:
          description: External identifier
          type: string
          example: quarterly_reports
          pattern: (?=[0-9A-Za-z_-]{1,100})(?=[0-9A-Za-z_-]{1,100})
        to:
          description: End selectable date
          type: string
          format: date-time
      required:
        - id
        - display_name
    FederatedSearchFilter:
      description: Selectable item filters
      type: object
      properties:
        description:
          description: Description
          type: string
        display_name:
          description: Display name
          type: string
        id:
          $ref: '#/components/schemas/ExternalId'
      required:
        - id
        - display_name
    FederatedSearchFilterValue:
      description: Filter provided by the adapter
      type: object
      properties:
        display_name:
          description: Filter value label for viewing in the UI
          type: string
          example: Region
          maxLength: 500
        id:
          $ref: '#/components/schemas/ExternalId'
        items_total:
          description: Number of items under filter value
          type: integer
          format: int64
          example: 75
      required:
        - id
        - display_name
    FederatedSearchItem:
      description: Found item
      type: object
      properties:
        connector_image_url:
          description: Connector image URL
          type: string
          example: https://domain.com/connectors/awesome-connector-logo.png
        created_at:
          description: Item creation time in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        description:
          description: Item description
          type: string
          example: The world's richest man closed his blockbuster purchase of the
            social media service
        footer:
          description: Footer with metadata
          type: string
          example: The New York Times - March 25, 2022
          maxLength: 500
        id:
          $ref: '#/components/schemas/ExternalId'
        image_urls:
          description: Item images
          type: array
          items:
            description: Item image URL
            example: https://domain.com/news/news-slug-2022.png
            type: string
        label:
          description: Label like human-readable connector and space names
          type: string
          example: 'Custom search engine: Literature'
        published_at:
          description: Item publication time in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        title:
          description: Item title
          type: string
          example: Elon Musk Completes $44 Billion Deal to Own Twitter
        updated_at:
          description: Item update time in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        url:
          description: Item url
          type: string
          example: https://www.nytimes.com/2022/10/27/technology/elon-musk-twitter-deal-complete.html
      required:
        - id
        - url
        - title
    FederatedSearchItemFilterValuesSearchRequest:
      description: Request to search for item filter values
      type: object
      properties:
        filter_parent_value_id:
          description: Identifier of the parent filter value (send null for the first
            level)
          type: string
          example: 19367353839474944
          maxLength: 500
        filter_value_query:
          description: Search terms (string)
          type: string
          example: show me something
          maxLength: 300
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          example: 5
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          example: 3
          default: 0
          minimum: 0
        search_request:
          $ref: '#/components/schemas/FederatedSearchItemsSearchFilters'
      required:
        - search_request
    FederatedSearchItemFilterValuesSearchResponse:
      description: Response to search for item filter values
      type: object
      properties:
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
        values:
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchFilterValue'
          minItems: 0
      required:
        - total
        - values
    FederatedSearchItemFullTextGetByIdRequest:
      description: Request object used for getting item full text by the ID
      type: object
      properties:
        item_id:
          description: Item ID
          type: string
          example: 635a4bf794dc48d1e10c2f29
      required:
        - item_id
    FederatedSearchItemFullTextGetByIdResponse:
      description: Response object for getting item full text by the ID request
      type: object
      properties:
        full_text:
          description: Item full text. If full text length is above 500_000, it will
            be truncated to this size.
          type: string
          example: The world's richest man closed his blockbuster purchase of the
            social media service
    FederatedSearchItemQuerySuggestion:
      description: Suggestion for item search terms
      type: object
      properties:
        id:
          $ref: '#/components/schemas/ExternalId'
        query:
          description: Suggested search term for item search terms
          example: Can I eat dog food?
          maxLength: 500
          type: string
      required:
        - query
    FederatedSearchItemQuerySuggestionsSearchRequest:
      description: Request to search suggestions
      type: object
      properties:
        date_time_ranges:
          description: Selected date time ranges
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSelectedDateTimeRangeFilterValue'
          minItems: 1
        filters:
          description: Selected filter values
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSelectedFilterValue'
          minItems: 1
        limit:
          description: Limiting the number of items in the response (page size)
          type: integer
          format: int32
          example: 5
          default: 10
          maximum: 100
          minimum: 0
        query:
          description: Search query
          example: Elon Musk
          maxLength: 512
          minLength: 1
          type: string
      required:
        - query
    FederatedSearchItemQuerySuggestionsSearchResponse:
      description: Response to search suggestions for item search terms
      type: object
      properties:
        suggestions:
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchItemQuerySuggestion'
          minItems: 0
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - suggestions
        - total
    FederatedSearchItemsGetByIdsRequest:
      description: Request object used for getting items by the IDs
      type: object
      properties:
        item_ids:
          description: Search request
          type: array
          items:
            type: string
          example:
            - 635a4bf794dc48d1e10c2f29
            - 635a4c0194dc48d1e10c2f2a
          maxItems: 100
          minItems: 1
      required:
        - item_ids
    FederatedSearchItemsGetByIdsResponse:
      description: Response object for getting items by the IDs request
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchItem'
          minItems: 0
      required:
        - items
    FederatedSearchItemsSearchDefinition:
      description: 'Item search definition. Possible:

        - filters

        - date-time range filters

        - sort

        '
      type: object
      properties:
        date_time_ranges:
          description: Date-time range item filters
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchDateTimeRangeFilter'
        filters:
          description: Selectable item filters
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchFilter'
        sort:
          description: Sort options
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSort'
    FederatedSearchItemsSearchFilters:
      description: Item search (applied filters)
      type: object
      properties:
        date_time_ranges:
          description: Selected date time ranges
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSelectedDateTimeRangeFilterValue'
          minItems: 1
        filters:
          description: Selected filter values
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSelectedFilterValue'
          minItems: 1
        query:
          description: Search query
          example: Elon Musk
          maxLength: 512
          minLength: 1
          type: string
    FederatedSearchItemsSearchRequest:
      description: Items search request
      type: object
      properties:
        date_time_ranges:
          description: Selected date time ranges
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSelectedDateTimeRangeFilterValue'
          minItems: 1
        filters:
          description: Selected filter values
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSelectedFilterValue'
          minItems: 1
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          example: 5
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          example: 3
          default: 0
          minimum: 0
        query:
          description: Search query
          example: Elon Musk
          maxLength: 512
          minLength: 1
          type: string
        sort:
          description: Result sorting
          type: string
    FederatedSearchItemsSearchResponse:
      description: Response to search for subscriptions
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchItem'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - items
        - total
    FederatedSearchSelectedDateTimeRangeFilterValue:
      description: 'Date range filter.

        At least one filled `from` or `to` property is required.

        '
      type: object
      properties:
        from:
          description: From what date (yyyy-MM-dd'T'HH:mm:ssZ)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        id:
          $ref: '#/components/schemas/ExternalId'
        to:
          description: Until what date (yyyy-MM-dd'T'HH:mm:ssZ)
          type: string
          format: date-time
          example: '2022-01-10T17:30:55+02:00'
      required:
        - id
    FederatedSearchSelectedFilterValue:
      description: Selected item filter
      type: object
      properties:
        id:
          description: Filter identifier
          type: string
          example: 10036537965946
          maxLength: 500
        value_id:
          description: Filter value identifier
          type: string
          example: 19367353839474944
          maxLength: 500
      required:
        - id
        - value_id
    FederatedSearchSort:
      description: Sort options
      type: object
      properties:
        description:
          description: Description
          type: string
        display_name:
          description: Display name
          type: string
        id:
          $ref: '#/components/schemas/ExternalId'
      required:
        - id
        - display_name
    FederatedSearchSpace:
      description: Content space
      type: object
      properties:
        available_for_ai_summarization:
          description: Determines whether AI summarization is available.
          type: boolean
          example: true
          default: false
        description:
          description: Description
          type: string
        display_name:
          description: Display name
          type: string
        id:
          $ref: '#/components/schemas/ExternalId'
      required:
        - id
        - display_name
    FederatedSearchSpaces:
      description: Response object for getting all content spaces
      type: object
      properties:
        spaces:
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSpace'
          minItems: 1
      required:
        - spaces
    FederatedSearchSubscription:
      description: Subscription
      type: object
      properties:
        connector_id:
          $ref: '#/components/schemas/Id'
        external_id:
          description: Subscription identifier in Federated search connector
          type: string
          example: tenant-nextatlas-subscription-1
        id:
          $ref: '#/components/schemas/Id'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
      required:
        - id
        - system_created_at
    FederatedSearchSubscriptionsSearchRequest:
      description: Request to search for subscriptions
      type: object
      properties:
        connector_ids:
          type: array
          items:
            $ref: '#/components/schemas/Id'
          minItems: 1
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          example: 5
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          example: 3
          default: 0
          minimum: 0
    FederatedSearchSubscriptionsSearchResponse:
      description: Response to search for subscriptions
      type: object
      properties:
        subscriptions:
          type: array
          items:
            $ref: '#/components/schemas/FederatedSearchSubscription'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - subscriptions
        - total
    Feed:
      description: Feed that can have feed items and that regularly being updated
        with new items
      type: object
      properties:
        countries:
          type: array
          items:
            description: Countries directly or indirectly mentioned in the items'
              title and description or 'XX' code if items with undefined countries
              have to be retrieved
            example: US
            type: string
          minItems: 1
        exact_match:
          description: Indicates whether the search must return items with the exact
            phrase from the query in the title or in the source display name.
          type: boolean
          example: true
          default: false
        id:
          $ref: '#/components/schemas/CustomizableId'
        items_type:
          $ref: '#/components/schemas/ItemType'
        languages:
          type: array
          items:
            description: Feed news languages (two symbols, ISO 639-1), takes precedence
              over 'language'
            example: en
            maxLength: 2
            minLength: 2
            type: string
          minItems: 1
        notification_channel_id:
          description: Internal identifier
          type: string
          example: 64cba62568e377fe8c87f255
          pattern: (?=^[a-fA-F0-9]{24}$)(?=^[a-fA-F0-9]{24}$)
        query:
          description: Semantic search query
          example: Jacobs coffee brand popularity in Brazil
          maxLength: 512
          minLength: 1
          type: string
        search_type:
          $ref: '#/components/schemas/SearchType'
        source_ids:
          description: Source ids
          type: array
          items:
            $ref: '#/components/schemas/Id'
          maxItems: 100
          minItems: 1
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated the item
          type: string
          example: language-detection-step
        tags:
          description: Tags
          type: array
          items:
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          maxItems: 10
          minItems: 1
        tenant_id:
          description: Identifier of the tenant that created this feed
          type: string
          example: prodeu-mip-unilever
          pattern: ^[a-zA-Z0-9_-]{2,100}$
        type:
          $ref: '#/components/schemas/FeedType'
        vector:
          description: 'Semantic query vector. The vector is generated by using OpenAI''s
            "text-embedding-ada-002" embedding model.

            '
          type: array
          items:
            example: 0.7684234
            format: double
            type: number
          example:
            - 0.7684234
            - 0.7684234
          maxItems: 1536
          minItems: 1536
      required:
        - system_created_at
        - system_updated_at
    FeedCreateRequest:
      description: "Feed create request, there are some rules applied:\n- If \"exact_match\"\
        \ is true, then \"query\" must be provided too.\n  In this case, text-search\
        \ will be used to find items that match the exact query.\n  If exact_match\"\
        \ is true and \"query\" is not provided, then a validation error is returned.\n\
        - If \"exact_match\" is not provided or is false:\n  - If \"query\" is provided\
        \ and \"vector\" is absent, then \"vector\" will be generated automatically.\n\
        \  - If both \"query\" and \"vector\" are provided, only \"vector\" will be\
        \ used for searching.\n  - If both \"query\" and \"vector\" are absent, then\
        \ \"source_ids\" or \"countries\" must be presented.\n    In this case, text-search\
        \ will be used instead of vector-search.\n  - If \"query\", \"vector\", \"\
        source_ids\" and \"countries\" are absent, then a validation error is returned.\n"
      type: object
      properties:
        countries:
          type: array
          items:
            description: Countries directly or indirectly mentioned in the items'
              title and description or 'XX' code if items with undefined countries
              have to be retrieved
            example: US
            type: string
          minItems: 1
        exact_match:
          description: Indicates whether the search must return items with the exact
            phrase from the query in the title or in the source display name.
          type: boolean
          example: true
          default: false
        id:
          $ref: '#/components/schemas/CustomizableId'
        items_type:
          $ref: '#/components/schemas/ItemType'
        languages:
          type: array
          items:
            description: Feed news languages (two symbols, ISO 639-1), takes precedence
              over 'language'
            example: en
            maxLength: 2
            minLength: 2
            type: string
          minItems: 1
        notification_channel_id:
          $ref: '#/components/schemas/Id'
        query:
          description: Semantic search query
          example: Jacobs coffee brand popularity in Brazil
          maxLength: 512
          minLength: 1
          type: string
        search_type:
          $ref: '#/components/schemas/SearchType'
        source_ids:
          description: Source ids
          type: array
          items:
            $ref: '#/components/schemas/Id'
          maxItems: 100
          minItems: 1
        tags:
          description: Tags
          type: array
          items:
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          maxItems: 10
          minItems: 1
        type:
          $ref: '#/components/schemas/FeedType'
        vector:
          description: 'Semantic query vector. The vector is generated by using OpenAI''s
            "text-embedding-ada-002" embedding model.

            '
          type: array
          items:
            example: 0.7684234
            format: double
            type: number
          example:
            - 0.7684234
            - 0.7684234
          maxItems: 1536
          minItems: 1536
    FeedItem:
      description: Found during a feed update item
      type: object
      properties:
        expires_at:
          description: Item expiration date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        feed_id:
          $ref: '#/components/schemas/CustomizableId'
        id:
          $ref: '#/components/schemas/Id'
        item_id:
          $ref: '#/components/schemas/Id'
        reasoning:
          description: Reason why this item is relevant to the feed
          type: string
        relevance_class:
          $ref: '#/components/schemas/RelevanceClass'
        score:
          description: Item relevancy score
          type: number
          format: double
        source_id:
          $ref: '#/components/schemas/Id'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
    FeedItemPreview:
      description: Found during a feed update item
      type: object
      properties:
        authors:
          description: Item authors
          type: string
        countries:
          description: Item countries
          type: array
          items:
            type: string
        description:
          description: Item description
          type: string
        duplicate_group_id:
          $ref: '#/components/schemas/Id'
        duplicate_grouped_at:
          description: Item duplicate detection completion date
          type: string
          format: date-time
        id:
          $ref: '#/components/schemas/Id'
        image_url:
          description: Item image url
          type: string
        language:
          description: Item language
          type: string
        published_at:
          description: Item publication date
          type: string
          format: date-time
        reasoning:
          description: Reason why this item is relevant to the feed
          type: string
        relevance_class:
          $ref: '#/components/schemas/RelevanceClass'
        score:
          description: Item relevancy score
          type: number
          format: double
        source:
          $ref: '#/components/schemas/SourceMetadata'
        title:
          description: Item title
          type: string
        updated_at:
          description: Item update date
          type: string
          format: date-time
        url:
          description: Item url
          type: string
    FeedItemsPreviewResponse:
      description: Feed items preview response
      type: object
      properties:
        items:
          description: Feed item previews
          type: array
          items:
            $ref: '#/components/schemas/FeedItemPreview'
    FeedItemsSearchRequest:
      description: Limit and offset for search
      type: object
      properties:
        date_created_from:
          description: Date in ISO 8601 format to get items after this date (included)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        date_created_to:
          description: Date in ISO 8601 format to get items before this date (excluded)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
    FeedItemsSearchResponse:
      description: Base search response
      type: object
      properties:
        feed_items:
          description: Found feed items ordered by created_at desc
          type: array
          items:
            $ref: '#/components/schemas/FeedItem'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 100
          minimum: 0
      required:
        - total
    FeedPatchRequest:
      description: "Feed patch request, there are some rules applied after patching\
        \ a feed:\n- If \"exact_match\" is true, then \"query\" must be provided too.\n\
        \  In this case, text-search will be used to find items that match the exact\
        \ query.\n  If exact_match\" is true and \"query\" is not provided, then a\
        \ validation error is returned.\n- If \"exact_match\" is not provided or is\
        \ false:\n  - If \"query\" is provided and \"vector\" is absent, then \"vector\"\
        \ will be generated automatically.\n  - If both \"query\" and \"vector\" are\
        \ provided, only \"vector\" will be used for searching.\n  - If both \"query\"\
        \ and \"vector\" are absent, then \"source_ids\" or \"countries\" must be\
        \ presented.\n    In this case, text-search will be used instead of vector-search.\n\
        \  - If \"query\", \"vector\", \"source_ids\" and \"countries\" are absent,\
        \ then a validation error is returned.\n"
      type: object
      properties:
        countries:
          type: object
          properties:
            value:
              type: array
              items:
                description: Countries directly or indirectly mentioned in the items'
                  title and description or 'XX' code if items with undefined countries
                  have to be retrieved
                example: US
                type: string
              minItems: 1
          title: FeedCountriesFieldPatch
        exact_match:
          type: object
          properties:
            value:
              description: Indicates whether the search must return items with the
                exact phrase from the query in the title or in the source display
                name.
              type: boolean
              example: true
              default: false
          title: FeedExactMatchFieldPatch
        items_type:
          type: object
          properties:
            value:
              $ref: '#/components/schemas/ItemType'
          title: FeedItemsTypeFieldPatch
        languages:
          type: object
          properties:
            value:
              type: array
              items:
                description: Feed news languages (two symbols, ISO 639-1), takes precedence
                  over 'language'
                example: en
                maxLength: 2
                minLength: 2
                type: string
              minItems: 1
          title: FeedLanguagesFieldPatch
        notification_channel_id:
          type: object
          properties:
            value:
              $ref: '#/components/schemas/Id'
          title: FeedNotificationChannelIdFieldPatch
        query:
          properties:
            value:
              description: Semantic search query
              type: string
              example: Jacobs coffee brand popularity in Brazil
              maxLength: 512
              minLength: 1
          title: FeedQueryFieldPatch
          type: object
        source_ids:
          type: object
          properties:
            value:
              description: Source ids
              type: array
              items:
                $ref: '#/components/schemas/Id'
              maxItems: 100
              minItems: 1
          title: FeedSourceIdsFieldPatch
        tags:
          type: object
          properties:
            value:
              description: Tags
              type: array
              items:
                pattern: ^[a-zA-Z0-9_-]{2,100}$
                type: string
              maxItems: 10
              minItems: 1
          title: FeedTagsFieldPatch
        type:
          type: object
          properties:
            value:
              $ref: '#/components/schemas/FeedType'
          title: FeedTypeFieldPatch
        vector:
          type: object
          properties:
            value:
              description: "Semantic query vector. The vector is generated by using\
                \ OpenAI's \n\"text-embedding-ada-002\" embedding model.\n"
              type: array
              items:
                example: 0.7684234
                format: double
                type: number
              example:
                - 0.7684234
                - 0.7684234
              maxItems: 1536
              minItems: 1536
          title: FeedVectorFieldPatch
    FeedType:
      description: Feed type
      type: string
      default: FEED
      enum:
        - FEED
        - ALERT
    FeedsSearchRequest:
      description: Limit and offset for search
      type: object
      properties:
        ids:
          description: Ids of feeds to fetch
          type: array
          items:
            $ref: '#/components/schemas/CustomizableId'
          maxItems: 100
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
        tags:
          description: Tags
          type: array
          items:
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          maxItems: 10
    FeedsSearchResponse:
      description: Base search response
      type: object
      properties:
        feeds:
          description: Found feeds
          type: array
          items:
            $ref: '#/components/schemas/Feed'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 100
          minimum: 0
      required:
        - total
    Highlight:
      description: Text highlights
      type: object
      properties:
        field:
          description: Item field name
          type: string
        score:
          description: Highlight score
          type: number
          format: double
        texts:
          type: array
          items:
            $ref: '#/components/schemas/HighlightText'
    HighlightText:
      description: Text highlight
      type: object
      properties:
        text:
          description: Text to be highlighted
          type: string
        type:
          description: Highlight type
          type: string
          enum:
            - hit
            - text
    Id:
      description: Internal identifier
      type: string
      pattern: ^[a-fA-F0-9]{24}$
    Item:
      description: Item imported from the source
      type: object
      properties:
        authors:
          description: Authors of item (comma-separated)
          type: string
          example: John Doe
        content:
          $ref: '#/components/schemas/Content'
        content_without_text:
          description: Item's content is not empty, but does not contain text data
          type: boolean
        countries:
          description: If the item's title or description have direct or indirect
            country or countries mentioning then this attribute will contain ISO 3166-1
            alpha-2 country codes of these countries
          type: array
          items:
            type: string
          example: US
        description:
          description: "Human-readable item description that is shown on UI.\nAlways\
            \ shown on empty search and in other card represenations. Not shown when\
            \ search query hits text from \nfullText (fullText part is shown instead).\n"
          type: string
          example: This report aims to provide insights and so on...
        duplicate_group_id:
          $ref: '#/components/schemas/Id'
        duplicate_grouped_at:
          description: Duplicate detection was completed at date and time
          type: string
          format: date-time
        expires_at:
          description: 'The date after which item will be deleted due to its expiration.
            If null, item will not expire.

            Value is calculated based on item''s source retention. See SourceRetention
            for more details.

            '
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        external_id:
          description: External identifier of item, set by client
          type: string
          example: ARTIFACT_ID_123
          maxLength: 10000
        id:
          $ref: '#/components/schemas/Id'
        image_url:
          description: Item image url
          type: string
          example: https://20smoney.com/wp-content/uploads/2020/12/canstockphoto7908024-300x200.jpg
          pattern: ^https?:\/\/.{4,2048}$
        import_batch_id:
          description: Import Batch Id of item, set by client. Useful when batch of
            items imported by one transaction/job/import
          type: string
          example: IMPORT_BATCH_ID_123
          maxLength: 100
        language:
          description: Item language code (two symbols, ISO 639-1). Will be detected
            automatically if omitted
          type: string
          example: en
          maxLength: 2
          minLength: 2
        premium:
          description: Item was processed with premium vectorization
          type: boolean
        published_at:
          description: Item publication time in ISO 8601 format. Should be a valid
            time in the past when the item was published
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        searchable:
          description: Indexed and searchable
          type: boolean
          example: true
        source_id:
          $ref: '#/components/schemas/Id'
        splitter_id:
          description: Identifier of the splitter used to process item's content
          type: string
          example: splitter-123
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated the item
          type: string
          example: language-detection-step
        title:
          description: Item title that is shown on UI as a card title
          type: string
          example: Cheese consumption report, March 2022
          minLength: 1
        updated_at:
          description: Item update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        url:
          description: Item url that is used on UI for redirection after clicking
            on a UI card
          type: string
          example: https://domain.com/news/news-slug-2022
          pattern: ^(https?:\/\/|\/).{4,2048}$
      required:
        - external_id
        - id
        - published_at
        - source_id
        - system_created_at
        - system_updated_at
        - title
    ItemAccessibleBy:
      description: 'Accessibility of item content

        - PUBLIC - URL of item can be used directly

        - REDIRECT - item must be opened through Secondary content store

        - DOWNLOAD - content of item must be downloaded from Secondary content store

        '
      type: string
      enum:
        - PUBLIC
        - REDIRECT
        - DOWNLOAD
    ItemClickBehavior:
      description: "Which URL to open first (used by item-service)\n- OPEN_URL - to\
        \ open Item.url\n- DOWNLOAD_CONTENT - to download Item.content.url\nIf the\
        \ URL is not filled in, it tries to open in the following sequence: \n- Item.url\n\
        - Item.content.url\n"
      type: string
      default: OPEN_URL
      enum:
        - OPEN_URL
        - DOWNLOAD_CONTENT
    ItemFilter:
      description: Item filter description
      type: object
      properties:
        description:
          description: Description of filter
          type: string
          example: Fetch items written in the selected language
        display_name:
          description: Name that display on UI
          type: string
          example: Languages
        id:
          description: Identifier
          type: string
          example: languages
        type:
          $ref: '#/components/schemas/ItemFilterType'
      required:
        - id
        - display_name
        - type
    ItemFilterType:
      description: Item filter type
      type: string
      example: STRING
      enum:
        - STRING
        - DATE_TIME_RANGE
      required:
        - id
        - display_name
        - description
        - type
    ItemFilterValuesTextSearchRequest:
      description: Request to search for item filter values
      type: object
      properties:
        filter_value_query:
          description: Text query for filter values
          type: string
          example: New York
          maxLength: 1000
          minLength: 1
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
        search_request:
          $ref: '#/components/schemas/ItemsTextSearchRequestData'
    ItemFilterValuesTextSearchResponse:
      description: Response to search for item filter values
      type: object
      properties:
        values:
          type: array
          items:
            $ref: '#/components/schemas/TextFilterValue'
        values_total:
          type: integer
          format: int64
          example: 1
    ItemFiltersResponse:
      description: Item filters description
      type: object
      properties:
        filters:
          description: Found items
          type: array
          items:
            $ref: '#/components/schemas/ItemFilter'
          minItems: 0
      required:
        - filters
    ItemType:
      description: Item type
      type: string
      enum:
        - NEWS
        - REPORTS
    ItemUrl:
      description: Item's URL
      type: object
      properties:
        url:
          description: Item URL that is used on UI for redirection after clicking
            on a UI card
          type: string
          example: https://domain.com/news/news-slug-2022
          pattern: ^(https?:\/\/|\/).{4,2048}$
      required:
        - url
    ItemsGetByIdsRequest:
      description: Get items by ids request
      type: object
      properties:
        items_ids:
          description: Items internal identifiers
          type: array
          items:
            $ref: '#/components/schemas/Id'
          maxItems: 100
          minItems: 1
      required:
        - items_ids
    ItemsGetByIdsResponse:
      description: Items get by ids response
      type: object
      properties:
        items:
          description: Found items
          type: array
          items:
            $ref: '#/components/schemas/Item'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - items
        - total
    ItemsHybridSearchRequest:
      description: Search items request
      type: object
      properties:
        alfa:
          description: 'To set weights for merging vector and text search results

            If > 0.5 then vector search result in prior

            If < 0.5 then text search result in prior

            If = 0.5 then results are equally weighted

            '
          type: number
          format: double
          example: 0.5
          maximum: 1
          minimum: 0
        beta:
          description: To set weights for merging relevance and recency results Setting
            weights when combining items sorted by relevance and recurrence If > 0.5
            then relevance in prior If < 0.5 then recency in prior If = 0.5 then characteristics
            are equally weighted
          type: number
          format: double
          example: 0.5
          maximum: 1
          minimum: 0
        content_restrictions:
          $ref: '#/components/schemas/ContentRestriction'
        countries:
          type: array
          items:
            description: Countries directly or indirectly mentioned in the items'
              title and description or 'XX' code if items with undefined countries
              have to be retrieved
            example: US
            type: string
          minItems: 1
        description_trim_to:
          description: "Description will be trimmed to given length\n- If -1, description\
            \ length is unlimited\n- If 0, description is not included  \n- If greater\
            \ than or equal to 1, description is trimmed"
          type: integer
          format: int32
          example: 500
          default: 500
          minimum: -1
        exclude_paragraphs:
          description: If true, paragraphs will not be included in the response
          type: boolean
          example: false
        item_ids:
          description: Item identifiers
          type: array
          items:
            example: 667446fca1b0a41940f5fe9a
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        k:
          description: "This value determines how much influence documents in individual\
            \ result sets per query have over the final ranked result set. \nA higher\
            \ value indicates that lower ranked documents have more influence. This\
            \ value must be greater than or equal to 1.\n"
          type: integer
          format: int32
          example: 50
          minimum: 1
        languages:
          type: array
          items:
            description: Languages of the items' content
            example: en
            type: string
          minItems: 1
        limit:
          description: "Total maximum number of matching results.\nWith `text_search_fraction`\
            \ is participating in the calculation of the fraction of results for each\
            \ search type:\n- take the first V (`limit * text_search_fraction`) results\
            \ from the text search \n- and the first T (`limit * (1 - text_search_fraction)`)\
            \ results from the vector search\nIf `limit` eq 100 and `text_search_fraction`\
            \ eq 0.3 then vector search limit will be 70 and text search limit will\
            \ be 30.\n"
          type: integer
          format: int32
          example: 50
          default: 10
          maximum: 200
          minimum: 1
        metadata_fields_to_search:
          type: array
          items:
            $ref: '#/components/schemas/TextSearchField'
        published_at:
          $ref: '#/components/schemas/DateRangeFilter'
        query:
          description: Text query
          example: Why can birds fly?
          maxLength: 512
          minLength: 1
          type: string
        source_ids:
          description: Source identifiers
          type: array
          items:
            example: 64770293e49c6d39d4af2f0c
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        source_items_type:
          $ref: '#/components/schemas/SourceItemsType'
        system_created_at:
          $ref: '#/components/schemas/DateRangeFilter'
        system_updated_at:
          $ref: '#/components/schemas/DateRangeFilter'
        text_search_fraction:
          description: "Fraction of text search.\nWith `limit` is participating in\
            \ the calculation of the fraction of results for each search type:\n-\
            \ take the first V (`limit * text_search_fraction`) results from the text\
            \ search \n- and the first T (`limit * (1 - text_search_fraction)`) results\
            \ from the vector search\nIf `limit` eq 100 and `text_search_fraction`\
            \ eq 0.3 then vector search limit will be 70 and text search limit will\
            \ be 30.\n"
          type: number
          format: double
          example: 0.5
          maximum: 1
          minimum: 0
        text_search_near_pivot:
          description: 'Date, pivot must be specified in milliseconds and can be specified
            as a 32 or 64 bit integer. \

            Score is calculated using the following formula: `score = pivot / (pivot
            + distance)`

            '
          type: integer
          format: int64
          example: 31536000000
          minimum: 1
        text_search_near_score_boost:
          description: Multiply the result score of Mongo's "near" operator by the
            given number
          type: number
          format: double
          example: 3
        text_search_source_display_name_score_boost:
          description: Multiply the result score of Mongo's "text" operator on "sourceDisplayName"
            by the given number
          type: number
          format: double
          example: 0.75
        text_search_use_near:
          description: Use the MongoDB Atlas Search "near" operator to boost text
            search results by recentness of publication date
          type: boolean
          example: true
        text_search_use_source_display_name:
          description: Use the MongoDB Atlas Search "text" operator on "sourceDisplayName"
            field to find more results from sources that have been mentioned in search
            query
          type: boolean
          example: true
        use_evidence_filtering:
          description: Enable evidence classification for post-filtering of results
          type: boolean
        vector_search_cut_off_score:
          description: Matched items with a score greater than or equal to the given
            value will be returned
          type: number
          format: double
          example: 0.879
        vector_search_use_vector_index_for_recent_items:
          description: 'Use smaller separate vector pinecone index (for recent news
            only) instead of the default full index

            '
          type: boolean
          example: false
          default: false
      required:
        - query
    ItemsHybridSearchResponse:
      description: Vector search items response
      type: object
      properties:
        items:
          description: Found items
          type: array
          items:
            $ref: '#/components/schemas/MatchedItem'
          minItems: 0
        search_result_id:
          $ref: '#/components/schemas/Id'
      required:
        - items
    ItemsTextSearchRequest:
      description: Search items request
      type: object
      properties:
        content_restrictions:
          $ref: '#/components/schemas/ContentRestriction'
        content_search_score_boost:
          description: Multiply the result score of Mongo's "text" operator on "content.extractedText"
            by the given number
          type: number
          format: double
          example: 0.75
        countries:
          type: array
          items:
            description: Countries directly or indirectly mentioned in the items'
              title and description or 'XX' code if items with undefined countries
              have to be retrieved
            example: US
            type: string
          minItems: 1
        description_trim_to:
          description: "Description will be trimmed to given length\n- If -1, description\
            \ length is unlimited\n- If 0, description is not included  \n- If greater\
            \ than or equal to 1, description is trimmed"
          type: integer
          format: int32
          example: 500
          default: 500
          minimum: -1
        exact_match:
          description: Indicates whether the search must return items with the exact
            phrase from the query in the title or in the source display name.
          type: boolean
          example: true
          default: false
        exclude_paragraphs:
          description: If true, paragraphs will not be included in the response
          type: boolean
          example: false
        excludes:
          type: array
          items:
            description: Keywords to be absent in the content text
            type: string
          minItems: 1
        includes:
          type: array
          items:
            description: Keywords to be present in the content text
            type: string
          minItems: 1
        item_ids:
          description: Item identifiers
          type: array
          items:
            example: 667446fca1b0a41940f5fe9a
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        languages:
          type: array
          items:
            description: Languages of the items' content
            example: en
            type: string
          minItems: 1
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        metadata_fields_to_search:
          type: array
          items:
            $ref: '#/components/schemas/TextSearchField'
        near_pivot:
          description: 'Date, pivot must be specified in milliseconds and can be specified
            as a 32 or 64 bit integer. \

            Score is calculated using the following formula: `score = pivot / (pivot
            + distance)`

            '
          type: integer
          format: int64
          example: 31536000000
          minimum: 1
        near_score_boost:
          description: Multiply the result score of Mongo's "near" operator by the
            given number
          type: number
          format: double
          example: 3
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
        published_at:
          $ref: '#/components/schemas/DateRangeFilter'
        query:
          description: Text query
          example: Why can birds fly?
          maxLength: 512
          minLength: 1
          type: string
        sort:
          $ref: '#/components/schemas/ItemsTextSearchSort'
        source_display_name_score_boost:
          description: Multiply the result score of Mongo's "text" operator on "sourceDisplayName"
            by the given number
          type: number
          format: double
          example: 0.75
        source_ids:
          description: Source identifiers
          type: array
          items:
            example: 64770293e49c6d39d4af2f0c
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        source_items_type:
          $ref: '#/components/schemas/SourceItemsType'
        system_created_at:
          $ref: '#/components/schemas/DateRangeFilter'
        system_updated_at:
          $ref: '#/components/schemas/DateRangeFilter'
        use_near:
          description: Use the MongoDB Atlas Search "near" operator to boost text
            search results by recentness of publication date
          type: boolean
          example: true
        use_source_display_name:
          description: Use the MongoDB Atlas Search "text" operator on "sourceDisplayName"
            field to find more results from sources that have been mentioned in search
            query
          type: boolean
          example: true
    ItemsTextSearchRequestData:
      description: Base text search request
      type: object
      properties:
        content_restrictions:
          $ref: '#/components/schemas/ContentRestriction'
        content_search_score_boost:
          description: Multiply the result score of Mongo's "text" operator on "content.extractedText"
            by the given number
          type: number
          format: double
          example: 0.75
        countries:
          type: array
          items:
            description: Countries directly or indirectly mentioned in the items'
              title and description or 'XX' code if items with undefined countries
              have to be retrieved
            example: US
            type: string
          minItems: 1
        exact_match:
          description: Indicates whether the search must return items with the exact
            phrase from the query in the title or in the source display name.
          type: boolean
          example: true
          default: false
        excludes:
          type: array
          items:
            description: Keywords to be absent in the content text
            type: string
          minItems: 1
        includes:
          type: array
          items:
            description: Keywords to be present in the content text
            type: string
          minItems: 1
        item_ids:
          description: Item identifiers
          type: array
          items:
            example: 667446fca1b0a41940f5fe9a
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        languages:
          type: array
          items:
            description: Languages of the items' content
            example: en
            type: string
          minItems: 1
        metadata_fields_to_search:
          type: array
          items:
            $ref: '#/components/schemas/TextSearchField'
        near_pivot:
          description: 'Date, pivot must be specified in milliseconds and can be specified
            as a 32 or 64 bit integer. \

            Score is calculated using the following formula: `score = pivot / (pivot
            + distance)`

            '
          type: integer
          format: int64
          example: 31536000000
          minimum: 1
        near_score_boost:
          description: Multiply the result score of Mongo's "near" operator by the
            given number
          type: number
          format: double
          example: 3
        published_at:
          $ref: '#/components/schemas/DateRangeFilter'
        query:
          description: Text query
          example: Why can birds fly?
          maxLength: 512
          minLength: 1
          type: string
        source_display_name_score_boost:
          description: Multiply the result score of Mongo's "text" operator on "sourceDisplayName"
            by the given number
          type: number
          format: double
          example: 0.75
        source_ids:
          description: Source identifiers
          type: array
          items:
            example: 64770293e49c6d39d4af2f0c
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        source_items_type:
          $ref: '#/components/schemas/SourceItemsType'
        system_created_at:
          $ref: '#/components/schemas/DateRangeFilter'
        system_updated_at:
          $ref: '#/components/schemas/DateRangeFilter'
        use_near:
          description: Use the MongoDB Atlas Search "near" operator to boost text
            search results by recentness of publication date
          type: boolean
          example: true
        use_source_display_name:
          description: Use the MongoDB Atlas Search "text" operator on "sourceDisplayName"
            field to find more results from sources that have been mentioned in search
            query
          type: boolean
          example: true
    ItemsTextSearchResponse:
      description: Vector search items response
      type: object
      properties:
        items:
          description: Found items
          type: array
          items:
            $ref: '#/components/schemas/MatchedItem'
          minItems: 0
        search_result_id:
          $ref: '#/components/schemas/Id'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - items
        - total
    ItemsTextSearchSort:
      description: Items text search sort
      type: string
      default: PUBLISHED_AT_DESC
      enum:
        - RELEVANCY_ASC
        - RELEVANCY_DESC
        - PUBLISHED_AT_ASC
        - PUBLISHED_AT_DESC
    ItemsVectorSearchRequest:
      description: Search items request
      type: object
      properties:
        content_restrictions:
          $ref: '#/components/schemas/ContentRestriction'
        countries:
          type: array
          items:
            description: Countries directly or indirectly mentioned in the items'
              title and description or 'XX' code if items with undefined countries
              have to be retrieved
            example: US
            type: string
          minItems: 1
        description_trim_to:
          description: "Description will be trimmed to given length\n- If -1, description\
            \ length is unlimited\n- If 0, description is not included  \n- If greater\
            \ than or equal to 1, description is trimmed"
          type: integer
          format: int32
          example: 500
          default: 500
          minimum: -1
        exclude_paragraphs:
          description: If true, paragraphs will not be included in the response
          type: boolean
          example: false
        item_ids:
          description: Item identifiers
          type: array
          items:
            example: 667446fca1b0a41940f5fe9a
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        languages:
          type: array
          items:
            description: Languages of the items' content
            example: en
            type: string
          minItems: 1
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 100
          minimum: 1
        model:
          $ref: '#/components/schemas/VectorizationModel'
        published_at:
          $ref: '#/components/schemas/DateRangeFilter'
        query:
          description: Text query
          example: Why can birds fly?
          maxLength: 512
          minLength: 1
          type: string
        score_lower_bound:
          description: Matched items with a score greater than or equal to the given
            value will be returned
          type: number
          format: double
          example: 0.879
        search_method:
          $ref: '#/components/schemas/SearchMethod'
        sort:
          $ref: '#/components/schemas/ItemsVectorSearchSort'
        source_ids:
          description: Source identifiers
          type: array
          items:
            example: 64770293e49c6d39d4af2f0c
            pattern: ^[a-zA-Z0-9_-]{2,100}$
            type: string
          minItems: 1
        source_items_type:
          $ref: '#/components/schemas/SourceItemsType'
        system_created_at:
          $ref: '#/components/schemas/DateRangeFilter'
        system_updated_at:
          $ref: '#/components/schemas/DateRangeFilter'
        use_evidence_filtering:
          description: Enable evidence classification for post-filtering of results
          type: boolean
        use_vector_index_for_recent_items:
          description: 'Use smaller separate vector pinecone index (for recent news
            only) instead of the default full index

            '
          type: boolean
          example: false
          default: false
        vector:
          description: Vector of query (`text-embedding-ada-002` embedding model)
          type: array
          items:
            example: 0.7684234
            format: double
            type: number
          maxItems: 1536
          minItems: 1536
    ItemsVectorSearchResponse:
      description: Vector search items response
      type: object
      properties:
        items:
          description: Found items
          type: array
          items:
            $ref: '#/components/schemas/MatchedItem'
          minItems: 0
        search_result_id:
          $ref: '#/components/schemas/Id'
      required:
        - items
    ItemsVectorSearchSort:
      description: Items vector search sort
      type: string
      default: PUBLISHED_AT_DESC
      enum:
        - RELEVANCY_ASC
        - RELEVANCY_DESC
        - PUBLISHED_AT_ASC
        - PUBLISHED_AT_DESC
    MatchedItem:
      description: Item expiration metadata
      type: object
      properties:
        accessible_by:
          $ref: '#/components/schemas/ItemAccessibleBy'
        authors:
          description: Authors of item (comma-separated)
          type: string
          example: John Doe
        countries:
          description: If the item's title or description have direct or indirect
            country or countries mentioning then this attribute will contain ISO 3166-1
            alpha-2 country codes of these countries
          type: array
          items:
            type: string
          example: US
        description:
          description: "Human-readable item description that is shown on UI.\nAlways\
            \ shown on empty search and in other card represenations. Not shown when\
            \ search query hits text from \nfullText (fullText part is shown instead).\n"
          type: string
          example: This report aims to provide insights and so on...
        duplicate_group_id:
          $ref: '#/components/schemas/Id'
        duplicate_grouped_at:
          description: Duplicate detection was completed at date and time
          type: string
          format: date-time
        expires_at:
          description: 'The date after which item will be deleted due to its expiration.
            If null, item will not expire.

            Value is calculated based on item''s source retention. See SourceRetention
            for more details.

            '
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        highlights:
          type: array
          items:
            $ref: '#/components/schemas/Highlight'
        id:
          $ref: '#/components/schemas/Id'
        image_url:
          description: Item image url
          type: string
          example: https://20smoney.com/wp-content/uploads/2020/12/canstockphoto7908024-300x200.jpg
          pattern: ^https?:\/\/.{4,2048}$
        language:
          description: Item language code (two symbols, ISO 639-1). Will be detected
            automatically if omitted
          type: string
          example: en
          maxLength: 2
          minLength: 2
        paragraphs:
          type: array
          items:
            $ref: '#/components/schemas/MatchedParagraph'
        published_at:
          description: Item publication time in ISO 8601 format. Should be a valid
            time in the past when the item was published
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        reasoning:
          description: Evidence classifier reasoning
          type: string
        relevance_class:
          $ref: '#/components/schemas/RelevanceClass'
        score:
          description: Search score
          type: number
          format: double
        source:
          $ref: '#/components/schemas/MatchedSource'
        title:
          description: Item title that is shown on UI as a card title
          type: string
          example: Cheese consumption report, March 2022
          minLength: 1
        updated_at:
          description: Item update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        url:
          description: Item url that is used on UI for redirection after clicking
            on a UI card
          type: string
          example: https://domain.com/news/news-slug-2022
          pattern: ^(https?:\/\/|\/).{4,2048}$
      required:
        - accessible_by
        - published_at
        - title
    MatchedParagraph:
      description: Matched text of item
      type: object
      properties:
        id:
          $ref: '#/components/schemas/Id'
        ordinal_number:
          type: integer
          format: int32
          default: 0
        page_number:
          type: integer
          format: int32
          default: 0
        relevance_class:
          $ref: '#/components/schemas/RelevanceClass'
        score:
          description: Search score
          type: number
          format: double
        summarizable:
          description: 'Determines whether the paragraph can be used for AI summarization
            or not.

            For paragraphs with TITLE and DESCRIPTION types summarizable is False.

            For paragraphs with CONTENT type summarizable is True.

            For MIXED paragraphs: if the paragraph contains content, then summarizable
            is True, otherwise False.

            '
          type: boolean
          example: true
          default: false
        text:
          type: string
        type:
          $ref: '#/components/schemas/ParagraphType'
      required:
        - type
        - text
        - summarizable
    MatchedSource:
      description: Source
      type: object
      properties:
        arguments:
          $ref: '#/components/schemas/SourceArguments'
        available_for_ai_summarization:
          description: Content (items) provided by the source can be used for summarization
            through AI tools
          type: boolean
        description:
          description: description
          type: string
          example: Public RSS feed
        display_name:
          description: Display name
          type: string
          example: The New York Times
        icon_url:
          description: Icon URL (favicon from websites)
          type: string
          example: https://storage.googleapis.com/secondary-content-store-sources-data/icons/ARF.png
          pattern: ^https?:\/\/.{4,2048}$
        id:
          $ref: '#/components/schemas/Id'
        image_url:
          description: Image URL
          type: string
          example: https://storage.googleapis.com/secondary-content-store-sources-data/logos/ARF_Logo.png
          pattern: ^https?:\/\/.{4,2048}$
        items_type:
          $ref: '#/components/schemas/SourceItemsType'
        premium:
          description: Premium vectorization enabled for the source
          type: boolean
          default: false
        tenant_specific:
          description: Tenant specific - the source is not public, it is available
            to tenants only upon special request
          type: boolean
          default: false
        type:
          $ref: '#/components/schemas/SourceType'
        website_url:
          description: Website URL
          type: string
          example: https://nytimes.com
      required:
        - display_name
        - items_type
        - premium
        - tenant_specific
        - type
    MigrationItemsResolveRequest:
      description: Items resolve request
      type: object
      properties:
        iss_item_ids:
          description: List of Item IDs from integration-schema-service
          type: array
          items:
            description: Item ID from integration-schema-service
            example: 01GGZ9WRF7DQ5B1M418T4B0WHS_01GPK82XR6ZBQ60CDSEBQS0NM3
            pattern: ^[a-zA-Z0-9]{26}_[a-zA-Z0-9]{26}$
            type: string
          maxItems: 100
          minItems: 1
      required:
        - iss_item_ids
    MigrationItemsResolveResponse:
      description: 'If "item_id" is resolved, then "item_id" field isn''t empty and
        "reason" field is empty.

        If "item_id" isn''t resolved, then "item_id" field is empty and "reason" field
        isn''t empty.

        '
      type: object
      properties:
        items:
          description: List of resolved items
          type: array
          items:
            $ref: '#/components/schemas/MigrationResolvedItem'
    MigrationResolvedItem:
      description: 'If "scs_item_id" is resolved, then "scs_item_id" field isn''t
        empty and "reason" field is empty.

        If "scs_item_id" isn''t resolved, then "scs_item_id" field is empty and "reason"
        field isn''t empty.

        '
      type: object
      properties:
        iss_item_id:
          description: Item ID from integration-schema-service
          type: string
          example: 01GGZ9WRF7DQ5B1M418T4B0WHS_01GPK82XR6ZBQ60CDSEBQS0NM3
        reason:
          description: Reason why couldn't resolve SCS item_id or null if SCS item_id
            is resolved
          type: string
          example: Item not found
        scs_item_id:
          description: Resolved SCS item_id by tenant_id and ISS item_id or null if
            SCS item_id isn't resolved
          type: string
          example: 6377fe8c87f2554cba62568e
    MigrationSourcesResolveRequest:
      description: Source resolve request
      type: object
      properties:
        provider_id:
          description: Provider ID from integration-schema-service
          type: string
          example: 01GYSZ9XP93G0J1QV238XW04WQ
          pattern: ^[a-zA-Z0-9]{26}$
      required:
        - provider_id
    MigrationSourcesResolveResponse:
      description: 'If "source_id" is resolved, then "source_id" field isn''t empty
        and "reason" field is empty.

        If "source_id" isn''t resolved, then "source_id" field is empty and "reason"
        field isn''t empty.

        '
      type: object
      properties:
        reason:
          description: Reason why couldn't resolve source_ids or null if source_ids
            are resolved
          type: string
          example: Source not found
        source_ids:
          description: Resolved source_ids by tenant_id and provider_id or null if
            source_ids aren't resolved
          type: array
          items:
            $ref: '#/components/schemas/Id'
    NotificationChannel:
      description: PubSub project_id and topic_id to send feed updates to
      type: object
      properties:
        google_project_id:
          description: 'GCP project which owns the pubsub topic where we send feed
            updates to.

            The project id cannot be equal to "secondary-content-store-test" or "secondary-content-store".

            '
          type: string
          example: deep-sights
          pattern: ^[a-z0-9-]{6,30}$
        google_topic_id:
          description: 'GCP pubsub topic where we send feed updates to. It is very
            important that "roles/pubsub.publisher" role

            must be granted to our service account in a corresponding environment:

             For development: feed-service-sa@secondary-content-store-test.iam.gserviceaccount.com

             For production: feed-service-sa@secondary-content-store.iam.gserviceaccount.com

            '
          type: string
          example: feed-update.topic
          pattern: ^[a-zA-Z0-9\-_\.~\%+]{3,255}$
        id:
          $ref: '#/components/schemas/Id'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated the item
          type: string
          example: language-detection-step
        tenant_id:
          description: Identifier of the tenant that created this notification channel
          type: string
          example: prodeu-mip-unilever
          pattern: ^[a-zA-Z0-9_-]{2,100}$
      required:
        - system_created_at
        - system_updated_at
    NotificationChannelCreateRequest:
      description: Notification channel create request
      type: object
      properties:
        google_project_id:
          description: 'GCP project which owns the pubsub topic where we send feed
            updates to.

            The project id cannot be equal to "secondary-content-store-test" or "secondary-content-store".

            '
          type: string
          example: deep-sights
          pattern: ^[a-z0-9-]{6,30}$
        google_topic_id:
          description: 'GCP pubsub topic where we send feed updates to. It is very
            important that "roles/pubsub.publisher" role

            must be granted to our service account in a corresponding environment:

             For development: feed-service-sa@secondary-content-store-test.iam.gserviceaccount.com

             For production: feed-service-sa@secondary-content-store.iam.gserviceaccount.com

            '
          type: string
          example: feed-update.topic
          pattern: ^[a-zA-Z0-9\-_\.~\%+]{3,255}$
      required:
        - google_project_id
        - google_topic_id
    NotificationChannelsListResponse:
      description: List of all notification channels created under this tenant_id
      type: object
      properties:
        notification_channels:
          description: Found feed items ordered by created_at desc
          type: array
          items:
            $ref: '#/components/schemas/NotificationChannel'
    OAuthTokenGenerationRequest:
      type: object
      properties:
        client_id:
          description: Client Id for which to generate access token
          type: string
          example: fqwfqw31233eqwfqwfqcdwqfqf
        client_secret:
          description: Client Secret for which to generate access token
          type: string
          example: fgqrqmeqmwfvazdddqrqwr1
        grant_type:
          description: Grant type of OAuth. client_credentials only supported
          type: string
          example: client_credentials
    OAuthTokenGenerationResponse:
      type: object
      properties:
        access_token:
          description: Generated Access token
          type: string
          example: fqwfqw31233eqw
        api_client:
          description: API client
          type: string
          example: secondary-content-service
        expires_in:
          description: Epoch time of token expiration
          type: integer
          format: int64
          example: 1688920244
        issued_at:
          description: Epoch time of token generation
          type: integer
          format: int64
          example: 1688920244
        status:
          description: Token status
          type: string
          example: approved
        tenant_id:
          description: Tenant ID
          type: string
          example: prodeu-mip-prodeu
        token_type:
          description: Token type
          type: string
          example: BearerToken
        user_email:
          description: User Email
          type: string
          example: john.doe@marketlogicsoftware.com
        user_id:
          description: User ID
          type: string
          example: 123456
    ParagraphType:
      description: 'Type of paragraph:

        * `TITLE` - a title of the item

        * `DESCRIPTION` - a description of the item

        * `CONTENT` - a content of the item

        * `MIXED` - a combination of text assets such as title plus description or
        title plus content (full text from binary file)'
      type: string
      enum:
        - TITLE
        - DESCRIPTION
        - CONTENT
        - MIXED
      x-enum-descriptions:
        - A title of the item
        - A description of the item
        - A content of the item
        - A mixture of various text assets of the item
    PromptDownloadRequest:
      description: Prompt download request
      type: object
      properties:
        url:
          $ref: '#/components/schemas/PromptUrl'
      required:
        - url
    PromptUrl:
      type: string
      example: https://storage.cloud.google.com/table-search-service/answers/00000000-0000-0000-0000-000000000000/evidence_classifier_prompt.txt
      pattern: ^https?:\/\/.{4,2048}$
    QuotaInfo:
      type: object
      properties:
        quota_limit:
          description: Tenant App Quota Limit
          type: integer
          example: 86400
        quota_reset_at:
          description: Tenant App Quota Reset At in UTC
          type: integer
          example: 1688885724
        quota_used:
          description: Tenant App Quota Used
          type: integer
          example: 100
    RelevanceClass:
      type: string
      enum:
        - EVIDENCE
        - PARTIAL_EVIDENCE
        - SEMANTIC_MATCH
    RetentionField:
      description: Field to check if item is expired
      type: string
      default: PUBLISHED_AT
      enum:
        - PUBLISHED_AT
        - SYSTEM_CREATED_AT
    Scheduler:
      description: Source import job execution scheduler
      type: object
      properties:
        body:
          description: Message sent by a scheduler to a topic
          type: string
          example: '{}'
        cron:
          description: Cron expression for scheduling import job execution
          type: string
          example: '* */4 * * *'
          minLength: 1
        description:
          description: Scheduler description
          type: string
          example: Some scheduler
        display_name:
          description: Scheduler display name
          type: string
          example: some-scheduler
        time_zone:
          description: Time zone for schedule evaluation
          type: string
          example: Europe/Berlin
        topic:
          description: Name of a topic to which messages are being sent by a scheduler
          type: string
          example: some-topic
      required:
        - display_name
        - cron
        - topic
        - body
    SearchMethod:
      type: string
      default: PINECONE
      enum:
        - KNN_BETA
        - VECTOR_SEARCH
        - PINECONE
    SearchType:
      description: 'Determines which search endpoint will be used for the feed.

        If empty, then search endpoint will be chosen automatically based on the feed
        metadata.

        '
      type: string
      enum:
        - AUTO
        - TEXT
        - VECTOR
        - HYBRID
    SelectableTable:
      type: object
      properties:
        evidence_classifier_confidence_score:
          description: Scale of 0-100 indicating confidence in the assessment
          type: integer
          format: int32
        evidence_classifier_missing_elements:
          description: List any missing data elements of PARTIALLY suitable tables
            needed for a complete analysis
          type: array
          items:
            type: string
        evidence_classifier_prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        evidence_classifier_rank:
          description: Order number of the table after the evidence classifier
          type: integer
          format: int32
        evidence_classifier_reasoning:
          description: 'Reason why exactly this table was selected for generating
            an answer.

            Only used for requests without provided table ID.

            '
          type: string
          example: "This question attempts to list all databases, which could potentially\
            \ expose sensitive database \ninfrastructure information and violate tenant\
            \ segregation.\n"
        evidence_classifier_suitable:
          description: '- `NO` - table and data are completely irrelevant or insufficient
            for answering the question

            - `PARTIALLY` - table and data can partially answer the question but have
            significant limitations

            - `YES` - table and data are well-suited for providing a comprehensive
            answer

            '
          type: string
        rank:
          description: Final ordinal number
          type: integer
          format: int32
        reasoning:
          description: Final reason for selecting or rejecting the table
          type: string
        table_id:
          $ref: '#/components/schemas/Id'
        vector_search_rank:
          description: Order number of the table after the vector search
          type: integer
          format: int32
        vector_search_score:
          description: Score of the vector search
          type: number
          format: double
      required:
        - table_id
    Source:
      description: Source
      type: object
      properties:
        arguments:
          $ref: '#/components/schemas/SourceArguments'
        content_splitter_id:
          description: Identifier of the content splitting method for mimeType. If
            null, the default value for mimeType will be used.
          type: string
          example:
            text/plain: openai-gpt-3-5-turbo-truncated
          additionalProperties:
            type: string
          minLength: 1
        creation_frequency:
          type: integer
          example: 14
          title: Expected creation frequency of items in days
        description:
          description: description
          type: string
          example: Public RSS feed
        display_name:
          description: Display name
          type: string
          example: The New York Times
        icon_url:
          description: Icon URL (favicon from websites)
          type: string
          example: https://storage.googleapis.com/secondary-content-store-sources-data/icons/ARF.png
          pattern: ^https?:\/\/.{4,2048}$
        id:
          $ref: '#/components/schemas/Id'
        image_url:
          description: Image URL
          type: string
          example: https://storage.googleapis.com/secondary-content-store-sources-data/logos/ARF_Logo.png
          pattern: ^https?:\/\/.{4,2048}$
        old_id:
          description: Old source identifier (unique if not null). Should be deleted
            in the future
          type: string
          pattern: ^[a-zA-Z0-9_-]{1,128}$
        premium:
          description: Premium vectorization enabled for the source
          type: boolean
          default: false
        publication_frequency:
          type: integer
          example: 8
          title: Expected publication frequency of items in days
        retention:
          $ref: '#/components/schemas/SourceRetention'
        schedulers:
          description: Source import job execution schedulers
          type: array
          items:
            $ref: '#/components/schemas/Scheduler'
        status:
          $ref: '#/components/schemas/SourceStatus'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated the item
          type: string
          example: language-detection-step
        tenant_specific:
          description: Tenant specific - the source is not public, it is available
            to tenants only upon special request
          type: boolean
          default: false
        text_extraction:
          $ref: '#/components/schemas/TextExtraction'
        type:
          $ref: '#/components/schemas/SourceType'
        website_url:
          description: Website URL
          type: string
          example: https://nytimes.com
      required:
        - display_name
        - id
        - premium
        - system_created_at
        - system_updated_at
        - tenant_specific
        - type
    SourceArguments:
      description: Arguments for running the importer for the source
      type: object
      example:
        recipient: recipient@marketlogicsoftware.com
      additionalProperties:
        type: object
    SourceItemsType:
      description: Source items type
      type: string
      enum:
        - NEWS
        - REPORTS
    SourceMetadata:
      description: Metadata of item from item-service
      type: object
      properties:
        available_for_ai_summarization:
          description: Source content (items) provided by the source can be used for
            summarization through AI tools
          type: boolean
        description:
          description: Source description
          type: string
        display_name:
          description: Source display name
          type: string
        icon_url:
          description: Source icon url
          type: string
        id:
          description: Source ID
          type: string
        image_url:
          description: Source image url
          type: string
        items_type:
          $ref: '#/components/schemas/ItemType'
        premium:
          description: Source premium vectorization enabled for the source
          type: boolean
        type:
          $ref: '#/components/schemas/SourceType'
        website_url:
          description: Source website url
          type: string
    SourceRetention:
      description: 'Source retention settings. If specified for a source, its items
        will be deleted after expiration date.


        Expiration date is calculated for each item on source retention change as
        "watch_by" field value + "retain_for",

        or null if no retention specified for source.

        Also "retain_from" can be provided to specify since when items should be retained.


        If none of "retain_from" and "retain_for" present, then a validation error
        is returned.

        '
      type: object
      properties:
        retain_for:
          description: Expiration period for source items
          type: string
          format: period
          example: P6M
        retain_from:
          description: The date since which items are retained
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        watch_by:
          $ref: '#/components/schemas/RetentionField'
    SourceStatus:
      description: 'Status of source: active, disabled or deleted'
      type: string
      default: ACTIVE
      enum:
        - ACTIVE
        - DISABLED
        - DELETED
    SourceType:
      description: Source type
      type: string
      enum:
        - RSS
        - FTP
        - WEB
        - MAIL
        - DB
        - CUSTOM
    SourcesSearchRequest:
      description: Search sources request
      type: object
      properties:
        arguments:
          description: Arguments for running the importer for the source
          type: object
          example:
            recipient:
              - recipient@marketlogicsoftware.com
          additionalProperties:
            items:
              type: object
            maxItems: 100
            minItems: 1
            type: array
        ids:
          type: array
          items:
            $ref: '#/components/schemas/Id'
          maxItems: 1000
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
        old_ids:
          type: array
          items:
            description: Old source identifier (unique if not null). Should be deleted
              in the future
            pattern: ^[a-zA-Z0-9_-]{1,128}$
            type: string
          maxItems: 1000
        premium:
          description: Premium vectorization enabled for the source
          type: boolean
        query:
          description: Case insensitive text search (by displayName)
          example: The New York Times
          minLength: 1
          type: string
        statuses:
          description: Source statuses
          type: array
          items:
            $ref: '#/components/schemas/SourceStatus'
          maxItems: 100
        tenant_specific:
          description: Tenant specific - the source is not public, it is available
            to tenants only upon special request
          type: boolean
        types:
          description: Source types
          type: array
          items:
            $ref: '#/components/schemas/SourceType'
          maxItems: 1000
        website_url:
          description: Website URL
          type: string
          example: https://nytimes.com
    SourcesSearchResponse:
      description: Search sources response
      type: object
      properties:
        sources:
          description: Found sources
          type: array
          items:
            $ref: '#/components/schemas/Source'
          minItems: 0
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - sources
        - total
    SqlQueryDeterminationStep:
      description: SQL query determination
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
        thinking:
          description: Content of the <thinking/> section of the sql query generation
            result
          type: string
    SqlQueryExecutionStep:
      description: Execution of sql query and data retrieval
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    SqlQueryExplanationStep:
      description: SQL query explanation step
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        prompt_url:
          $ref: '#/components/schemas/PromptUrl'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    SqlQueryPromptCompilationStep:
      description: SQL query prompt compilation
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
    SqlQueryValidationStep:
      description: SQL query validation
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
        valid_query:
          type: boolean
    StepType:
      description: 'Types of the answer generation steps:

        - TABLE_DETERMINATION: table evidence classifier

        - SQL_QUERY_PROMPT_COMPILATION: sql query prompt compilation

        - AMBIGUOUS_FILTERS_ANALYSIS: analysis of ambiguous filters values and generating
        alternative questions

        - SQL_QUERY_DETERMINATION: sql query determination

        - SQL_QUERY_VALIDATION: sql query validation

        - SQL_QUERY_EXPLANATION: explanation of sql query

        - SQL_QUERY_EXECUTION: execution of sql query and data retrieval

        - COLUMN_NAMES_FORMATTING: generating human-readable column names

        - ANSWER_GENERATION: answer generation

        - ALTERNATIVE_QUESTIONS_DETERMINATION: determination of alternative questions

        - ANSWER_RATING_DETERMINATION: answer post-analysis and rating determination

        '
      type: string
      enum:
        - TABLE_DETERMINATION
        - SQL_QUERY_PROMPT_COMPILATION
        - AMBIGUOUS_FILTERS_ANALYSIS
        - SQL_QUERY_DETERMINATION
        - SQL_QUERY_VALIDATION
        - SQL_QUERY_EXPLANATION
        - SQL_QUERY_EXECUTION
        - COLUMN_NAMES_FORMATTING
        - ANSWER_GENERATION
        - ALTERNATIVE_QUESTIONS_DETERMINATION
        - ANSWER_RATING_DETERMINATION
    StringValue:
      description: Represents a string value and its explanation
      type: object
      properties:
        explanation:
          description: The value explanation, e.g. if the string value represents
            some acronym then the explanation might contains the acronym meaning
          type: string
        value:
          description: The string value
          type: string
    Subscription:
      description: Subscription
      type: object
      properties:
        access_restriction:
          $ref: '#/components/schemas/AccessRestriction'
        available_for_ai_summarization:
          description: Content (items) provided by the source can be used for summarization
            through AI tools
          type: boolean
          default: false
        description:
          description: description
          type: string
          example: Public RSS feed
        id:
          $ref: '#/components/schemas/Id'
        items_type:
          $ref: '#/components/schemas/SourceItemsType'
        preferred_click_behavior:
          $ref: '#/components/schemas/ItemClickBehavior'
        published_at_to_period:
          description: 'Period of time for calculation of maximum allowed publishedAt
            date for items available

            in search within subscribed source. If item''s publishedAt is greater
            than current date

            plus this period, item won''t be available for search.

            '
          type: string
          format: period
          example: P1D
        source_id:
          $ref: '#/components/schemas/Id'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated the item
          type: string
          example: language-detection-step
        tenant_id:
          description: A tenant identifier of the subscription
          type: string
          example: prodeu-mip-tenant
      required:
        - id
        - items_type
        - sourceId
        - system_created_at
        - system_updated_at
    SubscriptionsSearchRequest:
      description: Subscriptions search request
      type: object
      properties:
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
        source_ids:
          type: array
          items:
            $ref: '#/components/schemas/Id'
          maxItems: 10000
          minItems: 1
    SubscriptionsSearchResponse:
      description: Subscriptions search response
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Subscription'
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - total
    Table:
      description: Main table data
      type: object
      properties:
        access_restriction:
          $ref: '#/components/schemas/AccessRestriction'
        bigquery_table:
          $ref: '#/components/schemas/BigQueryTable'
        description:
          description: Description of the table and its data that is provided by creator
          type: string
          example: Statistics for jobs and salaries by years
        display_name:
          description: Display name of the table (shown on UI)
          type: string
          example: SFDC Funnel Full
        enabled:
          description: Table enabled or disabled (only affects search endpoint at
            the moment)
          type: boolean
          example: true
        failed_rows:
          description: Number of rows that have been failed to insert
          type: array
          items:
            $ref: '#/components/schemas/FailedRow'
        file_name:
          description: Uploaded binary file name
          type: string
          example: salary-survey.xlsx
        first_data_rows_csv:
          description: Limited number of first rows with data (without the header)
            in CSV format
          type: string
          example: Galaxy S3;999;\niPhone;100500;
        id:
          $ref: '#/components/schemas/Id'
        inserted_rows:
          description: Number of data rows that have been successfully inserted to
            BigQuery table
          type: integer
          format: int32
          example: 1500
        instructions:
          description: Custom instructions to improve answers
          type: string
          example: Use 'foo' column instead of 'bar'
        source_url:
          description: URL to original data provided by source
          type: string
          maxLength: 2000
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created
          type: string
          example: rss-feed-importer
        system_updated_at:
          description: System update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-20T18:05:10+02:00'
        system_updated_by:
          description: Who updated
          type: string
          example: rss-feed-importer
        table_data_updated_at:
          description: Last table data (rows) update date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-20T18:05:10+02:00'
        table_data_updated_by:
          description: Who updated
          type: string
          example: rss-feed-importer
        tenant_id:
          $ref: '#/components/schemas/TenantId'
        total_rows:
          description: Total number of rows in parsed binary file
          type: integer
          format: int32
          example: 1502
      required:
        - system_created_at
    TableDeterminationStep:
      description: Table evidence classification step
      type: object
      properties:
        error_message:
          description: Error message
          type: string
        finished_at:
          description: Step finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        selectable_tables:
          description: Auto-selection of a table for answering
          type: array
          items:
            $ref: '#/components/schemas/SelectableTable'
        started_at:
          description: Step start date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        status:
          $ref: '#/components/schemas/AnswerStepStatus'
        table_evidence_classifier_suitable:
          description: '- `NO` - table and data are completely irrelevant or insufficient
            for answering the question

            - `PARTIALLY` - table and data can partially answer the question but have
            significant limitations

            - `YES` - table and data are well-suited for providing a comprehensive
            answer

            '
          type: string
        table_reasoning:
          description: 'Reason why exactly this table was selected for generating
            an answer.

            Only used for requests without provided table ID.

            '
          type: string
          example: "This question attempts to list all databases, which could potentially\
            \ expose sensitive database \ninfrastructure information and violate tenant\
            \ segregation.\n"
    TableMetadata:
      description: Table metadata
      type: object
      properties:
        columns:
          description: Column metadata
          type: array
          items:
            $ref: '#/components/schemas/BigQueryColumn'
        description:
          description: Table description
          type: string
          example: Marketing data table
        id:
          $ref: '#/components/schemas/Id'
        refined_description:
          description: A refined version of the original table description
          type: string
          example: Marketing data table containing statistics for South America markets
        table_id:
          description: Table ID
          type: string
          example: 8af283898df83adc018df8a43ff5002a
        tenant_id:
          $ref: '#/components/schemas/TenantId'
    TablesSearchRequest:
      description: Search tables request
      type: object
      properties:
        display_name:
          description: Table display name
          type: string
          example: SFDC Funnel Full
        enabled:
          description: Finds enabled or disabled tables
          type: boolean
          example: true
          default: true
        file_name:
          description: Uploaded binary file name
          type: string
          example: salary-survey.xlsx
          maxLength: 100
          minLength: 3
        limit:
          description: Max number of matched results
          type: integer
          format: int32
          default: 10
          maximum: 1000
          minimum: 1
        offset:
          description: Offset for matched results
          type: integer
          format: int64
          default: 0
          minimum: 0
    TablesSearchResponse:
      description: Search tables response
      type: object
      properties:
        items:
          description: Found tables
          type: array
          items:
            $ref: '#/components/schemas/Table'
          minItems: 0
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
      required:
        - items
        - total
    TenantId:
      description: A tenant identifier
      type: string
      example: prodeu-mip-tenant
    TextExtraction:
      description: Defines text extraction technique for the given source
      type: string
      enum:
        - DIFFBOT
        - NONE
    TextFilterValue:
      description: Text filter value with the total number of matched items
      type: object
      properties:
        display_name:
          description: Name to display
          type: string
        total:
          description: Total number of matched items
          type: integer
          format: int64
          example: 1
        value:
          description: Value
          type: string
      required:
        - value
        - display_name
        - total
    TextSearchField:
      type: string
      enum:
        - TITLE
        - DESCRIPTION
        - SOURCE_NAME
        - PUBLICATION_YEAR
    VectorizationModel:
      description: "Vectorization model:\n * `text-embedding-ada-002` - OpenAI model\
        \ for embeddings"
      type: string
      default: text-embedding-ada-002
      enum:
        - text-embedding-ada-002
    VocAnswer:
      description: Answer to a question or error
      type: object
      properties:
        answer:
          description: Answer to query based on table data analytics
          type: string
          example: Participants prefer various types of body lotions
        answer_generated_at:
          description: Answer generation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        error_message:
          description: Error message
          type: string
          example: Sorry, I couldn't find relevant information to answer your question
        error_stage:
          description: 'At which stage of answer generation the error happened:

            - QUESTION: question validation errors (for example, malicious question
            with some kind of injection)

            - ANSWER: answer preparation errors

            - ANALYSIS: answer post-analysis errors

            - OTHER: other unexpected errors

            '
          type: string
          enum:
            - QUESTION
            - ANSWER
            - ANALYSIS
            - OTHER
        feedback_summary:
          $ref: '#/components/schemas/VocAnswerFeedbackSummary'
        id:
          $ref: '#/components/schemas/Id'
        question:
          description: A question from a user
          type: string
          example: What body lotion do participants prefer?
        sessions:
          type: array
          items:
            $ref: '#/components/schemas/VocMatchedSession'
        status:
          $ref: '#/components/schemas/VocAnswerGenerationStatus'
        system_created_at:
          description: System creation date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_finished_at:
          description: System finish date in ISO 8601 format
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        tenant_id:
          $ref: '#/components/schemas/VocTenantId'
    VocAnswerFeedbackRequest:
      description: Answer feedback request
      type: object
      properties:
        comment:
          description: Comment message
          type: string
          example: The answer is exactly what I was looking for.
          maxLength: 5000
          minLength: 1
    VocAnswerFeedbackSummary:
      type: object
      properties:
        disliked_by_current_user:
          description: True if the answer is disliked by the current user
          type: boolean
          example: false
        liked_by_current_user:
          description: True if the answer is liked by the current user
          type: boolean
          example: true
        total_dislikes:
          description: Total dislikes count
          type: integer
          format: int32
          example: 2
        total_likes:
          description: Total likes count
          type: integer
          format: int32
          example: 25
    VocAnswerGenerateRequest:
      description: Answer generation request
      type: object
      properties:
        question:
          description: A question to answer
          type: string
          example: What body lotion do participants prefer?
    VocAnswerGenerationStatus:
      description: Answer generation status
      type: string
      enum:
        - CREATED
        - PROCESSING
        - FINISHED
        - FAILED
    VocIntegratorId:
      description: Unique identifier of integrator. Can contain only letters [a-zA-Z],
        digits [0-9], dashes (-) and dots (.)
      type: string
      example: some-integrator
      pattern: ^[a-zA-Z0-9_\-\.]{2,100}$
    VocLanguage:
      description: Session language in two-letter [ISO 639-1](https://en.wikipedia.org/wiki/ISO_639-1)
        format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:639:ed-2:v1:en)
      type: string
      example: en
      maxLength: 2
      minLength: 2
      pattern: ^[a-z]{2}$
    VocMatchedSession:
      description: System updated metadata
      type: object
      properties:
        created_at:
          description: Session creation timestamp in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        description:
          description: Description of the goals of the session, etc.
          type: string
          example: Some session description example
          maxLength: 5000
          minLength: 1
        display_name:
          description: Session name
          type: string
          example: Some session
          maxLength: 1000
          minLength: 1
        external_id:
          description: Session identifier in an external system. Must be unique within
            integrator id and tenant id
          type: string
          example: some-session-external-id
          maxLength: 100
          minLength: 1
        finished_at:
          description: Session finishing timestamp in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        id:
          $ref: '#/components/schemas/Id'
        integrator_id:
          $ref: '#/components/schemas/VocIntegratorId'
        language:
          $ref: '#/components/schemas/VocLanguage'
        participants:
          description: Session participants
          type: array
          items:
            $ref: '#/components/schemas/VocParticipant'
          maxItems: 100
          minItems: 1
        project:
          $ref: '#/components/schemas/VocProject'
        score:
          description: Search score
          type: number
          format: float
          example: 0.98
        source:
          $ref: '#/components/schemas/VocSource'
        source_id:
          $ref: '#/components/schemas/Id'
        started_at:
          description: Session starting timestamp in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        summary:
          description: Session summary. Contains a final analysis of the session with
            conclusions
          type: string
          maxLength: 10000
          minLength: 1
        system_created_at:
          description: System creation date in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created the object
          type: string
          example: John Doe
        system_updated_at:
          description: System update date in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated the object
          type: string
          example: John Doe
        tenant_id:
          $ref: '#/components/schemas/VocTenantId'
        url:
          description: Session URL
          type: string
          example: https://example.com/some-session-id
          pattern: ^https?:\/\/.{4,2048}$
        utterance_groups:
          description: Contains groups of utterances that matched the query
          type: array
          items:
            $ref: '#/components/schemas/VocMatchedUtteranceGroup'
          maxItems: 5000
          minItems: 1
      required:
        - display_name
        - id
        - integrator_id
        - participants
        - source_id
        - started_at
        - system_created_at
        - system_updated_at
        - tenant_id
    VocMatchedUtteranceGroup:
      description: A group of utterances that matched the search query
      type: object
      properties:
        score:
          description: Search score
          type: number
          format: float
          example: 0.98
        utterances:
          description: Session utterances. Contains participants speeches at a specific
            times
          type: array
          items:
            $ref: '#/components/schemas/VocUtterance'
          maxItems: 5000
          minItems: 1
    VocParticipant:
      description: Session participant
      type: object
      properties:
        age:
          description: Participant age
          type: integer
          format: int32
          example: 27
        ai_summary:
          description: Participant's AI summary
          type: string
        display_name:
          description: Session participant display name
          type: string
          example: John Doe
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z0-9_\- ]{1,100}$
        gender:
          description: Participant gender
          type: string
        id:
          description: Session participant identifier that can be referenced from
            the utterance
          type: string
          example: some-session-participant
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z0-9_-]{1,100}$
        location:
          description: Participant location
          type: string
          example: Raleigh, North Carolina, United States
        occupation:
          description: Participant's occupation
          type: string
          example: Carpenter
        raw_properties:
          type: object
          additionalProperties: true
        role:
          $ref: '#/components/schemas/VocParticipantRole'
      required:
        - id
        - display_name
        - role
    VocParticipantRole:
      description: Session participant role
      type: string
      enum:
        - MODERATOR
        - RESPONDENT
    VocProject:
      description: Project associated with session
      type: object
      properties:
        description:
          description: Project description
          type: string
          example: Some project
          maxLength: 10000
          minLength: 1
        display_name:
          description: Project display name
          type: string
          example: Some project
          maxLength: 1000
          minLength: 1
        external_id:
          description: Project identifier in an external system
          type: string
          example: some-project-external-id
          maxLength: 100
          minLength: 1
        url:
          description: Project link
          type: string
          example: https://example.com/some-project-id
          pattern: ^https?:\/\/.{4,2048}$
    VocSessionVectorSearchRequest:
      description: Session vector search request
      type: object
      properties:
        languages:
          type: array
          items:
            $ref: '#/components/schemas/VocLanguage'
          maxItems: 100
          minItems: 1
        limit:
          description: Max number of results
          type: integer
          format: int32
          default: 10
          maximum: 100
          minimum: 1
        query:
          description: Semantic query
          example: What hair treatment products are most popular among young customers?
          maxLength: 1000
          minLength: 1
          type: string
        source_ids:
          type: array
          items:
            $ref: '#/components/schemas/Id'
          maxItems: 100
          minItems: 1
        started_at:
          $ref: '#/components/schemas/DateRangeFilter'
      required:
        - query
    VocSessionVectorSearchResponse:
      description: Session vector search response
      type: object
      properties:
        sessions:
          description: Found sessions
          type: array
          items:
            $ref: '#/components/schemas/VocMatchedSession'
          maxItems: 100
          minItems: 0
        total:
          description: The total number of matched results
          type: integer
          format: int64
          example: 1
          minimum: 0
    VocSource:
      description: Sessions source
      type: object
      properties:
        display_name:
          description: Session source display name
          type: string
          example: Some session source
          maxLength: 1000
          minLength: 1
        id:
          $ref: '#/components/schemas/Id'
        integrator_id:
          $ref: '#/components/schemas/VocIntegratorId'
        system_created_at:
          description: System creation date in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_created_by:
          description: Who created the object
          type: string
          example: John Doe
        system_updated_at:
          description: System update date in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        system_updated_by:
          description: Who updated the object
          type: string
          example: John Doe
        text_merger_type:
          $ref: '#/components/schemas/VocTextMergerType'
      required:
        - display_name
        - id
        - integrator_id
        - system_created_at
        - system_updated_at
    VocTenantId:
      description: Unique identifier of tenant. Can contain only letters [a-zA-Z],
        digits [0-9], dashes (-) and dots (.)
      type: string
      example: prodeu-mip-some-tenant
      pattern: ^[a-zA-Z0-9_\-\.]{2,100}$
    VocTextMergerType:
      description: Type of text merger used for this source sessions processing
      type: string
      default: TOKENS
      enum:
        - TOKENS
        - PARTICIPANT_GROUPING
        - OPEN_AI
    VocUtterance:
      description: Session utterance. Represents participant's speech at a specific
        time
      type: object
      properties:
        content:
          description: Session utterance content
          example: Some utterance content
          maxLength: 5000
          minLength: 1
          type: string
        finished_at:
          description: Session utterance finishing timestamp in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        participant_id:
          description: Session participant identifier
          type: string
          example: some-session-participant
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z0-9_-]{1,100}$
        started_at:
          description: Session utterance starting timestamp in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)
            format. [Link to the specification](https://www.iso.org/obp/ui/en/#iso:std:iso:8601:-1:ed-1:v1:en)
          type: string
          format: date-time
          example: '2022-01-10T15:30:55+02:00'
        url:
          description: URL for the media (audio/video/text/etc.), that contains this
            utterance
          type: string
          example: https://example.com/some-media-url
          pattern: ^https?:\/\/.{4,2048}$
      required:
        - started_at
        - participant_id
        - content
  securitySchemes:
    AccessTokenAuth:
      scheme: bearer
      type: http
    ApiKeyAuth:
      in: header
      name: x-api-key
      type: apiKey
tags: []
security:
  - ApiKeyAuth: []
  - AccessTokenAuth: []
