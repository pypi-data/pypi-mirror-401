spec is "1.0"

record "Customer":
  fields:
    name is text must be present
    email is text must match pattern ".+@.+"
    plan is text must be present
    age is number must be greater than 17

flow "seed_customers":
  set state.customer with:
    name is "Alice"
    email is "alice@example.com"
    plan is "Starter"
    age is 21
  create "Customer" with state.customer as customer
  set state.customer with:
    name is "Bob"
    email is "bob@example.com"
    plan is "Pro"
    age is 30
  create "Customer" with state.customer as customer
  return "seeded"

flow "hello":
  return "Hello from {{PROJECT_NAME}}"

page "home":
  title is "{{PROJECT_NAME}} Dashboard"
  text is "Add customers and view them below."
  button "Seed demo data":
    calls flow "seed_customers"
  form is "Customer"
  table is "Customer"
