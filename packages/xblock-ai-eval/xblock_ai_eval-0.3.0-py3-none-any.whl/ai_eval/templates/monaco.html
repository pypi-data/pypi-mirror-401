<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Monaco Editor</title>
</head>
<body style="margin: 0;">
  <div class="monaco" style="width: 100vw; height: 100vh;"></div>
  <script type="module">
    import * as monaco from "https://cdn.jsdelivr.net/npm/monaco-editor@0.49.0/+esm";

    const container = document.querySelector(".monaco");
    container.setAttribute("role", "presentation");

    window.editor = monaco.editor.create(container, {
      language: "{{ monaco_language }}",
      minimap: { enabled: false },
      lineNumbersMinChars: 2,
      folding: false,
      automaticLayout: true,
      accessibilitySupport: "on",
      ariaLabel: "Code editor. Press Alt plus F1 for accessibility help."
    });

    monaco.editor.setTabFocusMode(true);

    document.addEventListener("keydown", (event) => {
      if (event.key === "F1" && event.altKey) {
        event.preventDefault();
        window.editor.trigger("keyboard", "editor.action.accessibilityHelp", null);
      }
    });

    window.parent.postMessage('__USAGE_ID_PLACEHOLDER__', '*');
  </script>
</body>
</html>
