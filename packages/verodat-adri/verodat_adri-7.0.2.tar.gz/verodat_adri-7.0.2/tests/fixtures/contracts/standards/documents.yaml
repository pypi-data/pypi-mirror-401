contracts:
  id: documents_standard
  name: Documents ADRI Standard
  version: 1.0.0
  authority: ADRI Framework
  description: Auto-generated standard for documents data
record_identification:
  primary_key_fields:
  - id
  strategy: primary_key_with_fallback
requirements:
  overall_minimum: 75.0
  field_requirements:
    id:
      type: string
      nullable: false
      min_length: 7
      max_length: 7
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: id must not be empty
      - name: id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: id must be of type string
      - name: id length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 7 AND LENGTH <= 7
        error_message: id length must be between 7 and 7
      - name: id pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'id must match pattern: ^[A-Za-z0-9\-_]+$'
    text:
      type: string
      nullable: false
      allowed_values:
      - Customer reported login issue with mobile app version 2.1.3. Unable to authenticate
        using email/password combination. Issue occurs on iOS devices only.
      - 'Feature request: Add bulk export functionality for user data. Customers need
        ability to export all conversation history as CSV or JSON format.'
      - 'Knowledge base article: How to integrate ADRI with LangChain. Step-by-step
        guide for adding @adri_protected decorator to LangChain tools and chains.'
      - 'Bug report: Data validation fails on empty string fields. When optional field
        contains empty string instead of null, validator incorrectly flags as invalid.'
      - 'Product update announcement: ADRI v5.0.0 released with environment-based
        standards, workflow orchestration, and enhanced CLI tools. Breaking change:
        standard parameter now required.'
      min_length: 142
      max_length: 181
      validation_rules:
      - name: text is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: text must not be empty
      - name: text type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: text must be of type string
      - name: text must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: 'VALUE_IN([''Customer reported login issue with mobile app
          version 2.1.3. Unable to authenticate using email/password combination.
          Issue occurs on iOS devices only.'', ''Feature request: Add bulk export
          functionality for user data. Customers need ability to export all conversation
          history as CSV or JSON format.'', ''Knowledge base article: How to integrate
          ADRI with LangChain. Step-by-step guide for adding @adri_protected decorator
          to LangChain tools and chains.'', ''Bug report: Data validation fails on
          empty string fields. When optional field contains empty string instead of
          null, validator incorrectly flags as invalid.'', ''Product update announcement:
          ADRI v5.0.0 released with environment-based standards, workflow orchestration,
          and enhanced CLI tools. Breaking change: standard parameter now required.''])'
        error_message: 'text must be one of: Customer reported login issue with mobile
          app version 2.1.3. Unable to authenticate using email/password combination.
          Issue occurs on iOS devices only., Feature request: Add bulk export functionality
          for user data. Customers need ability to export all conversation history
          as CSV or JSON format., Knowledge base article: How to integrate ADRI with
          LangChain. Step-by-step guide for adding @adri_protected decorator to LangChain
          tools and chains., Bug report: Data validation fails on empty string fields.
          When optional field contains empty string instead of null, validator incorrectly
          flags as invalid., Product update announcement: ADRI v5.0.0 released with
          environment-based standards, workflow orchestration, and enhanced CLI tools.
          Breaking change: standard parameter now required.'
      - name: text length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 142 AND LENGTH <= 181
        error_message: text length must be between 142 and 181
    metadata:
      type: string
      nullable: false
      allowed_values:
      - '{"category": "technical", "customer_tier": "premium", "date_created": "2024-10-15T14:30:00Z",
        "priority": "high", "source": "support_ticket", "subcategory": "authentication",
        "ticket_id": "TKT-2024-001"}'
      - '{"category": "product", "customer_tier": "enterprise", "date_created": "2024-10-14T09:15:00Z",
        "priority": "medium", "source": "feature_request", "subcategory": "data_export",
        "ticket_id": "FR-2024-042"}'
      - '{"article_id": "KB-123", "category": "documentation", "date_created": "2024-10-10T16:45:00Z",
        "helpful_votes": 28, "priority": "low", "source": "knowledge_base", "subcategory":
        "integration", "views": 342}'
      - '{"category": "technical", "date_created": "2024-10-16T11:20:00Z", "priority":
        "medium", "reproducible": true, "severity": "medium", "source": "bug_report",
        "subcategory": "validation", "ticket_id": "BUG-2024-087"}'
      - '{"announcement_id": "ANN-2024-10", "category": "product", "date_created":
        "2024-10-17T08:00:00Z", "priority": "high", "source": "announcement", "subcategory":
        "release", "version": "5.0.0"}'
      min_length: 189
      max_length: 213
      validation_rules:
      - name: metadata is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: metadata must not be empty
      - name: metadata type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: metadata must be of type string
      - name: metadata must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: 'VALUE_IN([''{"category": "technical", "customer_tier": "premium",
          "date_created": "2024-10-15T14:30:00Z", "priority": "high", "source": "support_ticket",
          "subcategory": "authentication", "ticket_id": "TKT-2024-001"}'', ''{"category":
          "product", "customer_tier": "enterprise", "date_created": "2024-10-14T09:15:00Z",
          "priority": "medium", "source": "feature_request", "subcategory": "data_export",
          "ticket_id": "FR-2024-042"}'', ''{"article_id": "KB-123", "category": "documentation",
          "date_created": "2024-10-10T16:45:00Z", "helpful_votes": 28, "priority":
          "low", "source": "knowledge_base", "subcategory": "integration", "views":
          342}'', ''{"category": "technical", "date_created": "2024-10-16T11:20:00Z",
          "priority": "medium", "reproducible": true, "severity": "medium", "source":
          "bug_report", "subcategory": "validation", "ticket_id": "BUG-2024-087"}'',
          ''{"announcement_id": "ANN-2024-10", "category": "product", "date_created":
          "2024-10-17T08:00:00Z", "priority": "high", "source": "announcement", "subcategory":
          "release", "version": "5.0.0"}''])'
        error_message: 'metadata must be one of: {"category": "technical", "customer_tier":
          "premium", "date_created": "2024-10-15T14:30:00Z", "priority": "high", "source":
          "support_ticket", "subcategory": "authentication", "ticket_id": "TKT-2024-001"},
          {"category": "product", "customer_tier": "enterprise", "date_created": "2024-10-14T09:15:00Z",
          "priority": "medium", "source": "feature_request", "subcategory": "data_export",
          "ticket_id": "FR-2024-042"}, {"article_id": "KB-123", "category": "documentation",
          "date_created": "2024-10-10T16:45:00Z", "helpful_votes": 28, "priority":
          "low", "source": "knowledge_base", "subcategory": "integration", "views":
          342}, {"category": "technical", "date_created": "2024-10-16T11:20:00Z",
          "priority": "medium", "reproducible": true, "severity": "medium", "source":
          "bug_report", "subcategory": "validation", "ticket_id": "BUG-2024-087"},
          {"announcement_id": "ANN-2024-10", "category": "product", "date_created":
          "2024-10-17T08:00:00Z", "priority": "high", "source": "announcement", "subcategory":
          "release", "version": "5.0.0"}'
      - name: metadata length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 189 AND LENGTH <= 213
        error_message: metadata length must be between 189 and 213
    document_type:
      type: string
      nullable: false
      allowed_values:
      - support_ticket
      - feature_request
      - kb_article
      - bug_report
      - announcement
      min_length: 10
      max_length: 15
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: document_type is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: document_type must not be empty
      - name: document_type type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: document_type must be of type string
      - name: document_type must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['support_ticket', 'feature_request', 'kb_article',
          'bug_report', 'announcement'])
        error_message: 'document_type must be one of: support_ticket, feature_request,
          kb_article, bug_report, announcement'
      - name: document_type length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 10 AND LENGTH <= 15
        error_message: document_type length must be between 10 and 15
      - name: document_type pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'document_type must match pattern: ^[A-Za-z0-9\-_]+$'
  dimension_requirements:
    validity:
      minimum_score: 15.0
      weight: 1.0
      scoring:
        rule_weights:
          type: 0.3076923076923077
          length_bounds: 0.3076923076923077
          pattern: 0.15384615384615385
          allowed_values: 0.23076923076923078
        field_overrides: {}
    completeness:
      minimum_score: 15.0
      weight: 1.0
      scoring:
        rule_weights:
          missing_required: 0.2
          not_null: 0.8
        field_overrides: {}
    consistency:
      minimum_score: 12.0
      weight: 1.0
      scoring:
        rule_weights:
          primary_key_uniqueness: 0.3333333333333333
          format_consistency: 0.3333333333333333
          cross_field_logic: 0.3333333333333333
        field_overrides: {}
    freshness:
      minimum_score: 15.0
      weight: 1.0
      scoring:
        rule_weights:
          recency_window: 0.0
        field_overrides: {}
    plausibility:
      minimum_score: 12.0
      weight: 1.0
      scoring:
        rule_weights: {}
        field_overrides: {}
metadata:
  explanations_note: Explanations are for human review; only requirements.field_requirements
    are enforced.
  explanations_glossary:
    iqr: 'Interquartile Range (Q3 - Q1): a robust measure of spread, less sensitive
      to outliers.'
    q1: 25th percentile of the training values.
    q3: 75th percentile of the training values.
    coverage: Share of non-null training values that satisfy the rule.
    unique_count: Number of distinct non-null values observed in training.
    mad: 'Median Absolute Deviation: robust measure of variability around the median.'
    quantile: Statistical measure dividing data into equal-sized intervals.
    training_pass: Guarantee that generated rules pass on the training data used for
      generation.
    enum_strategy: Method used for allowed values inference (coverage or tolerant).
    margin_days: Buffer added to date ranges to allow for reasonable variations.
  explanations:
    id:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 5
      length_bounds:
        active_min: 7
        active_max: 7
        stats:
          observed_min: 7
          observed_max: 7
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
    text:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 5
      allowed_values:
        values:
        - Customer reported login issue with mobile app version 2.1.3. Unable to authenticate
          using email/password combination. Issue occurs on iOS devices only.
        - 'Feature request: Add bulk export functionality for user data. Customers
          need ability to export all conversation history as CSV or JSON format.'
        - 'Knowledge base article: How to integrate ADRI with LangChain. Step-by-step
          guide for adding @adri_protected decorator to LangChain tools and chains.'
        - 'Bug report: Data validation fails on empty string fields. When optional
          field contains empty string instead of null, validator incorrectly flags
          as invalid.'
        - 'Product update announcement: ADRI v5.0.0 released with environment-based
          standards, workflow orchestration, and enhanced CLI tools. Breaking change:
          standard parameter now required.'
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 5
          strategy: coverage
      length_bounds:
        active_min: 142
        active_max: 181
        stats:
          observed_min: 142
          observed_max: 181
    metadata:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 5
      allowed_values:
        values:
        - '{"category": "technical", "customer_tier": "premium", "date_created": "2024-10-15T14:30:00Z",
          "priority": "high", "source": "support_ticket", "subcategory": "authentication",
          "ticket_id": "TKT-2024-001"}'
        - '{"category": "product", "customer_tier": "enterprise", "date_created":
          "2024-10-14T09:15:00Z", "priority": "medium", "source": "feature_request",
          "subcategory": "data_export", "ticket_id": "FR-2024-042"}'
        - '{"article_id": "KB-123", "category": "documentation", "date_created": "2024-10-10T16:45:00Z",
          "helpful_votes": 28, "priority": "low", "source": "knowledge_base", "subcategory":
          "integration", "views": 342}'
        - '{"category": "technical", "date_created": "2024-10-16T11:20:00Z", "priority":
          "medium", "reproducible": true, "severity": "medium", "source": "bug_report",
          "subcategory": "validation", "ticket_id": "BUG-2024-087"}'
        - '{"announcement_id": "ANN-2024-10", "category": "product", "date_created":
          "2024-10-17T08:00:00Z", "priority": "high", "source": "announcement", "subcategory":
          "release", "version": "5.0.0"}'
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 5
          strategy: coverage
      length_bounds:
        active_min: 189
        active_max: 213
        stats:
          observed_min: 189
          observed_max: 213
    document_type:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 5
      allowed_values:
        values:
        - support_ticket
        - feature_request
        - kb_article
        - bug_report
        - announcement
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 5
          strategy: coverage
      length_bounds:
        active_min: 10
        active_max: 15
        stats:
          observed_min: 10
          observed_max: 15
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
  freshness_scaffolding: '# freshness:

    #   as_of: 2025-10-22T12:38:13.495447Z

    #   window_days: 365

    #   date_field: <your_date_field>

    #   how_to_enable: set requirements.dimension_requirements.freshness.scoring.rule_weights.recency_window
    to 1.0

    '
  plausibility_templates: '# plausibility:

    #   scoring:

    #     rule_weights:

    #       numeric_sigma: 1.0      # enable if not overlapping with validity numeric_bounds

    #       categorical_tail: 1.0   # enable to flag rare categories

    #   notes: "Disabled by default to avoid overlap with Validity. Review before
    enabling."

    '
