contracts:
  id: ADRI_dimension_scores
  name: ADRI Dimension Scores Standard
  version: 1.0.0
  authority: ADRI Framework
  description: Standard for validating ADRI dimension score audit log JSONL structure
record_identification:
  primary_key_fields:
  - assessment_id
  - dimension_name
  strategy: primary_key_with_fallback
requirements:
  overall_minimum: 95.0
  field_requirements:
    assessment_id:
      type: string
      nullable: false
      pattern: ^adri_\d{8}_\d{6}_[a-f0-9]+$
      description: Assessment identifier linking to main log
      validation_rules:
      - name: assessment_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: assessment_id must not be empty
      - name: assessment_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: assessment_id must be of type string
      - name: assessment_id pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^adri_\d{8}_\d{6}_[a-f0-9]+$')
        error_message: 'assessment_id must match pattern: ^adri_\d{8}_\d{6}_[a-f0-9]+$'
    dimension_name:
      type: string
      nullable: false
      allowed_values:
      - validity
      - completeness
      - consistency
      - freshness
      - plausibility
      description: Name of the quality dimension
      validation_rules:
      - name: dimension_name is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: dimension_name must not be empty
      - name: dimension_name type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: dimension_name must be of type string
      - name: dimension_name must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['validity', 'completeness', 'consistency', 'freshness', 'plausibility'])
        error_message: 'dimension_name must be one of: validity, completeness, consistency, freshness, plausibility'
    dimension_score:
      type: float
      nullable: false
      min_value: 0.0
      max_value: 20.0
      description: Score for this dimension (0-20)
      validation_rules:
      - name: dimension_score is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: dimension_score must not be empty
      - name: dimension_score type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: dimension_score must be of type float
      - name: dimension_score numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0.0 AND VALUE <= 20.0
        error_message: dimension_score must be between 0.0 and 20.0
    dimension_passed:
      type: boolean
      nullable: false
      description: Whether dimension passed its threshold
      validation_rules:
      - name: dimension_passed is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: dimension_passed must not be empty
      - name: dimension_passed type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_BOOLEAN
        error_message: dimension_passed must be of type boolean
    issues_found:
      type: integer
      nullable: false
      min_value: 0
      description: Number of issues detected in this dimension
      validation_rules:
      - name: issues_found is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: issues_found must not be empty
      - name: issues_found type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_INTEGER
        error_message: issues_found must be of type integer
      - name: issues_found numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0
        error_message: issues_found must be between 0 and None
    details:
      type: string
      nullable: false
      description: JSON object with score breakdown
      validation_rules:
      - name: details is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: details must not be empty
      - name: details type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: details must be of type string
  dimension_requirements:
    validity:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          data_types: 1.0
          value_ranges: 1.0
        field_overrides: {}
    completeness:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          required_fields: 1.0
        field_overrides: {}
    consistency:
      minimum_score: 19.0
      weight: 1.0
      scoring:
        rule_weights:
          field_consistency: 1.0
        field_overrides: {}
    freshness:
      minimum_score: 18.0
      weight: 1.0
      scoring:
        rule_weights:
          assessment_id_format: 1.0
        field_overrides: {}
    plausibility:
      minimum_score: 18.0
      weight: 1.0
      scoring:
        rule_weights:
          score_ranges: 1.0
          enum_values: 1.0
        field_overrides: {}
metadata:
  purpose: Self-validation of ADRI dimension score audit logs
  usage: 'This standard validates dimension score JSONL logs to ensure:

    1. All 5 ADRI dimensions are properly logged

    2. Scores are within valid ranges (0-20)

    3. Assessment IDs properly link to main audit log

    4. Pass/fail status is correctly recorded

    5. Issue counts are non-negative

    '
  validation_notes: '- Each assessment should have exactly 5 dimension score entries

    - dimension_name must be one of the 5 ADRI dimensions

    - dimension_score must be 0-20

    - details field contains JSON with score, max_score, percentage

    - assessment_id links to corresponding entry in main audit log

    '
  created_by: ADRI Framework
  created_date: 2025-10-03
