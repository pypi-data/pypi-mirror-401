contracts:
  id: langchain_chain_input_standard
  name: LangChain Chain Input Standard
  version: 1.0.0
  authority: ADRI Standards Catalog
  description: Standard for validating LangChain chain input data
record_identification:
  primary_key_fields:
  - input_id
  strategy: primary_key_with_fallback
requirements:
  overall_minimum: 80.0
  field_requirements:
    input_id:
      type: string
      nullable: false
      description: Unique input identifier
      validation_rules:
      - name: input_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: input_id must not be empty
      - name: input_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: input_id must be of type string
    chain_type:
      type: string
      nullable: false
      valid_values:
      - ConversationChain
      - LLMChain
      - SequentialChain
      - TransformChain
      - RouterChain
      description: Type of LangChain chain
      validation_rules:
      - name: chain_type is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: chain_type must not be empty
      - name: chain_type type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: chain_type must be of type string
    user_input:
      type: string
      nullable: false
      description: User input text or prompt
      validation_rules:
      - name: user_input is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: user_input must not be empty
      - name: user_input type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: user_input must be of type string
    context:
      type: string
      nullable: true
      description: Additional context for the chain
      validation_rules:
      - name: context type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: context must be of type string
    temperature:
      type: float
      nullable: false
      min_value: 0.0
      max_value: 2.0
      description: Model temperature setting
      validation_rules:
      - name: temperature is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: temperature must not be empty
      - name: temperature type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: temperature must be of type float
      - name: temperature numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0.0 AND VALUE <= 2.0
        error_message: temperature must be between 0.0 and 2.0
    max_tokens:
      type: integer
      nullable: false
      min_value: 1
      max_value: 32000
      description: Maximum tokens for response
      validation_rules:
      - name: max_tokens is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: max_tokens must not be empty
      - name: max_tokens type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_INTEGER
        error_message: max_tokens must be of type integer
      - name: max_tokens numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 1 AND VALUE <= 32000
        error_message: max_tokens must be between 1 and 32000
    model_name:
      type: string
      nullable: false
      description: LLM model identifier
      validation_rules:
      - name: model_name is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: model_name must not be empty
      - name: model_name type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: model_name must be of type string
    timestamp:
      type: string
      nullable: false
      pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$
      description: Input timestamp (ISO 8601)
      validation_rules:
      - name: timestamp is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: timestamp must not be empty
      - name: timestamp type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: timestamp must be of type string
      - name: timestamp pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')
        error_message: 'timestamp must match pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$'
    user_id:
      type: string
      nullable: false
      description: User identifier
      validation_rules:
      - name: user_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: user_id must not be empty
      - name: user_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: user_id must be of type string
    session_id:
      type: string
      nullable: true
      description: Conversation session identifier
      validation_rules:
      - name: session_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: session_id must be of type string
    memory_enabled:
      type: boolean
      nullable: false
      description: Whether conversation memory is enabled
      validation_rules:
      - name: memory_enabled is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: memory_enabled must not be empty
      - name: memory_enabled type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_BOOLEAN
        error_message: memory_enabled must be of type boolean
    history_length:
      type: integer
      nullable: false
      min_value: 0
      description: Number of previous messages in context
      validation_rules:
      - name: history_length is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: history_length must not be empty
      - name: history_length type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_INTEGER
        error_message: history_length must be of type integer
      - name: history_length numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0
        error_message: history_length must be between 0 and None
  dimension_requirements:
    validity:
      minimum_score: 18.0
      weight: 1.0
    completeness:
      minimum_score: 17.0
      weight: 1.0
    consistency:
      minimum_score: 17.0
      weight: 1.0
    freshness:
      minimum_score: 14.0
      weight: 1.0
    plausibility:
      minimum_score: 14.0
      weight: 1.0
metadata:
  purpose: Validate LangChain chain input data for processing
  usage: 'This standard ensures LangChain inputs contain:

    1. Valid chain type and configuration

    2. Required user input and optional context

    3. Model parameters (temperature, max_tokens)

    4. User and session tracking

    5. Memory configuration

    '
  example_usage: "from adri import adri_protected\nimport pandas as pd\n\n@adri_protected(standard=\"langchain_chain_input_standard\"\
    )\ndef process_chain_inputs(inputs_df):\n    # Process validated LangChain inputs\n    return inputs_df\n"
  framework_version: LangChain 0.1.x+
  created_by: ADRI Standards Catalog
  created_date: 2025-01-17
  framework: LangChain
  tags:
  - langchain
  - chains
  - llm
  - ai-agents
