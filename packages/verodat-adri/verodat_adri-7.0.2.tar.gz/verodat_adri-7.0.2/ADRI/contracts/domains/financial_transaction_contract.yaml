contracts:
  id: financial_transaction_standard
  name: Financial Transaction Standard
  version: 1.0.0
  authority: ADRI Standards Catalog
  description: Standard for validating financial transaction records
record_identification:
  primary_key_fields:
  - transaction_id
  strategy: primary_key_with_fallback
requirements:
  overall_minimum: 95.0
  field_requirements:
    transaction_id:
      type: string
      nullable: false
      pattern: ^TXN-[A-Z0-9]{12,}$
      description: Unique transaction identifier
      validation_rules:
      - name: transaction_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: transaction_id must not be empty
      - name: transaction_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: transaction_id must be of type string
      - name: transaction_id pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^TXN-[A-Z0-9]{12,}$')
        error_message: 'transaction_id must match pattern: ^TXN-[A-Z0-9]{12,}$'
    account_id:
      type: string
      nullable: false
      description: Account identifier
      validation_rules:
      - name: account_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: account_id must not be empty
      - name: account_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: account_id must be of type string
    transaction_date:
      type: string
      nullable: false
      pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z$
      description: Transaction timestamp (ISO 8601 with timezone)
      validation_rules:
      - name: transaction_date is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: transaction_date must not be empty
      - name: transaction_date type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: transaction_date must be of type string
      - name: transaction_date pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z$')
        error_message: 'transaction_date must match pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z$'
    transaction_type:
      type: string
      nullable: false
      valid_values:
      - Debit
      - Credit
      - Transfer
      - Refund
      - Fee
      description: Type of transaction
      validation_rules:
      - name: transaction_type is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: transaction_type must not be empty
      - name: transaction_type type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: transaction_type must be of type string
    amount:
      type: float
      nullable: false
      description: Transaction amount (positive for credit, negative for debit)
      validation_rules:
      - name: amount is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: amount must not be empty
      - name: amount type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: amount must be of type float
    currency:
      type: string
      nullable: false
      pattern: ^[A-Z]{3}$
      description: ISO 4217 currency code
      validation_rules:
      - name: currency is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: currency must not be empty
      - name: currency type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: currency must be of type string
      - name: currency pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Z]{3}$')
        error_message: 'currency must match pattern: ^[A-Z]{3}$'
    balance_after:
      type: float
      nullable: false
      description: Account balance after transaction
      validation_rules:
      - name: balance_after is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: balance_after must not be empty
      - name: balance_after type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: balance_after must be of type float
    status:
      type: string
      nullable: false
      valid_values:
      - Pending
      - Completed
      - Failed
      - Reversed
      description: Transaction status
      validation_rules:
      - name: status is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: status must not be empty
      - name: status type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: status must be of type string
    processing_time_ms:
      type: integer
      nullable: false
      min_value: 0
      description: Processing time in milliseconds
      validation_rules:
      - name: processing_time_ms is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: processing_time_ms must not be empty
      - name: processing_time_ms type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_INTEGER
        error_message: processing_time_ms must be of type integer
      - name: processing_time_ms numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0
        error_message: processing_time_ms must be between 0 and None
    merchant_id:
      type: string
      nullable: true
      description: Merchant identifier (for purchases)
      validation_rules:
      - name: merchant_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: merchant_id must be of type string
    merchant_category:
      type: string
      nullable: true
      description: Merchant category code
      validation_rules:
      - name: merchant_category type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: merchant_category must be of type string
    description:
      type: string
      nullable: false
      description: Transaction description
      validation_rules:
      - name: description is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: description must not be empty
      - name: description type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: description must be of type string
    authorization_code:
      type: string
      nullable: true
      description: Authorization code for the transaction
      validation_rules:
      - name: authorization_code type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: authorization_code must be of type string
  dimension_requirements:
    validity:
      minimum_score: 23.0
      weight: 1.0
    completeness:
      minimum_score: 20.0
      weight: 1.0
    consistency:
      minimum_score: 20.0
      weight: 1.0
    freshness:
      minimum_score: 17.0
      weight: 1.0
    plausibility:
      minimum_score: 15.0
      weight: 1.0
metadata:
  purpose: Validate financial transaction data for accuracy and compliance
  usage: 'This standard ensures transaction records contain:

    1. Valid transaction and account identifiers

    2. Accurate financial amounts and currency codes

    3. Complete status and processing information

    4. Merchant details for purchase transactions

    5. Authorization codes for security tracking

    '
  example_usage: "from adri import adri_protected\nimport pandas as pd\n\n@adri_protected(standard=\"financial_transaction_standard\"\
    )\ndef process_transactions(transactions_df):\n    # Process validated transaction data\n    return transactions_df\n"
  created_by: ADRI Standards Catalog
  created_date: 2025-01-17
  domain: Financial Services
  tags:
  - transactions
  - finance
  - payments
  - compliance
