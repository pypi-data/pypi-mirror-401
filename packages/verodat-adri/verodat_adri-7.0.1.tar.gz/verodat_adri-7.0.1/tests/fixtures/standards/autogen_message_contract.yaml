contracts:
  id: autogen_message_standard
  name: Autogen Message ADRI Standard
  version: 1.0.0
  authority: ADRI Framework
  description: Auto-generated standard for autogen_message data
record_identification:
  primary_key_fields:
  - sequence_number
  strategy: primary_key_with_fallback
requirements:
  overall_minimum: 75.0
  field_requirements:
    message_id:
      type: string
      nullable: false
      min_length: 14
      max_length: 14
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: message_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: message_id must not be empty
      - name: message_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: message_id must be of type string
      - name: message_id length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 14 AND LENGTH <= 14
        error_message: message_id length must be between 14 and 14
      - name: message_id pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'message_id must match pattern: ^[A-Za-z0-9\-_]+$'
    conversation_id:
      type: string
      nullable: false
      min_length: 8
      max_length: 8
      pattern: ^[A-Za-z]+-\d{3,}$
      validation_rules:
      - name: conversation_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: conversation_id must not be empty
      - name: conversation_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: conversation_id must be of type string
      - name: conversation_id length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 8 AND LENGTH <= 8
        error_message: conversation_id length must be between 8 and 8
      - name: conversation_id pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z]+-\d{3,}$')
        error_message: 'conversation_id must match pattern: ^[A-Za-z]+-\d{3,}$'
    role:
      type: string
      nullable: false
      allowed_values:
      - user
      min_length: 4
      max_length: 4
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: role is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: role must not be empty
      - name: role type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: role must be of type string
      - name: role must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['user'])
        error_message: 'role must be one of: user'
      - name: role length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 4 AND LENGTH <= 4
        error_message: role length must be between 4 and 4
      - name: role pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'role must match pattern: ^[A-Za-z0-9\-_]+$'
    content:
      type: string
      nullable: false
      allowed_values:
      - Can you help me analyze this data?
      min_length: 34
      max_length: 34
      validation_rules:
      - name: content is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: content must not be empty
      - name: content type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: content must be of type string
      - name: content must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['Can you help me analyze this data?'])
        error_message: 'content must be one of: Can you help me analyze this data?'
      - name: content length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 34 AND LENGTH <= 34
        error_message: content length must be between 34 and 34
    sender_agent:
      type: string
      nullable: false
      allowed_values:
      - UserProxy
      min_length: 9
      max_length: 9
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: sender_agent is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: sender_agent must not be empty
      - name: sender_agent type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: sender_agent must be of type string
      - name: sender_agent must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['UserProxy'])
        error_message: 'sender_agent must be one of: UserProxy'
      - name: sender_agent length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 9 AND LENGTH <= 9
        error_message: sender_agent length must be between 9 and 9
      - name: sender_agent pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'sender_agent must match pattern: ^[A-Za-z0-9\-_]+$'
    receiver_agent:
      type: string
      nullable: false
      allowed_values:
      - AssistantAgent
      min_length: 14
      max_length: 14
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: receiver_agent is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: receiver_agent must not be empty
      - name: receiver_agent type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: receiver_agent must be of type string
      - name: receiver_agent must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['AssistantAgent'])
        error_message: 'receiver_agent must be one of: AssistantAgent'
      - name: receiver_agent length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 14 AND LENGTH <= 14
        error_message: receiver_agent length must be between 14 and 14
      - name: receiver_agent pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'receiver_agent must match pattern: ^[A-Za-z0-9\-_]+$'
    timestamp:
      type: string
      nullable: false
      validation_rules:
      - name: timestamp is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: timestamp must not be empty
      - name: timestamp type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_DATE
        error_message: timestamp must be of type date
      - name: timestamp date bounds
        dimension: validity
        severity: CRITICAL
        rule_type: date_bounds
        rule_expression: DATE >= '2025-01-14' AND DATE <= '2025-01-20'
        error_message: timestamp must be within date range
    sequence_number:
      type: float
      nullable: false
      min_value: 1.0
      max_value: 1.0
      validation_rules:
      - name: sequence_number is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: sequence_number must not be empty
      - name: sequence_number type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: sequence_number must be of type float
      - name: sequence_number numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 1.0 AND VALUE <= 1.0
        error_message: sequence_number must be between 1.0 and 1.0
    function_call:
      type: string
      nullable: true
      validation_rules:
      - name: function_call type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: function_call must be of type string
    function_response:
      type: string
      nullable: true
      validation_rules:
      - name: function_response type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: function_response must be of type string
    execution_mode:
      type: string
      nullable: false
      allowed_values:
      - auto
      min_length: 4
      max_length: 4
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: execution_mode is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: execution_mode must not be empty
      - name: execution_mode type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: execution_mode must be of type string
      - name: execution_mode must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['auto'])
        error_message: 'execution_mode must be one of: auto'
      - name: execution_mode length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 4 AND LENGTH <= 4
        error_message: execution_mode length must be between 4 and 4
      - name: execution_mode pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'execution_mode must match pattern: ^[A-Za-z0-9\-_]+$'
    termination_keyword:
      type: string
      nullable: true
      validation_rules:
      - name: termination_keyword type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: termination_keyword must be of type string
    tokens_used:
      type: float
      nullable: false
      min_value: 25.0
      max_value: 25.0
      validation_rules:
      - name: tokens_used is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: tokens_used must not be empty
      - name: tokens_used type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: tokens_used must be of type float
      - name: tokens_used numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 25.0 AND VALUE <= 25.0
        error_message: tokens_used must be between 25.0 and 25.0
    model_name:
      type: string
      nullable: false
      allowed_values:
      - gpt-4
      min_length: 5
      max_length: 5
      pattern: ^[A-Za-z0-9\-_]+$
      validation_rules:
      - name: model_name is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: model_name must not be empty
      - name: model_name type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: model_name must be of type string
      - name: model_name must be valid value
        dimension: validity
        severity: CRITICAL
        rule_type: allowed_values
        rule_expression: VALUE_IN(['gpt-4'])
        error_message: 'model_name must be one of: gpt-4'
      - name: model_name length bounds
        dimension: validity
        severity: CRITICAL
        rule_type: length_bounds
        rule_expression: LENGTH >= 5 AND LENGTH <= 5
        error_message: model_name length must be between 5 and 5
      - name: model_name pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^[A-Za-z0-9\-_]+$')
        error_message: 'model_name must match pattern: ^[A-Za-z0-9\-_]+$'
  dimension_requirements:
    validity:
      minimum_score: 15.0
      weight: 1.0
      scoring:
        rule_weights:
          type: 0.3684210526315789
          length_bounds: 0.21052631578947367
          pattern: 0.18421052631578946
          allowed_values: 0.15789473684210525
          date_bounds: 0.02631578947368421
          numeric_bounds: 0.05263157894736842
        field_overrides: {}
    completeness:
      minimum_score: 15.0
      weight: 1.0
      scoring:
        rule_weights:
          missing_required: 0.08333333333333333
          not_null: 0.9166666666666666
        field_overrides: {}
    consistency:
      minimum_score: 12.0
      weight: 1.0
      scoring:
        rule_weights:
          primary_key_uniqueness: 0.3333333333333333
          format_consistency: 0.3333333333333333
          cross_field_logic: 0.3333333333333333
        field_overrides: {}
    freshness:
      minimum_score: 15.0
      weight: 1.0
      scoring:
        rule_weights:
          recency_window: 1.0
        field_overrides: {}
    plausibility:
      minimum_score: 12.0
      weight: 1.0
      scoring:
        rule_weights: {}
        field_overrides: {}
metadata:
  explanations_note: Explanations are for human review; only requirements.field_requirements
    are enforced.
  explanations_glossary:
    iqr: 'Interquartile Range (Q3 - Q1): a robust measure of spread, less sensitive
      to outliers.'
    q1: 25th percentile of the training values.
    q3: 75th percentile of the training values.
    coverage: Share of non-null training values that satisfy the rule.
    unique_count: Number of distinct non-null values observed in training.
    mad: 'Median Absolute Deviation: robust measure of variability around the median.'
    quantile: Statistical measure dividing data into equal-sized intervals.
    training_pass: Guarantee that generated rules pass on the training data used for
      generation.
    enum_strategy: Method used for allowed values inference (coverage or tolerant).
    margin_days: Buffer added to date ranges to allow for reasonable variations.
  explanations:
    message_id:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      length_bounds:
        active_min: 14
        active_max: 14
        stats:
          observed_min: 14
          observed_max: 14
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
    conversation_id:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      length_bounds:
        active_min: 8
        active_max: 8
        stats:
          observed_min: 8
          observed_max: 8
      pattern:
        regex: ^[A-Za-z]+-\d{3,}$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
    role:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      allowed_values:
        values:
        - user
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 1
          strategy: coverage
      length_bounds:
        active_min: 4
        active_max: 4
        stats:
          observed_min: 4
          observed_max: 4
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
    content:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      allowed_values:
        values:
        - Can you help me analyze this data?
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 1
          strategy: coverage
      length_bounds:
        active_min: 34
        active_max: 34
        stats:
          observed_min: 34
          observed_max: 34
    sender_agent:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      allowed_values:
        values:
        - UserProxy
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 1
          strategy: coverage
      length_bounds:
        active_min: 9
        active_max: 9
        stats:
          observed_min: 9
          observed_max: 9
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
    receiver_agent:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      allowed_values:
        values:
        - AssistantAgent
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 1
          strategy: coverage
      length_bounds:
        active_min: 14
        active_max: 14
        stats:
          observed_min: 14
          observed_max: 14
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
    timestamp:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
    sequence_number:
      type: float
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      range:
        strategy: iqr
        active_min: 1.0
        active_max: 1.0
        reason: Robust range (IQR/Quantile/MAD) clamped to training min/max for pass
          guarantee
        stats:
          q1: 1.0
          q3: 1.0
          iqr_k: 1.5
          observed_min: 1.0
          observed_max: 1.0
    function_call:
      type: string
      nullable:
        active: true
        reason: Nulls were observed in training, so this field is allowed to be null
        stats:
          null_count: 1
          total: 1
    function_response:
      type: string
      nullable:
        active: true
        reason: Nulls were observed in training, so this field is allowed to be null
        stats:
          null_count: 1
          total: 1
    execution_mode:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      allowed_values:
        values:
        - auto
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 1
          strategy: coverage
      length_bounds:
        active_min: 4
        active_max: 4
        stats:
          observed_min: 4
          observed_max: 4
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
    termination_keyword:
      type: string
      nullable:
        active: true
        reason: Nulls were observed in training, so this field is allowed to be null
        stats:
          null_count: 1
          total: 1
    tokens_used:
      type: float
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      range:
        strategy: iqr
        active_min: 25.0
        active_max: 25.0
        reason: Robust range (IQR/Quantile/MAD) clamped to training min/max for pass
          guarantee
        stats:
          q1: 25.0
          q3: 25.0
          iqr_k: 1.5
          observed_min: 25.0
          observed_max: 25.0
    model_name:
      type: string
      nullable:
        active: false
        reason: Required because 0% nulls observed in training
        stats:
          null_count: 0
          total: 1
      allowed_values:
        values:
        - gpt-4
        reason: High coverage stable set
        stats:
          coverage: 1.0
          unique_count: 1
          strategy: coverage
      length_bounds:
        active_min: 5
        active_max: 5
        stats:
          observed_min: 5
          observed_max: 5
      pattern:
        regex: ^[A-Za-z0-9\-_]+$
        reason: 100% coverage on training non-nulls
        stats:
          coverage: 1.0
  freshness:
    as_of: '2025-01-18T10:30:00.123000Z'
    window_days: 365
    date_field: timestamp
  plausibility_templates: '# plausibility:

    #   scoring:

    #     rule_weights:

    #       numeric_sigma: 1.0      # enable if not overlapping with validity numeric_bounds

    #       categorical_tail: 1.0   # enable to flag rare categories

    #   notes: "Disabled by default to avoid overlap with Validity. Review before
    enabling."

    '
