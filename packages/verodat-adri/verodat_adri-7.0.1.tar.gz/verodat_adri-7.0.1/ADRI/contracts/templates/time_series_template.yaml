contracts:
  id: time_series_template
  name: Time Series Data Template
  version: 1.0.0
  authority: ADRI Standards Catalog
  description: Generic template for validating time series data structures
record_identification:
  primary_key_fields:
  - timestamp
  - metric_name
  strategy: primary_key_with_fallback
requirements:
  overall_minimum: 85.0
  field_requirements:
    timestamp:
      type: string
      nullable: false
      pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$
      description: Measurement timestamp (ISO 8601)
      validation_rules:
      - name: timestamp is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: timestamp must not be empty
      - name: timestamp type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: timestamp must be of type string
      - name: timestamp pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')
        error_message: 'timestamp must match pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$'
    metric_name:
      type: string
      nullable: false
      description: Name of the metric being measured
      validation_rules:
      - name: metric_name is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: metric_name must not be empty
      - name: metric_name type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: metric_name must be of type string
    metric_id:
      type: string
      nullable: false
      description: Unique metric identifier
      validation_rules:
      - name: metric_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: metric_id must not be empty
      - name: metric_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: metric_id must be of type string
    value:
      type: float
      nullable: false
      description: Metric value
      validation_rules:
      - name: value is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: value must not be empty
      - name: value type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: value must be of type float
    unit:
      type: string
      nullable: false
      description: Unit of measurement
      validation_rules:
      - name: unit is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: unit must not be empty
      - name: unit type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: unit must be of type string
    source_id:
      type: string
      nullable: false
      description: Data source identifier
      validation_rules:
      - name: source_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: source_id must not be empty
      - name: source_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: source_id must be of type string
    source_type:
      type: string
      nullable: false
      valid_values:
      - sensor
      - application
      - user
      - system
      - external
      description: Type of data source
      validation_rules:
      - name: source_type is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: source_type must not be empty
      - name: source_type type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: source_type must be of type string
    quality_score:
      type: float
      nullable: false
      min_value: 0.0
      max_value: 100.0
      description: Data quality score (0-100)
      validation_rules:
      - name: quality_score is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: quality_score must not be empty
      - name: quality_score type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: quality_score must be of type float
      - name: quality_score numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0.0 AND VALUE <= 100.0
        error_message: quality_score must be between 0.0 and 100.0
    confidence:
      type: float
      nullable: false
      min_value: 0.0
      max_value: 1.0
      description: Confidence level (0.0-1.0)
      validation_rules:
      - name: confidence is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: confidence must not be empty
      - name: confidence type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_FLOAT
        error_message: confidence must be of type float
      - name: confidence numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0.0 AND VALUE <= 1.0
        error_message: confidence must be between 0.0 and 1.0
    is_anomaly:
      type: boolean
      nullable: false
      description: Whether value is flagged as anomaly
      validation_rules:
      - name: is_anomaly is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: is_anomaly must not be empty
      - name: is_anomaly type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_BOOLEAN
        error_message: is_anomaly must be of type boolean
    aggregation_type:
      type: string
      nullable: false
      valid_values:
      - raw
      - average
      - sum
      - min
      - max
      - count
      description: Type of aggregation applied
      validation_rules:
      - name: aggregation_type is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: aggregation_type must not be empty
      - name: aggregation_type type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: aggregation_type must be of type string
    aggregation_window:
      type: string
      nullable: true
      description: Aggregation window (e.g., '1m', '5m', '1h')
      validation_rules:
      - name: aggregation_window type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: aggregation_window must be of type string
    tags:
      type: string
      nullable: true
      description: Comma-separated tags for grouping
      validation_rules:
      - name: tags type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: tags must be of type string
  dimension_requirements:
    validity:
      minimum_score: 19.0
      weight: 1.0
    completeness:
      minimum_score: 18.0
      weight: 1.0
    consistency:
      minimum_score: 18.0
      weight: 1.0
    freshness:
      minimum_score: 15.0
      weight: 1.0
    plausibility:
      minimum_score: 15.0
      weight: 1.0
metadata:
  purpose: Generic template for validating time series data
  usage: 'This template validates:

    1. Time-based measurements

    2. Metric identification and values

    3. Data source tracking

    4. Quality indicators

    5. Aggregation metadata

    6. Tagging and dimensions

    '
  customization_notes: 'To customize this template:

    1. Add domain-specific metrics to metric_name validation

    2. Define custom units based on measurement types

    3. Add source_type values for your data sources

    4. Configure anomaly detection thresholds

    5. Add custom aggregation types

    6. Define tag taxonomies for grouping

    '
  example_usage: "from adri import adri_protected\nimport pandas as pd\n\n@adri_protected(standard=\"time_series_template\"\
    )\ndef process_time_series(metrics_df):\n    # Process validated time series data\n    return metrics_df\n"
  created_by: ADRI Standards Catalog
  created_date: 2025-01-17
  category: Template
  tags:
  - time-series
  - metrics
  - monitoring
  - template
  - sensors
