contracts:
  id: api_response_template
  name: API Response Template
  version: 1.0.0
  authority: ADRI Standards Catalog
  description: Generic template for validating REST API response structures
record_identification:
  primary_key_fields:
  - request_id
  strategy: primary_key_with_fallback
requirements:
  overall_minimum: 85.0
  field_requirements:
    request_id:
      type: string
      nullable: false
      description: Unique request identifier
      validation_rules:
      - name: request_id is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: request_id must not be empty
      - name: request_id type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: request_id must be of type string
    status_code:
      type: integer
      nullable: false
      min_value: 100
      max_value: 599
      description: HTTP status code
      validation_rules:
      - name: status_code is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: status_code must not be empty
      - name: status_code type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_INTEGER
        error_message: status_code must be of type integer
      - name: status_code numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 100 AND VALUE <= 599
        error_message: status_code must be between 100 and 599
    status:
      type: string
      nullable: false
      valid_values:
      - success
      - error
      - partial
      description: Response status
      validation_rules:
      - name: status is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: status must not be empty
      - name: status type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: status must be of type string
    timestamp:
      type: string
      nullable: false
      pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z$
      description: Response timestamp (ISO 8601)
      validation_rules:
      - name: timestamp is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: timestamp must not be empty
      - name: timestamp type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: timestamp must be of type string
      - name: timestamp pattern validation
        dimension: validity
        severity: WARNING
        rule_type: pattern
        rule_expression: REGEX_MATCH('^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z$')
        error_message: 'timestamp must match pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z$'
    response_time_ms:
      type: integer
      nullable: false
      min_value: 0
      description: Response time in milliseconds
      validation_rules:
      - name: response_time_ms is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: response_time_ms must not be empty
      - name: response_time_ms type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_INTEGER
        error_message: response_time_ms must be of type integer
      - name: response_time_ms numeric bounds
        dimension: validity
        severity: CRITICAL
        rule_type: numeric_bounds
        rule_expression: VALUE >= 0
        error_message: response_time_ms must be between 0 and None
    endpoint:
      type: string
      nullable: false
      description: API endpoint path
      validation_rules:
      - name: endpoint is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: endpoint must not be empty
      - name: endpoint type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: endpoint must be of type string
    method:
      type: string
      nullable: false
      valid_values:
      - GET
      - POST
      - PUT
      - PATCH
      - DELETE
      description: HTTP method
      validation_rules:
      - name: method is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: method must not be empty
      - name: method type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: method must be of type string
    data:
      type: string
      nullable: true
      description: JSON string of response data
      validation_rules:
      - name: data type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: data must be of type string
    error_message:
      type: string
      nullable: true
      description: Error message if status is error
      validation_rules:
      - name: error_message type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: error_message must be of type string
    error_code:
      type: string
      nullable: true
      description: Application-specific error code
      validation_rules:
      - name: error_code type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: error_code must be of type string
    api_version:
      type: string
      nullable: false
      description: API version used
      validation_rules:
      - name: api_version is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: api_version must not be empty
      - name: api_version type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: api_version must be of type string
    request_source:
      type: string
      nullable: false
      description: Source of the request
      validation_rules:
      - name: request_source is required
        dimension: completeness
        severity: CRITICAL
        rule_type: not_null
        rule_expression: IS_NOT_NULL
        error_message: request_source must not be empty
      - name: request_source type validation
        dimension: validity
        severity: CRITICAL
        rule_type: type
        rule_expression: IS_STRING
        error_message: request_source must be of type string
  dimension_requirements:
    validity:
      minimum_score: 19.0
      weight: 1.0
    completeness:
      minimum_score: 18.0
      weight: 1.0
    consistency:
      minimum_score: 18.0
      weight: 1.0
    freshness:
      minimum_score: 15.0
      weight: 1.0
    plausibility:
      minimum_score: 15.0
      weight: 1.0
metadata:
  purpose: Generic template for validating API response structures
  usage: 'This template validates:

    1. Request identification

    2. HTTP status codes

    3. Response timing

    4. Endpoint and method information

    5. Response data or error details

    6. API version tracking

    '
  customization_notes: 'To customize this template:

    1. Add domain-specific fields to field_requirements

    2. Update valid_values for status based on your API

    3. Add custom error codes to error_code validation

    4. Adjust dimension score minimums based on requirements

    5. Add business logic validation rules

    '
  example_usage: "from adri import adri_protected\nimport pandas as pd\n\n@adri_protected(standard=\"api_response_template\"\
    )\ndef process_api_responses(responses_df):\n    # Process validated API responses\n    return responses_df\n"
  created_by: ADRI Standards Catalog
  created_date: 2025-01-17
  category: Template
  tags:
  - api
  - rest
  - responses
  - template
  - monitoring
