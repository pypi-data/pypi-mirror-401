[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "gato-hep"
version = "0.2.1"
description = "GATO: Gradient-based cATegorization Optimizer for High-Energy Physics"
keywords = ["differentiable", "binning", "optimization", "HEP", "significance"]
readme = "README.md"
license = { file = "LICENSE" }
authors = [{name="Florian Mausolf", email="florian.mausolf@rwth-aachen.de" }]
requires-python = ">=3.10"

dependencies = [
    "numpy>=1.26",
    "tensorflow>=2.17,<2.20; extra != 'gpu'",
    "tensorflow-probability>=0.24; extra != 'gpu'",
    "tf_keras==2.19.0",
    "ml_dtypes>=0.4.1",
    "mplhep",
    "matplotlib>=3.7",
    "pillow>=10.0",
    "scipy",
    "pandas",
    "hist",
]

classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Science/Research",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Scientific/Engineering :: Physics",
]

[tool.setuptools.packages.find]
where = ["src"]
include = ["gatohep*"]        # find packages under src/gatohep

[project.optional-dependencies]
dev = ["pytest", "pytest-cov", "flake8"]
docs = [
  "sphinx>=5.0",
  "sphinx-rtd-theme",
  "sphinx-autodoc-typehints",
  "sphinx-autoapi",
  "myst-parser",
  "pydata-sphinx-theme"
]
cpu = [
  "tensorflow>=2.17,<2.20",
  "tensorflow-probability>=0.24"
]

gpu = [
  "tensorflow[and-cuda]>=2.17,<2.20",
  "tensorflow-probability>=0.24"
]

[project.urls]
Homepage = "https://github.com/FloMau/gato-hep"
Repository = "https://github.com/FloMau/gato-hep"
Documentation = "https://gato-hep.readthedocs.io/en/latest/"
Issues = "https://github.com/FloMau/gato-hep/issues"
