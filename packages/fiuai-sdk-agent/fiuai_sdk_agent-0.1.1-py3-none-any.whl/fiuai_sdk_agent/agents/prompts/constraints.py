# -- coding: utf-8 --
# Project: prompts
# Created Date: 2025-01-30
# Author: liming
# Email: lmlala@aliyun.com
# Copyright (c) 2025 FiuAI

from typing import List


def get_prompt_constraints() -> str:
    """
    获取统一的 prompt constraints
    
    这些约束会自动添加到每个 prompt 中，确保 AI 遵循基本规则
    
    Returns:
        str: constraints 文本
    """
    constraints = """
=====================
重要约束 (Constraints)
=====================

1. 数据真实性约束
   - 严禁编造、虚构或猜测任何数据
   - 只能使用提供的数据源中的真实数据
   - 如果数据不存在或无法获取，必须明确说明"数据不存在"或"无法获取"，而不是编造数据
   - 对于不确定的信息，必须明确标注为"不确定"或"需要进一步确认"

2. 数据来源约束
   - 所有数据必须来自明确的数据源（如数据库、API、文档等）
   - 不能基于假设、推测或常识来生成数据
   - 如果使用了外部知识或常识，必须明确标注来源

3. 输出准确性约束
   - 确保所有数值、日期、名称等信息的准确性
   - 对于计算结果，必须基于实际数据，不能使用示例数据
   - 如果数据不完整，必须明确说明缺失的部分

4. 错误处理约束
   - 当遇到数据缺失、格式错误或无法解析的情况时，必须明确报告错误
   - 不能为了"完整性"而填充虚假数据
   - 错误信息应该清晰、具体，便于排查问题

=====================
"""
    return constraints.strip()


def get_constraints_list() -> List[str]:
    """
    获取 constraints 列表形式，用于在模板中灵活使用
    
    Returns:
        List[str]: constraints 列表
    """
    return [
        "严禁编造、虚构或猜测任何数据，只能使用提供的数据源中的真实数据",
        "如果数据不存在或无法获取，必须明确说明'数据不存在'或'无法获取'，而不是编造数据",
        "所有数据必须来自明确的数据源（如数据库、API、文档等），不能基于假设、推测或常识来生成数据",
        "确保所有数值、日期、名称等信息的准确性，对于计算结果必须基于实际数据",
        "当遇到数据缺失、格式错误或无法解析的情况时，必须明确报告错误，不能为了'完整性'而填充虚假数据",
    ]

