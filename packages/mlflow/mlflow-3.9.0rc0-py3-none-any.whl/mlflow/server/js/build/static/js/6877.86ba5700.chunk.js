"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[6877],{20338:function(e,t,i){i.d(t,{$:function(){return f}});var n=i(68248),a=i(27757),r=i(65641),o=i(79444),s=i(43544),l=i(37626),d=i(14429),c=i(43979),m=i(73408);const u=({viewState:e,experimentId:t,endpointName:i,timeRange:n})=>"logs"===e?(0,m.Y)(r.v,{experimentId:t||"",endpointName:i||"",timeRange:n}):null,g=({experimentIds:e,isLoadingExperiment:t})=>{const{theme:i}=(0,a.u)(),r=(0,o.U)(),s=e[0],[g]=(0,l._)(),p=(0,d.Pz)(r.dateNow);return(0,m.FD)("div",{css:(0,n.AH)({display:"flex",flexDirection:"column",gap:i.spacing.sm,height:"100%",overflowY:"hidden"},""),children:[(0,m.Y)(c.J,{viewState:g}),(0,m.Y)(u,{viewState:g,experimentId:s,timeRange:p})]})},p=({experimentIds:e,isLoadingExperiment:t})=>(0,m.Y)(s.y,{children:(0,m.Y)(o.k,{children:(0,m.Y)(g,{experimentIds:e,isLoadingExperiment:t})})});var h=i(54741);const f=({experimentIds:e})=>{const{theme:t}=(0,a.u)();return(0,m.Y)("div",{css:(0,n.AH)({minHeight:225,display:"flex",flexDirection:"column",gap:t.spacing.sm,flex:1,overflow:"hidden"},""),children:(0,m.Y)(v,{experimentIds:e})})},v=({experimentIds:e})=>{const{loading:t}=(0,h.L)({experimentId:e[0]});return(0,m.Y)(p,{experimentIds:e,isLoadingExperiment:t})}},37626:function(e,t,i){i.d(t,{_:function(){return o}});var n=i(46709),a=i(91105);const r="viewState",o=()=>{var e;const[t,i]=(0,a.ok)(),o=null!==(e=t.get(r))&&void 0!==e?e:"logs",s=(0,n.useCallback)((e,t=!1)=>{i(t=>void 0===e?(t.delete(r),t):(t.set(r,e),t),{replace:t})},[i]);return[o,s]}},43544:function(e,t,i){i.d(t,{y:function(){return c}});var n=i(89949),a=i(82716),r=i(27757),o=i(40724),s=i(73408);var l={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"};const d=({error:e})=>{var t;return(0,s.Y)(a.PageWrapper,{css:l,children:(0,s.Y)(a.Empty,{"data-testid":"fallback",title:(0,s.Y)(o.A,{id:"FbAMd+",defaultMessage:"Error"}),description:null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:(0,s.Y)(o.A,{id:"CbzDeZ",defaultMessage:"An error occurred while rendering this component."}),image:(0,s.Y)(r.k,{})})})},c=({children:e})=>(0,s.Y)(n.tH,{fallback:(0,s.Y)(d,{}),children:e})},43979:function(e,t,i){i.d(t,{J:function(){return c}});var n=i(68248),a=i(82716),r=i(27757),o=i(12998),s=i(84411),l=i(42747),d=i(73408);const c=({viewState:e,sessionId:t,className:i})=>{const{theme:c}=(0,r.u)();return(0,d.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",width:"100%",borderBottom:`1px solid ${c.colors.grey100}`,paddingBottom:`${c.spacing.sm}px`},""),className:i,children:[!("single-chat-session"===e)&&(0,d.Y)(s.$,{}),"single-chat-session"===e&&(0,d.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",gap:c.spacing.sm},""),children:[(0,d.Y)(a.Tag,{color:"default",componentId:"mlflow.chat-sessions.session-header-label",css:(0,n.AH)({padding:c.spacing.xs+2,margin:0},""),children:(0,d.FD)("span",{css:(0,n.AH)({display:"flex",alignItems:"center",gap:c.spacing.sm},""),children:[(0,d.Y)(a.SpeechBubbleIcon,{}),(0,d.Y)(r.T.Text,{ellipsis:!0,bold:!0,children:(0,d.Y)(l.sA,{id:"EAf6xM",defaultMessage:"Session"})})]})}),(0,d.Y)(r.T.Title,{level:3,withoutMargins:!0,children:t}),t&&(0,d.Y)(o.ad,{copyText:t,componentId:"mlflow.chat-sessions.copy-session-id",buttonProps:{icon:void 0}})]})]})}},82168:function(e,t,i){i.r(t);var n=i(46709),a=i(59930),r=i.n(a),o=i(91105),s=i(20338),l=i(73408);t.default=()=>{const{experimentId:e}=(0,o.g)();r()(e,"Experiment ID must be defined");const t=(0,n.useMemo)(()=>[e],[e]);return(0,l.Y)(s.$,{experimentIds:t})}},84411:function(e,t,i){i.d(t,{$:function(){return x}});var n=i(68248),a=i(46709),r=i(82716),o=i(27757),s=i(79081),l=i(4168),d=i(42747),c=i(92338),m=i(14429),u=i(76118),g=i(16453),p=i(79444),h=i(39595),f=i(92388),v=i(73408);const x=a.memo(function({excludeOptions:e,refreshButtonComponentId:t="mlflow.experiment-evaluation-monitoring.refresh-date-button"}){const i=(0,d.tz)(),{theme:x}=(0,o.u)(),b=(0,h.jE)(),P=(0,f.C)({queryKey:[l.TH]}),[w,Y]=(0,m.VA)(),I=(0,a.useMemo)(()=>{const t=(0,c.p)(i);return null!==e&&void 0!==e&&e.length?t.filter(t=>!e.includes(t.key)):t},[i,e]),y=i.formatMessage({id:"BJvcsS",defaultMessage:"Time Range"}),T=(0,p.U)();return(0,v.FD)("div",{css:(0,n.AH)({display:"flex",gap:x.spacing.sm,alignItems:"center"},""),children:[(0,v.FD)(r.DialogCombobox,{componentId:"mlflow.experiment-evaluation-monitoring.date-selector",label:y,value:w.startTimeLabel?[w.startTimeLabel]:[m.oy],children:[(0,v.Y)(r.DialogComboboxTrigger,{renderDisplayedValue:e=>{var t;return null===(t=I.find(t=>t.key===e))||void 0===t?void 0:t.label},allowClear:!(0,u.isNil)(w.startTimeLabel)&&w.startTimeLabel!==m.oy,onClear:()=>{Y({startTimeLabel:m.oy})},"data-testid":"time-range-select-dropdown"}),(0,v.Y)(r.DialogComboboxContent,{children:(0,v.Y)(r.DialogComboboxOptionList,{children:I.map(e=>(0,v.Y)(r.DialogComboboxOptionListSelectItem,{checked:w.startTimeLabel===e.key||e.key===m.oy&&(0,u.isNil)(w.startTimeLabel),title:e.label,"data-testid":`time-range-select-${e}`,value:e.key,onChange:()=>{Y({...w,startTimeLabel:e.key})},children:e.label},e.key))})})]}),"CUSTOM"===w.startTimeLabel&&(0,v.Y)(v.FK,{children:(0,v.Y)(g.cv,{id:"date-picker-range",includeTime:!0,selected:{from:new Date(w.startTime),to:w.endTime?new Date(w.endTime):T.dateNow},onChange:e=>{const t=e.target.value;Y({...w,startTime:null!==t&&void 0!==t&&t.from?t.from.toISOString():void 0,endTime:null!==t&&void 0!==t&&t.to?t.to.toISOString():void 0})},startDatePickerProps:{componentId:"experiment-evaluation-monitoring-start-date-picker",datePickerProps:{disabled:{after:T.dateNow}},value:w.startTime?new Date(w.startTime):void 0},endDatePickerProps:{componentId:"experiment-evaluation-monitoring-end-date-picker",datePickerProps:{disabled:{after:T.dateNow}},value:w.endTime?new Date(w.endTime):void 0}})}),(0,v.Y)(s.T,{componentId:"mlflow.experiment-evaluation-monitoring.trace-info-hover-request-time",content:i.formatMessage({id:"Arvaod",defaultMessage:"Showing data up to {date}."},{date:T.dateNow.toLocaleString(navigator.language,{timeZoneName:"short"})}),children:(0,v.Y)(o.B,{type:"link",componentId:t,disabled:Boolean(P),onClick:()=>{T.refresh(),(0,l.BL)({queryClient:b})},children:(0,v.Y)(r.RefreshIcon,{})})})]})})},96584:function(e,t,i){i.d(t,{q:function(){return l}});var n=i(56606),a=i(23403),r=i(60783);class o extends a.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,r.PL)()},t)}getOptimisticResult(e){return e.behavior=(0,r.PL)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var i,n,a,o,s,l;const{state:d}=e,c=super.createResult(e,t),{isFetching:m,isRefetching:u}=c,g=m&&"forward"===(null==(i=d.fetchMeta)||null==(n=i.fetchMore)?void 0:n.direction),p=m&&"backward"===(null==(a=d.fetchMeta)||null==(o=a.fetchMore)?void 0:o.direction);return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,r.rB)(t,null==(s=d.data)?void 0:s.pages),hasPreviousPage:(0,r.RQ)(t,null==(l=d.data)?void 0:l.pages),isFetchingNextPage:g,isFetchingPreviousPage:p,isRefetching:u&&!g&&!p}}}var s=i(93769);function l(e,t,i){const a=(0,n.vh)(e,t,i);return(0,s.t)(a,o)}}}]);