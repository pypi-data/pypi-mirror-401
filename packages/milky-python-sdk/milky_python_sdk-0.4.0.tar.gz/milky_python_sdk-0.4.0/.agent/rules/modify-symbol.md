---
trigger: always_on
---

**CRITICAL**:

When a task requires modifying shared data structures such as types or stores:

1. You must first locate and display the current definition.
2. You must search for and list all known references in the project.
3. You must assess the impact of the proposed change.
4. You may not propose or write code until the above steps are completed.

If any required information is missing, you must explicitly state what is missing instead of making assumptions.
