{%- extends "_layout.html" %}

{% block title %}
    {{ hawat_current_view.get_view_title() }}
{% endblock title %}

{%- block content %}
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
            <div class="card bg-light">
                <div class="card-body">
                    <form method="POST" action="{{ url_for(request.endpoint, next = next) }}">
                        <fieldset>
                            <legend class="card-title">
                                {{ get_icon(hawat_current_view.get_view_icon()) }}
                                {{ hawat_current_view.get_view_title() }}
                            </legend>

                            <div class="d-grid row-gap-2">
                                {%- block registrationformfields %}
                                {% endblock registrationformfields %}

                                {%- if config['REGISTRATION_FORM_LINKS'] -%}
                                    {% for link in config['REGISTRATION_FORM_LINKS'] %}
                                        <a href="{{ link[1] }}">
                                            {{ link[0] }}
                                        </a>
                                    {%- endfor %}
                                    <hr>
                                {%- endif -%}

                                {%- if 'csrf_token' in form %}
                                    {{ macros_form.render_form_errors(form.csrf_token.errors) }}
                                    {{ form.csrf_token }}
                                {%- endif %}

                                {{ form.submit(class_='btn btn-primary') }}
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col-md-4 .col-md-offset-4 -->
    </div>
    <!-- /.row -->
{%- endblock content %}
