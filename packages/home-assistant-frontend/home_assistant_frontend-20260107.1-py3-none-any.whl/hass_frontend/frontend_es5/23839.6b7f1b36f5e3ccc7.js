"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["23839"],{90433:function(t,e,n){n.d(e,{Vy:function(){return r},fI:function(){return u},ux:function(){return c}});n(23418),n(47764);var o=n(22786),i=n(79468),a=54;function r(t,e){var n=t%a+1;return e.getPropertyValue("--color-".concat(n))}function u(t,e){var n=e.getPropertyValue("--graph-color-".concat(t+1))||r(t,e);return(0,i.RQ)(n)}var c=(0,o.A)(function(t){return Array.from({length:a},function(e,n){return u(n,t)})},function(t,e){return t[0].getPropertyValue("--graph-color-1")===e[0].getPropertyValue("--graph-color-1")&&t[0].getPropertyValue("--color-1")===e[0].getPropertyValue("--color-1")})},72487:function(t,e,n){n.a(t,async function(t,o){try{n.d(e,{CA:function(){return z},Pm:function(){return A},Wq:function(){return b},Yq:function(){return s},fr:function(){return p},gu:function(){return C},kz:function(){return m},sl:function(){return y},zB:function(){return d}});var i=n(26520),a=(n(28706),n(50113),n(18111),n(20116),n(26099),n(74487)),r=n(22786),u=n(46927),c=n(8480),l=t([a,c]);[a,c]=l.then?(await l)():l;(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,c.w)(t.time_zone,e)})});var s=function(t,e,n){return h(e,n.time_zone).format(t)},h=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,c.w)(t.time_zone,e)})}),m=function(t,e,n){return f(e,n.time_zone).format(t)},f=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,c.w)(t.time_zone,e)})}),d=function(t,e,n){var o,a,r,c,l=g(e,n.time_zone);if(e.date_format===u.ow.language||e.date_format===u.ow.system)return l.format(t);var s=l.formatToParts(t),h=null===(o=s.find(function(t){return"literal"===t.type}))||void 0===o?void 0:o.value,m=null===(a=s.find(function(t){return"day"===t.type}))||void 0===a?void 0:a.value,f=null===(r=s.find(function(t){return"month"===t.type}))||void 0===r?void 0:r.value,d=null===(c=s.find(function(t){return"year"===t.type}))||void 0===c?void 0:c.value,y=s[s.length-1],v="literal"===(null==y?void 0:y.type)?null==y?void 0:y.value:"";return"bg"===e.language&&e.date_format===u.ow.YMD&&(v=""),(0,i.A)((0,i.A)((0,i.A)({},u.ow.DMY,"".concat(m).concat(h).concat(f).concat(h).concat(d).concat(v)),u.ow.MDY,"".concat(f).concat(h).concat(m).concat(h).concat(d).concat(v)),u.ow.YMD,"".concat(d).concat(h).concat(f).concat(h).concat(m).concat(v))[e.date_format]},g=(0,r.A)(function(t,e){var n=t.date_format===u.ow.system?void 0:t.language;return t.date_format===u.ow.language||(t.date_format,u.ow.system),new Intl.DateTimeFormat(n,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,c.w)(t.time_zone,e)})}),y=function(t,e,n){return v(e,n.time_zone).format(t)},v=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{day:"numeric",month:"short",timeZone:(0,c.w)(t.time_zone,e)})}),p=function(t,e,n){return _(e,n.time_zone).format(t)},_=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{month:"long",year:"numeric",timeZone:(0,c.w)(t.time_zone,e)})}),b=function(t,e,n){return w(e,n.time_zone).format(t)},w=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{month:"long",timeZone:(0,c.w)(t.time_zone,e)})}),A=function(t,e,n){return x(e,n.time_zone).format(t)},x=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{year:"numeric",timeZone:(0,c.w)(t.time_zone,e)})}),z=function(t,e,n){return M(e,n.time_zone).format(t)},M=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"long",timeZone:(0,c.w)(t.time_zone,e)})}),C=function(t,e,n){return k(e,n.time_zone).format(t)},k=(0,r.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"short",timeZone:(0,c.w)(t.time_zone,e)})});o()}catch(D){o(D)}})},30162:function(t,e,n){n.a(t,async function(t,o){try{n.d(e,{LW:function(){return g},Xs:function(){return f},fU:function(){return l},ie:function(){return h}});var i=n(74487),a=n(22786),r=n(8480),u=n(69543),c=t([i,r]);[i,r]=c.then?(await c)():c;const l=(t,e,n)=>s(e,n.time_zone).format(t),s=(0,a.A)((t,e)=>new Intl.DateTimeFormat(t.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,u.J)(t)?"h12":"h23",timeZone:(0,r.w)(t.time_zone,e)})),h=(t,e,n)=>m(e,n.time_zone).format(t),m=(0,a.A)((t,e)=>new Intl.DateTimeFormat(t.language,{hour:(0,u.J)(t)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,u.J)(t)?"h12":"h23",timeZone:(0,r.w)(t.time_zone,e)})),f=(t,e,n)=>d(e,n.time_zone).format(t),d=(0,a.A)((t,e)=>new Intl.DateTimeFormat(t.language,{weekday:"long",hour:(0,u.J)(t)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,u.J)(t)?"h12":"h23",timeZone:(0,r.w)(t.time_zone,e)})),g=(t,e,n)=>y(e,n.time_zone).format(t),y=(0,a.A)((t,e)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,r.w)(t.time_zone,e)}));o()}catch(l){o(l)}})},8480:function(t,e,n){n.a(t,async function(t,o){try{n.d(e,{n:function(){return h},w:function(){return m}});var i,a,r,u=n(74487),c=n(46927),l=t([u]);u=(l.then?(await l)():l)[0];var s=null===(i=Intl.DateTimeFormat)||void 0===i||null===(a=(r=i.call(Intl)).resolvedOptions)||void 0===a?void 0:a.call(r).timeZone,h=null!=s?s:"UTC",m=function(t,e){return t===c.Wj.local&&s?h:e};o()}catch(f){o(f)}})},69543:function(t,e,n){n.d(e,{J:function(){return a}});n(74423),n(21699);var o=n(22786),i=n(46927),a=(0,o.A)(function(t){if(t.time_format===i.Hg.language||t.time_format===i.Hg.system){var e=t.time_format===i.Hg.language?t.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(e).includes("10")}return t.time_format===i.Hg.am_pm})},76774:function(t,e,n){n.d(e,{w:function(){return o}});var o=function(t,e){var n=t.area_id,o=n?e.areas[n]:void 0,i=null==o?void 0:o.floor_id;return{device:t,area:o||null,floor:(i?e.floors[i]:void 0)||null}}},75428:function(t,e,n){n.d(e,{D:function(){return a}});var o=n(75158),i=n.n(o),a=function(t){return i()(t,{whiteList:{},stripIgnoreTag:!0,stripIgnoreTagBody:!0})}},34218:function(t,e,n){n.d(e,{P:function(){return r}});var o=n(47075),i=n(78261),a=n(31432);n(23792),n(44114),n(72712),n(18111),n(18237),n(36033),n(2892),n(26099),n(47764),n(62953);function r(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t)return[];if(t.length<=e)return t;var c,l=null!=n?n:u(t[0])[0],s=null!=o?o:u(t[t.length-1])[0],h=Math.ceil((s-l)/Math.floor(e)),m=new Map,f=(0,a.A)(t);try{for(f.s();!(c=f.n()).done;){var d=c.value,g=u(d);if(Array.isArray(g)){var y=Number(g[0]),v=Number(g[1]);if(!isNaN(y)&&!isNaN(v)){var p=Math.floor((y-l)/h),_=m.get(p);_?_.push({point:d,x:y,y:v}):m.set(p,[{point:d,x:y,y:v}])}}}}catch(j){f.e(j)}finally{f.f()}var b=[];if(r){var w,A=(0,a.A)(m);try{for(A.s();!(w=A.n()).done;){var x=(0,i.A)(w.value,2),z=(x[0],x[1]),M=z.reduce(function(t,e){return t+e.y},0),C=M/z.length,k=z.reduce(function(t,e){return t+e.x},0),D=k/z.length,P=u(z[0].point),I=Array.isArray(P)?[D,C]:{value:[D,C]};b.push(I)}}catch(j){A.e(j)}finally{A.f()}}else{var L,F=(0,a.A)(m);try{for(F.s();!(L=F.n()).done;){var T,Z=(0,i.A)(L.value,2),S=(Z[0],Z[1]),N=S[0],H=S[0],V=(0,a.A)(S);try{for(V.s();!(T=V.n()).done;){var E=T.value;E.y<N.y&&(N=E),E.y>H.y&&(H=E)}}catch(j){V.e(j)}finally{V.f()}N.x>H.x&&b.push(H.point),b.push(N.point),N.x<H.x&&b.push(H.point)}}catch(j){F.e(j)}finally{F.f()}}return b}function u(t){return t&&"object"===(0,o.A)(t)&&"value"in t?t.value:t}},7358:function(t,e,n){n.a(t,async function(t,e){try{var o,i,a=n(72153),r=n(44734),u=n(43080),c=n(69683),l=n(6454),s=(n(28706),n(2008),n(50113),n(23792),n(62062),n(44114),n(18111),n(22489),n(20116),n(7588),n(61701),n(69085),n(26099),n(3362),n(47764),n(23500),n(62953),n(40445)),h=n(96196),m=n(77845),f=n(22786),d=n(71769),g=n(44439),y=n(54706),v=n(19459),p=t([g]);g=(p.then?(await p)():p)[0];var _,b=function(t){function e(){var t;return(0,r.A)(this,e),(t=(0,c.A)(this,e))._reducedMotion=!1,t._physicsEnabled=!0,t._showLabels=!0,t._nodePositions={},t._createOptions=(0,f.A)(function(e){return{tooltip:{trigger:"item",confine:!0,formatter:t.tooltipFormatter},legend:{show:!(null==e||!e.length),data:null==e?void 0:e.map(function(t){return Object.assign(Object.assign({},t),{},{icon:t.symbol})}),top:8},dataZoom:{type:"inside",filterMode:"none"}}},v.b),t._getSeries=(0,f.A)(function(e,n,o,i,a){return{id:"network",type:"graph",layout:n?"force":"none",draggable:!0,roam:!0,roamTrigger:"global",selectedMode:"single",label:{show:i,position:"right",formatter:function(t){var e,n,o=t.data;return o.context?"{primary|".concat(null!==(n=o.name)&&void 0!==n?n:"","}\n{secondary|").concat(o.context,"}"):null!==(e=o.name)&&void 0!==e?e:""},rich:{primary:{fontSize:12},secondary:{fontSize:12,color:getComputedStyle(document.body).getPropertyValue("--secondary-text-color"),lineHeight:16}}},emphasis:{focus:a?"none":"adjacency"},force:{repulsion:[400,600],edgeLength:[200,350],gravity:.05,layoutAnimation:!o&&e.nodes.length<100},edgeSymbol:["none","arrow"],edgeSymbolSize:10,data:t._getSeriesData(e.nodes,e.links,t._nodePositions),links:e.links.map(function(t){var e;return Object.assign(Object.assign({},t),{},{value:t.reverseValue?Math.max(null!==(e=t.value)&&void 0!==e?e:0,t.reverseValue):t.value,symbolSize:t.reverseValue?1:t.symbolSize})}),categories:e.categories||[]}},v.b),t._getSeriesData=(0,f.A)(function(e,n,o){return t._getPositionedNodes(e,n,o).map(function(t){return{id:t.id,name:t.name,context:t.context,category:t.category,value:t.value,symbolSize:t.symbolSize||30,symbol:t.symbol||"circle",itemStyle:t.itemStyle||{},fixed:t.fixed,x:t.x,y:t.y}})},v.b),_||Promise.all([n.e("49021"),n.e("37552"),n.e("54671"),n.e("50383"),n.e("9970"),n.e("40584"),n.e("57400")]).then(n.bind(n,94230)).then(function(e){_=e,t.requestUpdate()}),t}return(0,l.A)(e,t),(0,u.A)(e,[{key:"hassSubscribe",value:function(){var t=this;return[(0,d.m)("(prefers-reduced-motion)",function(e){t._reducedMotion!==e&&(t._reducedMotion=e)})]}},{key:"render",value:function(){var t,e;if(!_||null===(t=this.data.nodes)||void 0===t||!t.length)return h.s6;var n=window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches;return(0,h.qy)(o||(o=(0,a.A)(['<ha-chart-base .hass="','" .data="','" .options="','" height="100%" .extraComponents="','"> <slot name="button" slot="button"></slot> <ha-icon-button slot="button" class="','" .path="','" @click="','" label="','"></ha-icon-button> <ha-icon-button slot="button" class="','" .path="','" @click="','" label="','"></ha-icon-button> </ha-chart-base>'])),this.hass,this._getSeries(this.data,this._physicsEnabled,this._reducedMotion,this._showLabels,n),this._createOptions(null===(e=this.data)||void 0===e?void 0:e.categories),[_],this._physicsEnabled?"active":"inactive","M5,10A2,2 0 0,0 3,12C3,13.11 3.9,14 5,14C6.11,14 7,13.11 7,12A2,2 0 0,0 5,10M5,16A4,4 0 0,1 1,12A4,4 0 0,1 5,8A4,4 0 0,1 9,12A4,4 0 0,1 5,16M10.5,11H14V8L18,12L14,16V13H10.5V11M5,6C4.55,6 4.11,6.05 3.69,6.14C5.63,3.05 9.08,1 13,1C19.08,1 24,5.92 24,12C24,18.08 19.08,23 13,23C9.08,23 5.63,20.95 3.69,17.86C4.11,17.95 4.55,18 5,18C5.8,18 6.56,17.84 7.25,17.56C8.71,19.07 10.74,20 13,20A8,8 0 0,0 21,12A8,8 0 0,0 13,4C10.74,4 8.71,4.93 7.25,6.44C6.56,6.16 5.8,6 5,6Z",this._togglePhysics,this.hass.localize("ui.panel.config.common.graph.toggle_physics"),this._showLabels?"active":"inactive","M9.6,14L12,7.7L14.4,14M11,5L5.5,19H7.7L8.8,16H15L16.1,19H18.3L13,5H11Z",this._toggleLabels,this.hass.localize("ui.panel.config.common.graph.toggle_labels"))}},{key:"_getPositionedNodes",value:function(t,e,n){var o=this,i=this.clientWidth,a=this.clientHeight,r=t.map(function(t){return Object.assign({},t)});return r.forEach(function(t){n[t.id]&&(t.x=n[t.id].x,t.y=n[t.id].y),0===t.polarDistance&&(null==t.x&&null==t.y&&(t.x=i/2,t.y=a/2),o._positionNodeNeighbors(t,r,e,n))}),r.forEach(function(t){if(t.polarDistance&&null==t.x&&null==t.y){var e=2*Math.random()*Math.PI;t.x=Math.cos(e)*i/2*t.polarDistance+i/2,t.y=Math.sin(e)*a/2*t.polarDistance+a/2,o._nodePositions[t.id]={x:t.x,y:t.y}}}),r}},{key:"_positionNodeNeighbors",value:function(t,e,n,o,i){var a=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI,c=n.map(function(n){return n.source!==t.id||n.target===i||n.ignoreForceLayout?n.target!==t.id||n.source===i||n.ignoreForceLayout?null:e.find(function(t){return t.id===n.source}):e.find(function(t){return t.id===n.target})}).filter(Boolean);if(c.length){var l=Math.abs(u-r)/c.length,s=[];c.forEach(function(e,n){if(null==e.x&&null==e.y){var i=r+l*n+l/2;s.push({neighbor:e,angle:i}),o[e.id]?(e.x=o[e.id].x,e.y=o[e.id].y):(e.x=t.x+Math.cos(i)*a.clientWidth/4,e.y=t.y+Math.sin(i)*a.clientHeight/4)}}),s.forEach(function(i){var r=i.neighbor,u=i.angle;a._positionNodeNeighbors(r,e,n,o,t.id,u-Math.PI/2,u+Math.PI/2)})}}},{key:"_togglePhysics",value:function(){this._saveNodePositions(),this._physicsEnabled=!this._physicsEnabled}},{key:"_toggleLabels",value:function(){this._showLabels=!this._showLabels}},{key:"_saveNodePositions",value:function(){var t,e={};null!==(t=this._baseChart)&&void 0!==t&&t.chart&&this._baseChart.chart.getModel().getSeriesByIndex(0).getGraph().eachNode(function(t){var n=t.getLayout();n&&(e[t.id]={x:n[0],y:n[1]})}),this._nodePositions=e}}])}((0,y.E)(h.WF));b.styles=(0,h.AH)(i||(i=(0,a.A)([":host{display:block;position:relative}ha-chart-base{height:100%;--chart-max-height:100%}::slotted(ha-icon-button),ha-icon-button{margin-right:12px}"]))),(0,s.Cg)([(0,m.MZ)({attribute:!1})],b.prototype,"data",void 0),(0,s.Cg)([(0,m.MZ)({attribute:!1})],b.prototype,"tooltipFormatter",void 0),(0,s.Cg)([(0,m.wk)()],b.prototype,"_reducedMotion",void 0),(0,s.Cg)([(0,m.wk)()],b.prototype,"_physicsEnabled",void 0),(0,s.Cg)([(0,m.wk)()],b.prototype,"_showLabels",void 0),(0,s.Cg)([(0,m.P)("ha-chart-base")],b.prototype,"_baseChart",void 0),b=(0,s.Cg)([(0,m.EM)("ha-network-graph")],b),e()}catch(w){e(w)}})}}]);
//# sourceMappingURL=23839.6b7f1b36f5e3ccc7.js.map