"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["27174"],{90433:function(e,t,n){n.d(t,{Vy:function(){return r},fI:function(){return s},ux:function(){return c}});n(23418),n(47764);var i=n(22786),o=n(79468),a=54;function r(e,t){var n=e%a+1;return t.getPropertyValue("--color-".concat(n))}function s(e,t){var n=t.getPropertyValue("--graph-color-".concat(e+1))||r(e,t);return(0,o.RQ)(n)}var c=(0,i.A)(function(e){return Array.from({length:a},function(t,n){return s(n,e)})},function(e,t){return e[0].getPropertyValue("--graph-color-1")===t[0].getPropertyValue("--graph-color-1")&&e[0].getPropertyValue("--color-1")===t[0].getPropertyValue("--color-1")})},26218:function(e,t,n){n.d(t,{a:function(){return a}});var i=n(47075),o=(n(16280),n(69085),n(83851),(0,n(77796).n)(function(e){history.replaceState({scrollPosition:e},"")},300));function a(e){return function(t,n){if("object"===(0,i.A)(n))throw new Error("This decorator does not support this compilation type.");var a=t.connectedCallback;t.connectedCallback=function(){var t=this;a.call(this);var i=this[n];i&&this.updateComplete.then(function(){var n=t.renderRoot.querySelector(e);n&&setTimeout(function(){n.scrollTop=i},0)})};var r,s=Object.getOwnPropertyDescriptor(t,n);if(void 0===s)r={get:function(){var e;return this["__".concat(String(n))]||(null===(e=history.state)||void 0===e?void 0:e.scrollPosition)},set:function(e){o(e),this["__".concat(String(n))]=e},configurable:!0,enumerable:!0};else{var c=s.set;r=Object.assign(Object.assign({},s),{},{set:function(e){o(e),this["__".concat(String(n))]=e,null==c||c.call(this,e)}})}Object.defineProperty(t,n,r)}}},15090:function(e,t,n){n.d(t,{n:function(){return d},v:function(){return u}});var i=n(78261),o=n(7739),a=(n(2008),n(23792),n(62062),n(44114),n(26910),n(18111),n(22489),n(61701),n(5506),n(26099),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(47764),n(62953),n(22675)),r=n(52220),s=n(71727),c=n(69093),u={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],alert:["on","off","idle"],assist_satellite:["idle","listening","responding","processing"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],lawn_mower:["error","paused","mowing","returning","docked"],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking","opening","open"],media_player:["off","on","idle","playing","paused","standby","buffering"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],valve:["closed","closing","open","opening"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},l={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","defrosting","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contributing_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","ph","pm1","pm10","pm25","pm4","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage","volume_flow_rate"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=(0,c.t)(t),_=[];switch(!n&&d in u?_.push.apply(_,(0,o.A)(u[d])):n&&d in l&&n in l[d]&&_.push.apply(_,(0,o.A)(l[d][n])),d){case"climate":n?"fan_mode"===n?_.push.apply(_,(0,o.A)(t.attributes.fan_modes)):"preset_mode"===n?_.push.apply(_,(0,o.A)(t.attributes.preset_modes)):"swing_mode"===n&&_.push.apply(_,(0,o.A)(t.attributes.swing_modes)):_.push.apply(_,(0,o.A)(t.attributes.hvac_modes));break;case"device_tracker":case"person":n||_.push.apply(_,(0,o.A)(Object.entries(e.states).filter(function(e){var t=(0,i.A)(e,2),n=t[0],o=t[1];return"zone"===(0,s.m)(n)&&"zone.home"!==n&&o.attributes.friendly_name}).map(function(e){var t=(0,i.A)(e,2);t[0];return t[1].attributes.friendly_name}).sort(function(t,n){return(0,r.xL)(t,n,e.locale.language)})));break;case"event":"event_type"===n&&_.push.apply(_,(0,o.A)(t.attributes.event_types));break;case"fan":"preset_mode"===n&&_.push.apply(_,(0,o.A)(t.attributes.preset_modes));break;case"humidifier":"mode"===n&&_.push.apply(_,(0,o.A)(t.attributes.available_modes));break;case"input_select":case"select":n||_.push.apply(_,(0,o.A)(t.attributes.options));break;case"light":"effect"===n&&t.attributes.effect_list?_.push.apply(_,(0,o.A)(t.attributes.effect_list)):"color_mode"===n&&t.attributes.supported_color_modes&&_.push.apply(_,(0,o.A)(t.attributes.supported_color_modes));break;case"media_player":"sound_mode"===n?_.push.apply(_,(0,o.A)(t.attributes.sound_mode_list)):"source"===n&&_.push.apply(_,(0,o.A)(t.attributes.source_list));break;case"remote":"current_activity"===n&&_.push.apply(_,(0,o.A)(t.attributes.activity_list));break;case"sensor":n||"enum"!==t.attributes.device_class||_.push.apply(_,(0,o.A)(t.attributes.options));break;case"vacuum":"fan_speed"===n&&_.push.apply(_,(0,o.A)(t.attributes.fan_speed_list));break;case"water_heater":n&&"operation_mode"!==n||_.push.apply(_,(0,o.A)(t.attributes.operation_list))}return n||_.push.apply(_,(0,o.A)(a.s7)),(0,o.A)(new Set(_))}},22533:function(e,t,n){n.d(t,{i:function(){return o}});var i=n(52943),o=function(e,t){return function(e){switch(e){case"de":case"lb":return!0;default:return!1}}(t)?(0,i.Z)(e):e.toLocaleLowerCase(t)}},86531:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{$O:function(){return b},a$:function(){return k},cj:function(){return h},dG:function(){return y},gM:function(){return v},gd:function(){return f},rc:function(){return w}});var o=n(61397),a=n(50264),r=(n(28706),n(74423),n(79432),n(26099),n(3362),n(27495),n(38781),n(25440),n(11392),n(46190)),s=n(71727),c=n(69093),u=n(22533),l=n(22675),d=n(25064),_=e([d]);d=(_.then?(await _)():_)[0];var p="ui.components.logbook.messages",h=["counter","proximity"],g={triggered_by_numeric_state_of:"numeric state of",triggered_by_state_of:"state of",triggered_by_event:"event",triggered_by_time_pattern:"time pattern",triggered_by_time:"time",triggered_by_homeassistant_stopping:"Home Assistant stopping",triggered_by_homeassistant_starting:"Home Assistant starting"},f=function(){var e=(0,a.A)((0,o.A)().m(function e(t,n,i){return(0,o.A)().w(function(e){for(;;)if(0===e.n)return e.a(2,m(t,n,void 0,void 0,i))},e)}));return function(t,n,i){return e.apply(this,arguments)}}(),m=function(e,t,n,i,o,a){if((i||a)&&(!i||0===i.length)&&(!a||0===a.length))return Promise.resolve([]);var r={type:"logbook/get_events",start_time:t};return n&&(r.end_time=n),null!=i&&i.length&&(r.entity_ids=i),null!=a&&a.length&&(r.device_ids=a),o&&(r.context_id=o),e.callWS(r)},v=function(e,t,n,i,o,a,r){if((a||r)&&(!a||0===a.length)&&(!r||0===r.length))return Promise.reject("No entities or devices");var s={type:"logbook/event_stream",start_time:n,end_time:i};return null!=a&&a.length&&(s.entity_ids=a),null!=r&&r.length&&(s.device_ids=r),e.connection.subscribeMessage(function(e){return t(e,o)},s)},y=function(e,t){return{entity_id:e.entity_id,state:t,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:r.oL.has((0,s.m)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:r.oL.has((0,s.m)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}},b=function(e,t){for(var n=0,i=Object.keys(g);n<i.length;n++){var o=i[n],a=g[o];if(t.startsWith(a))return t.replace(a,"".concat(e("ui.components.logbook.".concat(o))))}return t},k=function(e,t,n,i,o){switch(o){case"device_tracker":case"person":return"not_home"===n?t("".concat(p,".was_away")):"home"===n?t("".concat(p,".was_at_home")):t("".concat(p,".was_at_state"),{state:n});case"sun":return t("".concat(p,"above_horizon"===n?".rose":".set"));case"binary_sensor":var a=n===r.Or,s=n===r.qg,c=i.attributes.device_class;if(c&&(a||s))return t("".concat(p,".").concat(a?"detected_device_classes":"cleared_device_classes",".").concat(c),{device_class:(0,u.i)(t("component.binary_sensor.entity_component.".concat(c,".name"))||c,e.language)})||t("".concat(p,".").concat(a?"detected_device_class":"cleared_device_class"),{device_class:(0,u.i)(t("component.binary_sensor.entity_component.".concat(c,".name"))||c,e.language)});break;case"cover":switch(n){case"open":return t("".concat(p,".was_opened"));case"opening":return t("".concat(p,".is_opening"));case"closing":return t("".concat(p,".is_closing"));case"closed":return t("".concat(p,".was_closed"))}break;case"event":return t("".concat(p,".detected_event_no_type"));case"lock":switch(n){case"unlocked":return t("".concat(p,".was_unlocked"));case"locking":return t("".concat(p,".is_locking"));case"unlocking":return t("".concat(p,".is_unlocking"));case"opening":return t("".concat(p,".is_opening"));case"open":return t("".concat(p,".is_opened"));case"locked":return t("".concat(p,".was_locked"));case"jammed":return t("".concat(p,".is_jammed"))}}return n===r.Or?t("".concat(p,".turned_on")):n===r.qg?t("".concat(p,".turned_off")):n===l.HV?t("".concat(p,".became_unknown")):n===l.Hh?t("".concat(p,".became_unavailable")):e.localize("".concat(p,".changed_to_state"),{state:i?e.formatEntityState(i,n):n})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,c.t)(e);return!(h.includes(n)||"sensor"===n&&(0,d.Fp)(n,e,void 0,t))};i()}catch(A){i(A)}})},42526:function(e,t,n){n.a(e,async function(e,i){try{n.r(t),n.d(t,{DEFAULT_HOURS_TO_SHOW:function(){return j},HuiLogbookCard:function(){return z}});var o,a,r,s=n(61397),c=n(50264),u=n(72153),l=n(44734),d=n(43080),_=n(69683),p=n(6454),h=n(25460),g=(n(49255),n(16280),n(28706),n(23792),n(62062),n(18111),n(61701),n(69085),n(26099),n(3362),n(47764),n(62953),n(40445)),f=n(96196),m=n(77845),v=n(94333),y=n(22786),b=n(36312),k=n(42372),w=(n(76776),n(89434)),A=n(13632),x=n(20939),C=(n(85979),n(95311)),P=n(44537),O=e([w]);w=(O.then?(await O)():O)[0];var j=24,z=function(e){function t(){var e;(0,l.A)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=(0,_.A)(this,t,[].concat(i)))._targetPickerValue={},e._getMemoizedEntityIds=(0,y.A)(function(t,n,i,o){return(0,C.wY)(e.hass,t,n,i,o)}),e}return(0,p.A)(t,e),(0,d.A)(t,[{key:"getCardSize",value:function(){var e;return 9+(null!==(e=this._config)&&void 0!==e&&e.title?1:0)}},{key:"getGridOptions",value:function(){var e;return{rows:6,columns:12,min_columns:6,min_rows:null!==(e=this._config)&&void 0!==e&&e.title?4:3}}},{key:"validateTarget",value:function(e){var t,n,i,o,a,r;if((!e.entities||e.entities.length)&&(!e.target||null!==(t=e.target.area_id)&&void 0!==t&&t.length||null!==(n=e.target.device_id)&&void 0!==n&&n.length||null!==(i=e.target.entity_id)&&void 0!==i&&i.length||null!==(o=e.target.floor_id)&&void 0!==o&&o.length||null!==(a=e.target.label_id)&&void 0!==a&&a.length))return e.entities?{entity_id:(0,x.L)(e.entities).map(function(e){return e.entity})}:null!==(r=e.target)&&void 0!==r&&r.entity_id?Object.assign(Object.assign({},e.target),{},{entity_id:(0,x.L)((0,P.e)(e.target.entity_id)).map(function(e){return e.entity})}):e.target}},{key:"setConfig",value:function(e){var t=this.validateTarget(e);if(!t)throw new Error("The provided target in the logbook card has no entities. Targets can include entities, devices, labels, or areas, with devices, areas, and labels resolving to entities.");this._config=Object.assign({hours_to_show:j},e),this._time={recent:60*this._config.hours_to_show*60},this._targetPickerValue=t,this._stateFilter=(0,P.e)(e.state_filter)}},{key:"_getEntityIds",value:function(){var e=this._getMemoizedEntityIds(this._targetPickerValue,this.hass.entities,this.hass.devices,this.hass.areas);if(0!==e.length)return e}},{key:"update",value:function(e){(0,h.A)(t,"update",this,3)([e]),e.has("layout")&&this.toggleAttribute("ispanel","panel"===this.layout)}},{key:"updated",value:function(e){if((0,h.A)(t,"updated",this,3)([e]),this._config&&this.hass){var n=e.has("_config"),i=e.has("hass"),o=e.get("hass"),a=e.get("_config");(i&&(null==o?void 0:o.themes)!==this.hass.themes||n&&(null==a?void 0:a.theme)!==this._config.theme)&&(0,k.Q)(this,this.hass.themes,this._config.theme)}}},{key:"render",value:function(){return this.hass&&this._config?(0,b.x)(this.hass,"logbook")?(0,f.qy)(a||(a=(0,u.A)([' <ha-card .header="','" class="','"> <div class="content"> <ha-logbook class="','" .hass="','" .time="','" .entityIds="','" .stateFilter="','" narrow relative-time virtualize></ha-logbook> </div> </ha-card> '])),this._config.title,(0,v.H)({"no-header":!this._config.title}),(0,v.H)({"is-grid":"grid"===this.layout,"is-panel":"panel"===this.layout}),this.hass,this._time,this._getEntityIds(),this._stateFilter):(0,f.qy)(o||(o=(0,u.A)([' <hui-warning .hass="','"> ',"</hui-warning> "])),this.hass,this.hass.localize("ui.components.logbook.not_loaded",{platform:"logbook"})):f.s6}}],[{key:"getConfigElement",value:(i=(0,c.A)((0,s.A)().m(function e(){return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([n.e("44533"),n.e("92769"),n.e("44966"),n.e("52242"),n.e("85844"),n.e("7592"),n.e("39005"),n.e("44838"),n.e("19065"),n.e("11766"),n.e("54643")]).then(n.bind(n,38355));case 1:return e.a(2,document.createElement("hui-logbook-card-editor"))}},e)})),function(){return i.apply(this,arguments)})},{key:"getStubConfig",value:function(e,t,n){return{target:{entity_id:(0,A.B)(e,3,t,n,["light","switch"])}}}},{key:"styles",get:function(){return[(0,f.AH)(r||(r=(0,u.A)(["ha-card{height:100%;display:flex;flex-direction:column;justify-content:space-between}.content{height:100%;padding:0 16px 16px}.no-header .content{padding-top:16px}ha-logbook{height:385px;display:block}ha-logbook.is-grid,ha-logbook.is-panel{height:100%}:host([ispanel]) .content,:host([ispanel]) ha-logbook{height:100%}"])))]}}]);var i}(f.WF);(0,g.Cg)([(0,m.MZ)({attribute:!1})],z.prototype,"hass",void 0),(0,g.Cg)([(0,m.MZ)({attribute:!1})],z.prototype,"layout",void 0),(0,g.Cg)([(0,m.wk)()],z.prototype,"_config",void 0),(0,g.Cg)([(0,m.wk)()],z.prototype,"_time",void 0),(0,g.Cg)([(0,m.wk)()],z.prototype,"_targetPickerValue",void 0),(0,g.Cg)([(0,m.wk)()],z.prototype,"_stateFilter",void 0),z=(0,g.Cg)([(0,m.EM)("hui-logbook-card")],z),i()}catch(S){i(S)}})},85614:function(e,t,n){n.d(t,{i:function(){return a}});var i=n(61397),o=n(50264),a=(n(23792),n(26099),n(3362),n(47764),n(62953),function(){var e=(0,o.A)((0,i.A)().m(function e(){return(0,i.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([n.e("38085"),n.e("64391")]).then(n.bind(n,40772));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=27174.d13f02946cd179fa.js.map