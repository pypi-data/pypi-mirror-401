"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["21394"],{50248:function(n,t,e){e.d(t,{n:function(){return r}});var r=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return null!==(n=t.activeElement)&&void 0!==n&&null!==(n=n.shadowRoot)&&void 0!==n&&n.activeElement?r(t.activeElement.shadowRoot):t.activeElement}},65522:function(n,t,e){e.d(t,{A:function(){return r}});e(42762);var r=function(n){var t;return null===(t=n.name)||void 0===t?void 0:t.trim()}},55931:function(n,t,e){e.d(t,{X:function(){return r}});e(42762);var r=function(n){var t;return null===(t=n.name)||void 0===t?void 0:t.trim()}},91926:function(n,t,e){e.d(t,{O:function(){return c},o:function(){return u}});e(3362),e(27495),e(25440);var r=e(96126),i=e(1087),a=e(63091);const o=async n=>{var t;const{history:e}=a.G;if(null===(t=e.state)||void 0===t||!t.dialog||Date.now()-n>=500)return!0;return await(0,r.Jh)()?(await new Promise(n=>{setTimeout(n)}),o(n)):(console.warn("Navigation blocked, because dialog refused to close"),!1)},u=async(n,t)=>{if(!(await o(Date.now())))return!1;const e=(null==t?void 0:t.replace)||!1;var r,u,c;return e?a.G.history.replaceState(null!==(r=a.G.history.state)&&void 0!==r&&r.root?{root:!0}:null!==(u=null==t?void 0:t.data)&&void 0!==u?u:null,"",n):a.G.history.pushState(null!==(c=null==t?void 0:t.data)&&void 0!==c?c:null,"",n),(0,i.r)(a.G,"location-changed",{replace:e}),!0},c=async n=>{if(!(await o(Date.now())))return;const{history:t}=a.G;if(t.length>1)return void t.back();u(n||"/",{replace:!0})}},38911:function(n,t,e){e.d(t,{$F:function(){return s},HD:function(){return b},IC:function(){return l},WF:function(){return f},Wq:function(){return i},X1:function(){return o},_o:function(){return g},g5:function(){return _},iN:function(){return a},ih:function(){return m},pe:function(){return y},qL:function(){return d},rX:function(){return h},rf:function(){return p},tM:function(){return v},wn:function(){return c},xJ:function(){return u}});var r=e(56261),i=(0,r.q6)("connection"),a=(0,r.q6)("states"),o=(0,r.q6)("entities"),u=(0,r.q6)("devices"),c=(0,r.q6)("areas"),s=(0,r.q6)("localize"),l=(0,r.q6)("locale"),f=(0,r.q6)("config"),d=(0,r.q6)("themes"),g=(0,r.q6)("selectedTheme"),v=(0,r.q6)("user"),y=(0,r.q6)("userData"),h=(0,r.q6)("panels"),m=(0,r.q6)("extendedEntities"),p=(0,r.q6)("floors"),b=(0,r.q6)("labels"),_=(0,r.q6)("configEntries")},59241:function(n,t,e){e.d(t,{BM:function(){return T},Bz:function(){return w},DW:function(){return d},Er:function(){return f},G3:function(){return y},G_:function(){return h},Ox:function(){return A},P9:function(){return q},RP:function(){return b},bg:function(){return m},jh:function(){return g},n4:function(){return k},v:function(){return v}});var r=e(31432),i=(e(2008),e(50113),e(74423),e(25276),e(26910),e(18111),e(22489),e(20116),e(69085),e(26099),e(70570)),a=e(22786),o=e(71727),u=e(28978),c=e(52220),s=e(9899),l=66649!=e.j?["sensor","binary_sensor"]:null,f=function(n,t){var e=t.filter(function(t){return n.states[t.entity_id]&&"battery"===n.states[t.entity_id].attributes.device_class&&l.includes((0,o.m)(t.entity_id))}).sort(function(n,t){return l.indexOf((0,o.m)(n.entity_id))-l.indexOf((0,o.m)(t.entity_id))});if(e.length>0)return e[0]},d=function(n,t){return t.find(function(t){return n.states[t.entity_id]&&"battery_charging"===n.states[t.entity_id].attributes.device_class})},g=function(n,t){if(t.name)return t.name;var e=n.states[t.entity_id];return e?(0,u.u)(e):t.original_name?t.original_name:t.entity_id},v=function(n,t){return n.callWS({type:"config/entity_registry/get",entity_id:t})},y=function(n,t){return n.callWS({type:"config/entity_registry/get_entries",entity_ids:t})},h=function(n,t,e){return n.callWS(Object.assign({type:"config/entity_registry/update",entity_id:t},e))},m=function(n,t){return n.callWS({type:"config/entity_registry/remove",entity_id:t})},p=function(n){return n.sendMessagePromise({type:"config/entity_registry/list"})},b=function(n){return n.sendMessagePromise({type:"config/entity_registry/list_for_display"})},_=function(n,t){return n.subscribeEvents((0,s.s)(function(){return p(n).then(function(n){return t.setState(n,!0)})},500,!0),"entity_registry_updated")},w=function(n,t){return(0,i.N)("_entityRegistry",p,_,n,t)},k=function(n,t){return n.sort(function(n,e){return(0,c.SH)(n.name||"",e.name||"",t)})},A=(0,a.A)(function(n){var t,e={},i=(0,r.A)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;e[a.entity_id]=a}}catch(o){i.e(o)}finally{i.f()}return e}),q=(0,a.A)(function(n){var t,e={},i=(0,r.A)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;e[a.id]=a}}catch(o){i.e(o)}finally{i.f()}return e}),T=function(n,t){return n.callWS({type:"config/entity_registry/get_automatic_entity_ids",entity_ids:t})}},65063:function(n,t,e){e.d(t,{an:function(){return c},dk:function(){return u},showAlertDialog:function(){return o}});e(23792),e(69085),e(26099),e(3362),e(47764),e(62953);var r=e(1087),i=function(){return Promise.all([e.e("44533"),e.e("7199"),e.e("37382"),e.e("71635"),e.e("42310")]).then(e.bind(e,26683))},a=function(n,t,e){return new Promise(function(a){var o=t.cancel,u=t.confirm;(0,r.r)(n,"show-dialog",{dialogTag:"dialog-box",dialogImport:i,dialogParams:Object.assign(Object.assign(Object.assign({},t),e),{},{cancel:function(){a(!(null==e||!e.prompt)&&null),o&&o()},confirm:function(n){a(null==e||!e.prompt||n),u&&u(n)}})})})},o=function(n,t){return a(n,t)},u=function(n,t){return a(n,t,{confirmation:!0})},c=function(n,t){return a(n,t,{prompt:!0})}},96126:function(n,t,e){e.d(t,{Jh:function(){return b},oO:function(){return w},t3:function(){return p},ui:function(){return h},zU:function(){return m}});var r=e(31432),i=e(61397),a=e(50264),o=(e(48980),e(44114),e(54554),e(69085),e(26099),e(3362),e(62371));if(66649!=e.j)var u=e(50248);var c,s,l,f=e(63091),d=e(12587),g={},v=[],y=Symbol.for("HA focus target"),h=66649!=e.j?(c=(0,a.A)((0,i.A)().m(function n(t,e,r,a,c){var s,l,d,m,p,b,w,A=arguments;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:if(s=!(A.length>5&&void 0!==A[5])||A[5],r in g){n.n=2;break}if(c){n.n=1;break}return n.a(2,!1);case 1:g[r]={element:c().then(function(){var n=document.createElement(r);return t.provideHass(n),n.addEventListener("dialog-closed",_),n.addEventListener("dialog-closed",k),n})};case 2:if(!s){n.n=5;break}if(m=f.G.history,null===(l=m.state)||void 0===l||!l.dialog||v.length){n.n=4;break}return n.n=3,new Promise(function(n){setTimeout(n)});case 3:return n.a(2,h(t,e,r,a,c,s));case 4:-1!==(p=v.findIndex(function(n){return n.dialogTag===r}))&&v.splice(p,1),v.push({element:t,root:e,dialogTag:r,dialogParams:a,dialogImport:c,addHistory:s}),b={dialog:r},null!==(d=m.state)&&void 0!==d&&d.dialog?m.replaceState(b,""):(m.replaceState(Object.assign(Object.assign({},m.state),{},{opensDialog:!0}),""),m.pushState(b,""));case 5:return g[r].closedFocusTargets=(0,o.E)((0,u.n)(),y),n.n=6,g[r].element;case 6:return w=n.v,e.appendChild(w),w.showDialog(a),n.a(2,!0)}},n)})),function(n,t,e,r,i){return c.apply(this,arguments)}):null,m=function(){var n=(0,a.A)((0,i.A)().m(function n(t,e){var r;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:if(t in g){n.n=1;break}return n.a(2,!0);case 1:return n.n=2,g[t].element;case 2:if(!(r=n.v).closeDialog){n.n=3;break}return n.a(2,!1!==r.closeDialog(e));case 3:return n.a(2,!0)}},n)}));return function(t,e){return n.apply(this,arguments)}}(),p=66649!=e.j?(s=(0,a.A)((0,i.A)().m(function n(t){var e,r,a;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:if(!v.length){n.n=2;break}return r=v.pop(),n.n=1,m(r.dialogTag,t);case 1:return(a=n.v)?v.length&&null!==(e=f.G.history.state)&&void 0!==e&&e.opensDialog&&f.G.history.pushState({dialog:v[v.length-1].dialogTag},""):v.push(r),n.a(2,a);case 2:return n.a(2,!0)}},n)})),function(n){return s.apply(this,arguments)}):null,b=function(){var n=(0,a.A)((0,i.A)().m(function n(){var t,e;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:t=v.length-1;case 1:if(!(t>=0)){n.n=5;break}if(e=!v[t]){n.n=3;break}return n.n=2,m(v[t].dialogTag);case 2:e=n.v;case 3:if(e){n.n=4;break}return n.a(2,!1);case 4:t--,n.n=1;break;case 5:return n.a(2,!0)}},n)}));return function(){return n.apply(this,arguments)}}(),_=function(n){var t,e=v.findIndex(function(t){return t.dialogTag===n.detail.dialog});-1!==e&&v.splice(e,1),(null===(t=f.G.history.state)||void 0===t?void 0:t.dialog)===n.detail.dialog&&(v.length?f.G.history.replaceState({dialog:v[v.length-1].dialogTag},""):-1!==e&&f.G.history.back())},w=function(n,t){n.addEventListener("show-dialog",function(e){var r=e.detail,i=r.dialogTag,a=r.dialogImport,o=r.dialogParams,u=r.addHistory;h(n,t,i,o,a,u)})},k=66649!=e.j?(l=(0,a.A)((0,i.A)().m(function n(t){var e,a,o,c,s,l;return(0,i.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:if(g[t.detail.dialog]){n.n=1;break}return n.a(2);case 1:if(e=g[t.detail.dialog].closedFocusTargets,delete g[t.detail.dialog].closedFocusTargets,e){n.n=2;break}return n.a(2);case 2:return(a=(0,u.n)())instanceof HTMLElement&&a.blur(),n.n=3,(0,d.E)();case 3:o=(0,r.A)(e),n.p=4,o.s();case 5:if((c=o.n()).done){n.n=7;break}if(!((s=c.value)instanceof HTMLElement)){n.n=6;break}if(s.focus(),!(a=(0,u.n)())||a===document.body){n.n=6;break}return n.a(2);case 6:n.n=5;break;case 7:n.n=9;break;case 8:n.p=8,l=n.v,o.e(l);case 9:return n.p=9,o.f(),n.f(9);case 10:case 11:return n.a(2)}},n,null,[[4,8,9,10]])})),function(n){return l.apply(this,arguments)}):null}}]);
//# sourceMappingURL=21394.5290004d2fbddfa9.js.map