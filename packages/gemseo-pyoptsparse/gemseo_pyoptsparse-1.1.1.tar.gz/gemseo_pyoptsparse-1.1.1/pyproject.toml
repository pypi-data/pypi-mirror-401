[project]
name = "gemseo-pyoptsparse"
authors = [{ name = "GEMSEO developers", email = "contact@gemseo.org" }]
description = "GEMSEO interface to pyoptsparse algorithms."
readme = "README.md"
license = "LGPL-3.0"
license-files = ["LICENSE.txt"]
classifiers = [
  "Intended Audience :: Science/Research",
  "Topic :: Scientific/Engineering",
  "Operating System :: POSIX :: Linux",
  "Operating System :: MacOS",
  "Operating System :: Microsoft :: Windows",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
]
dynamic = ["version"]
requires-python = ">=3.10, <3.14"
dependencies = [
  "gemseo[all] >=6.3,<7",
  "numpy",
  "pyoptsparse",
  # This is an implicit dependency of pyoptsparse.
  "setuptools",
]

[dependency-groups]
dev = ["covdefaults >=2", "pytest >=7,<9", "pytest-cov >=5", "pytest-xdist >=3"]
doc = [
  "black",
  "griffe-fieldz",
  "griffe-inherited-docstrings",
  "markdown-exec[ansi]",
  "mike",
  "mkdocs-bibtex",
  "mkdocs-gallery",
  "mkdocs-gen-files",
  "mkdocs-include-markdown-plugin",
  "mkdocs-literate-nav",
  "mkdocs-material",
  "mkdocs-section-index",
  "mkdocstrings[python]",
]

#[tool.uv]
#allow-insecure-host = ["https://forge-mdo.irt-aese.local"]

[project.urls]
Homepage = "https://gemseo.org"
Source = "https://gitlab.com/gemseo/dev/gemseo-pyoptsparse"
Issues = "https://gitlab.com/gemseo/dev/gemseo-pyoptsparse/-/issues"

[project.entry-points]
gemseo_plugins = { gemseo-pyoptsparse = "gemseo_pyoptsparse" }

[build-system]
requires = ["setuptools", "setuptools_scm[toml]"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]

[tool.uv]
native-tls = true

[tool.uv.sources]
torch = { index = "pyoptsparse" }

[[tool.uv.index]]
name = "pyoptsparse"
url = "https://forge-mdo.irt-aese.local/api/v4/projects/118/packages/pypi/simple"
