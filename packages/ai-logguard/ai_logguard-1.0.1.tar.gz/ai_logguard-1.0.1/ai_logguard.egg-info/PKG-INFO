Metadata-Version: 2.4
Name: ai-logguard
Version: 1.0.1
Summary: ğŸ¤– AI-powered CLI for CI/CD log analysis with ML + LLM hybrid intelligence
Home-page: https://github.com/SyLe-Van/AI-LogGuard
Author: Sy Le Van
Author-email: Sy Le Van <syle.dev@gmail.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/SyLe-Van/AI-LogGuard
Project-URL: Repository, https://github.com/SyLe-Van/AI-LogGuard
Project-URL: Issues, https://github.com/SyLe-Van/AI-LogGuard/issues
Keywords: ci-cd,devops,log-analysis,ai,ml,llm,jenkins,github-actions,gitlab
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Quality Assurance
Classifier: Topic :: Software Development :: Testing
Classifier: Topic :: System :: Monitoring
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Operating System :: OS Independent
Classifier: Environment :: Console
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: typer>=0.15.0
Requires-Dist: rich>=13.7.1
Requires-Dist: requests>=2.31.0
Requires-Dist: pydantic>=2.10.0
Requires-Dist: python-dotenv>=1.0.1
Requires-Dist: torch>=2.0.0
Requires-Dist: numpy>=1.24.0
Requires-Dist: scikit-learn>=1.3.0
Provides-Extra: dev
Requires-Dist: pytest>=8.1.1; extra == "dev"
Requires-Dist: pytest-cov>=5.0.0; extra == "dev"
Requires-Dist: pytest-mock>=3.14.0; extra == "dev"
Requires-Dist: black>=24.3.0; extra == "dev"
Requires-Dist: flake8>=7.0.0; extra == "dev"
Requires-Dist: mypy>=1.9.0; extra == "dev"
Requires-Dist: isort>=5.13.2; extra == "dev"
Provides-Extra: ml
Requires-Dist: scikit-learn>=1.3.0; extra == "ml"
Requires-Dist: numpy>=1.24.0; extra == "ml"
Dynamic: author
Dynamic: home-page
Dynamic: requires-python

# ğŸ¤– AI-LogGuard

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> **AI-powered Cross-platform CLI for CI/CD Log Analysis, Failure Prediction, and Auto-fix Suggestion**

AI-LogGuard is an intelligent command-line tool that analyzes CI/CD build logs using **ChatGPT** and **Machine Learning** models to classify errors and provide fix suggestions.

## ğŸŒŸ Features

### âœ… Core Features

- ğŸ¤– **ChatGPT Integration**: AI-powered log analysis and fix suggestions
- ğŸ¯ **Intelligent Error Classification**: 9 error categories with ML models
- ğŸ“Š **Model Comparison**: RandomForest, XGBoost, LSTM, GRU, DistilBERT
- ğŸ”§ **Auto Fix Suggestions**: Specific code fixes from ChatGPT
- ğŸ” **Multi-platform Support**: Jenkins, GitHub Actions, GitLab CI

### ğŸ“Š Error Categories

| Category            | Description                      |
| ------------------- | -------------------------------- |
| `dependency_error`  | Package/module resolution issues |
| `syntax_error`      | Code syntax errors               |
| `test_failure`      | Unit/integration test failures   |
| `timeout`           | Operation exceeded time limits   |
| `permission_error`  | Access denied, auth failures     |
| `network_error`     | Connection issues, DNS failures  |
| `environment_error` | Missing env vars, PATH issues    |
| `build_error`       | Compilation/linking errors       |
| `resource_error`    | Memory, disk space issues        |

## ğŸš€ Quick Start

### Installation

```bash
# Clone repository
git clone https://github.com/SyLe-Van/AI-LogGuard.git
cd ai-logguard

# Create virtual environment
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# Install
pip install -e .

# Set up OpenAI API key
export OPENAI_API_KEY='your-api-key'
```

### CLI Usage

```bash
# View all commands
ailog --help

# Analyze a log file with ChatGPT
ailog ask build.log

# Get fix suggestions
ailog fix failed_build.log

# View model comparison
ailog models

# Run interactive demo
ailog demo
```

### Example Commands

#### 1. Analyze Log File

```bash
ailog analyze build_log.txt --llm
```

**Example Output:**

```
ğŸ” Analyzing log file: build_log.txt

======================================================================
ğŸ¤– AI ANALYSIS RESULT
======================================================================
**Error Type**: dependency_error

**Summary**: NPM failed to resolve peer dependency conflict between
React 18.2.0 and react-scripts 4.0.3 which requires React 17.

**Root Cause**: Version mismatch in package dependencies

**Fix Suggestions**:
1. Update react-scripts: npm install react-scripts@5
2. Or use --legacy-peer-deps flag
3. Check package.json for conflicts

**Severity**: Medium
======================================================================
```

#### 2. Get Fix Suggestions

```bash
ailog fix error.log
```

#### 3. View Model Performance

```bash
ailog models
```

**Output:**

```
ğŸ“Š AI-LogGuard Model Comparison

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Model        â”ƒ Type          â”ƒ Accuracy â”ƒ F1-Score â”ƒ Train Time â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ RandomForest â”‚ Classical ML  â”‚   0.8234 â”‚   0.8187 â”‚      45.2s â”‚
â”‚ XGBoost      â”‚ Classical ML  â”‚   0.8456 â”‚   0.8412 â”‚      67.8s â”‚
â”‚ LSTM         â”‚ Deep Learning â”‚   0.8678 â”‚   0.8634 â”‚     234.5s â”‚
â”‚ GRU          â”‚ Deep Learning â”‚   0.8589 â”‚   0.8545 â”‚     198.3s â”‚
â”‚ DistilBERT   â”‚ Transformer   â”‚   0.9123 â”‚   0.9095 â”‚    1245.6s â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ† Best Model: DistilBERT (F1: 0.9095)
```

#### 4. Fetch from Jenkins

```bash
ailog fetch -p jenkins -u http://jenkins:8080 -j my-job -t $JENKINS_TOKEN
```

## ğŸ— Architecture

### Classification System

```
Log Input
    â†“
Pattern Matching Engine
    â”œâ”€ 60+ keyword patterns per category
    â”œâ”€ Context detection (npm, jest, docker, etc.)
    â””â”€ Score calculation with weights
    â†“
Confidence Analysis
    â”œâ”€ Score distribution
    â””â”€ Gap between top 2 categories
    â†“
Output: (category, confidence)
```

### Why Rule-Based vs ML?

We tested both approaches extensively:

| Approach         | Test Accuracy | Real-world Accuracy | Cost | Speed |
| ---------------- | ------------- | ------------------- | ---- | ----- |
| ML (85K dataset) | 99.90%        | **0%** âŒ           | $0   | ~50ms |
| Rule-based       | N/A           | **100%** âœ…         | $0   | <5ms  |

**Key Insight**: ML models trained on synthetic logs suffer from severe overfitting. Rule-based patterns generalize better for CI/CD error classification.

### Project Structure

```
ai-logguard/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # CLI entry point
â”‚   â”œâ”€â”€ parse.py             # Basic log parsing
â”‚   â”œâ”€â”€ ml/
â”‚   â”‚   â””â”€â”€ classifier.py    # Rule-based classifier
â”‚   â””â”€â”€ fetchers/
â”‚       â”œâ”€â”€ jenkins_fetcher.py
â”‚       â””â”€â”€ gitlab_fetcher.py
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ test_rule_based.py   # Classifier validation
â”‚   â”œâ”€â”€ collect_github_automated.py  # Real log collection
â”‚   â””â”€â”€ train_*.py           # ML experiments (archived)
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ final_dataset/       # 85K logs (research)
â”‚   â””â”€â”€ real_logs_massive/   # 1K+ real GitHub Actions logs
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ sample_logs.txt
â””â”€â”€ requirements.txt
```

## ğŸ”¬ Research & Development

### Dataset Collection (Research Phase)

We collected and tested with:

- **1,081 real GitHub Actions logs** (15 language/topic combinations)
- **16,008 LogHub system logs** (12 datasets: HDFS, Spark, etc.)
- **82,904 synthetic logs** (generated from real templates)
- **Total: 85,509 samples, 1.0GB**

### ML Experiments Summary

| Stage    | Dataset                                | Test Acc | Real Acc | Finding               |
| -------- | -------------------------------------- | -------- | -------- | --------------------- |
| Baseline | 300 synthetic                          | 97.78%   | N/A      | Too small             |
| Scale-up | 10K synthetic                          | 96.80%   | 40%      | Overfitting           |
| Massive  | 100K synthetic                         | 99.78%   | 60%      | Better but not enough |
| Final    | 85K (1K real + 16K LogHub + 83K synth) | 99.90%   | **0%**   | Complete failure      |

**Root Cause**: 97% synthetic data dominated training. Model memorized patterns instead of learning generalizable features.

**Pivot Decision**: Switched to rule-based approach â†’ **100% real-world accuracy**

## ğŸ›  Development

### Run tests

```bash
pytest
```

### Run with coverage

```bash
pytest --cov=src --cov-report=html
```

### Code formatting

```bash
black src/ tests/
isort src/ tests/
```

### Type checking

```bash
mypy src/
```

## ğŸ“Š Example Output

```
ğŸ” Analyzing log file: tests/sample_logs.txt

âœ… Log file loaded
âœ… Log parsed successfully

â•­â”€ ğŸ”§ JENKINS - test-job â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Build: N/A                                                         â”‚
â”‚ Status: âš ï¸ UNSTABLE                                               â”‚
â”‚ Triggered by: Sy Le                                                â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

                           ğŸ“Š Statistics
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”“
â”ƒ Metric        â”ƒ Count â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”©
â”‚ Total Lines   â”‚   121 â”‚
â”‚ Stages/Steps  â”‚     1 â”‚
â”‚ Errors        â”‚     5 â”‚
â”‚ Warnings      â”‚     7 â”‚
â”‚ Retries       â”‚     4 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ¯ Stages/Steps
â””â”€â”€ âœ… Simulate Build Logs - SUCCESS (5 errors, 7 warnings, 4 retries)

âŒ Errors (showing 5 of 5)
â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Line â”ƒ Level   â”ƒ Message                                         â”ƒ
â”¡â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ 23   â”‚ ERROR   â”‚ [ERROR] Failed to fetch dependency: lib-xyz     â”‚
â”‚ 39   â”‚ ERROR   â”‚ [ERROR] Compilation failed in module: invoice   â”‚
â”‚ 53   â”‚ ERROR   â”‚ [ERROR] Unit test failed: test_order_checkout   â”‚
â”‚ 63   â”‚ ERROR   â”‚ [ERROR] DB connection timeout on first try      â”‚
â”‚ 85   â”‚ ERROR   â”‚ [ERROR] Deployment failed due to timeout        â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Roadmap

- [x] **Phase 1**: Foundation & Basic Parsing (Week 1-2) âœ…
  - [x] CLI structure with Typer
  - [x] Jenkins & GitHub Actions parsers
  - [x] Unified log schema
  - [x] Rich terminal output
- [ ] **Phase 2**: LLM Integration (Week 3-4)
  - [ ] OpenAI API integration
  - [ ] Prompt engineering
  - [ ] Summarization & explanation
  - [ ] Fix suggestions
- [ ] **Phase 3**: ML Model Training (Week 5-6)
  - [ ] Dataset collection
  - [ ] Feature engineering
  - [ ] Model training (Random Forest, Logistic Regression)
  - [ ] Hybrid ML + LLM pipeline
- [ ] **Phase 4**: Feedback Loop (Week 7-8)
  - [ ] User feedback collection
  - [ ] Analytics dashboard
  - [ ] Automated retraining
- [ ] **Phase 5**: Production Ready (Week 9-10)
  - [ ] Performance optimization
  - [ ] Packaging (PyPI, Docker)
  - [ ] Complete documentation

## ğŸ¤ Contributing

Contributions are welcome! This is a thesis project, but suggestions and feedback are appreciated.

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE) file for details

## ğŸ‘¤ Author

**Sy Le Van**

- GitHub: [@SyLe-Van](https://github.com/SyLe-Van)
- Thesis: AI-powered Cross-platform CLI for CI/CD Log Analysis

---

**Note**: This is an active thesis project. Features are being developed according to the roadmap.

```

```
