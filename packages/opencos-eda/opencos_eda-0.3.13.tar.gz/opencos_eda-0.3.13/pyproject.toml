

[project]
name = "opencos-eda"
version = "0.3.13"
dependencies = [
  # opencos/eda.py dependencies
  "mergedeep >= 1.3.4",
  "peakrdl >= 1.1.0",
  "psutil >= 7.0.0",
  "pyyaml >= 6.0.2", # package name 'yaml'
  "python-dotenv >= 1.0.1",
  "schema >= 0.7.7",
  "toml >= 0.10.2",
  "yamllint >= 1.35.1",
  # opencos/oc_cli.py dependencies
  "PySerial >= 3.5",
  "supports_color >= 0.2.0",
]
requires-python = ">= 3.8"
authors = [
  {name = "Simon Sabato", email = "simon@cognichip.ai"},
  {name = "Drew Ranck", email = "drew@cognichip.ai"},
]
description = "A simple Python package for wrapping RTL simuliatons and synthesis"

[project.optional-dependencies]
dev = [
  "pylint >= 3.0.0",
  "pytest >= 8.3.5",
]
cocotb = [
  # cocotb is optional. You may want to set env COCOTB_IGNORE_PYTHON_REQUIRES
  # cocotb set a maximum python version
  "cocotb >= 2.0",
  "pytest >= 8.3.5",
  "coverage >= 7.6.1", # For python3.10, we could go >= 7.11.3
]
docs = [
  "mkdocs",
  "mkdocs-material",
  "mkdocs-wavedrom-plugin",
  "mkdocs-plantuml",
]

[project.urls]
Homepage = "https://github.com/cognichip/opencos"

[tool.setuptools]
# Only include these packages
packages = [
    "opencos",
    "opencos.commands",
    "opencos.deps",
    "opencos.hw",
    "opencos.tools",
    "opencos.utils",
    "opencos.docs", # mapped from ./docs
]

[tool.setuptools.package-dir]
# map our ./docs to be opencos.docs (from build perspective)
"opencos.docs" = "docs"

[tool.setuptools.package-data]
# Only include certain data
"*" = [
    "*.py",
    "eda_config*.yml",
    "_waves*pkg.sv",
    "eda_deps_bash_completion.bash",
]
"opencos.docs" = ["*.md"]

[project.scripts]
eda = "opencos.eda:main_cli"
oc_cli = "opencos.hw.oc_cli:main"
# For bash completion of DEPS target keys.
eda_targets = "opencos.eda_extract_targets:main"
# For linting DEPS.yml
eda_deps_schema = "opencos.deps_schema:main"
# For dumping JSON to sdout of DEPS.yml:
eda_deps_sanitize = "opencos.eda_deps_sanitize:main"
# For showing instructions on bash (tab) autocomplete
eda_show_autocomplete = "opencos.eda:main_show_autocomplete_instructions"


[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"
