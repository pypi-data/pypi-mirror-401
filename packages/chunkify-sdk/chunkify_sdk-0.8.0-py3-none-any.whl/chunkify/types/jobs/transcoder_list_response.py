# File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.

from typing import List, Optional
from datetime import datetime
from typing_extensions import Literal

from ..._models import BaseModel
from ..shared.chunkify_error import ChunkifyError

__all__ = ["TranscoderListResponse", "Data"]


class Data(BaseModel):
    id: str
    """Unique identifier of the transcoder"""

    billable_time: int
    """Billable time in seconds"""

    chunk_end_time: float
    """End time of the current chunk in seconds"""

    chunk_number: int
    """Number of the chunk being processed"""

    chunk_start_time: float
    """Start time of the current chunk in seconds"""

    cpu_time: float
    """CPU time used for transcoding in seconds"""

    created_at: datetime
    """Timestamp when the status was created"""

    fps: float
    """Current frames per second being processed"""

    frame: int
    """Current frame number being processed"""

    job_id: str
    """Unique identifier of the job"""

    out_time: int
    """Current output time in seconds"""

    progress: float
    """Progress percentage of the transcoding operation (0-100)"""

    speed: float
    """Current processing speed multiplier"""

    status: Literal["starting", "pending", "transcoding", "completed", "failed", "cancelled"]
    """Current status of the transcoder (starting, transcoding, finished, failed)"""

    transcoder_instance_id: str
    """Unique identifier of the transcoder instance (generated by the transcoder)"""

    updated_at: datetime
    """Timestamp when the status was last updated"""

    error: Optional[ChunkifyError] = None
    """Error message if the transcoding failed"""


class TranscoderListResponse(BaseModel):
    data: List[Data]

    status: str
    """Status indicates the response status "success" """
