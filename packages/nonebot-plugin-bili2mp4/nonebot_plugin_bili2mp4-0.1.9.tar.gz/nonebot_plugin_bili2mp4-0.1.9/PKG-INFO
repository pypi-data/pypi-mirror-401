Metadata-Version: 2.4
Name: nonebot-plugin-bili2mp4
Version: 0.1.9
Summary: åœ¨æŒ‡å®šç¾¤å†…å°†Bç«™å°ç¨‹åº/åˆ†äº«é“¾æ¥è§£æè½¬MP4åå‘é€çš„NoneBot2æ’ä»¶
Author-email: j1udu <2312410042@stu.suda.edu.cn>
Project-URL: Homepage, https://github.com/j1udu/nonebot-plugin-bili2mp4
Project-URL: Repository, https://github.com/j1udu/nonebot-plugin-bili2mp4
Project-URL: Bug Reports, https://github.com/j1udu/nonebot-plugin-bili2mp4/issues
Keywords: nonebot,nonebot2,bilibili,video,download,mp4
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: <4.0,>=3.8
Description-Content-Type: text/markdown
Requires-Dist: nonebot2>=2.3.0
Requires-Dist: nonebot-adapter-onebot>=2.0.0
Requires-Dist: nonebot-plugin-localstore<1.0.0,>=0.7.4
Requires-Dist: pydantic>=1.10.0
Requires-Dist: yt-dlp>=2023.3.4
Requires-Dist: aiofiles>=0.8.0
Provides-Extra: test
Requires-Dist: pytest>=7.0.0; extra == "test"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "test"
Provides-Extra: dev
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: isort>=5.10.0; extra == "dev"
Requires-Dist: flake8>=4.0.0; extra == "dev"
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pre-commit>=2.20.0; extra == "dev"

<div align="center">
  <a href="https://v2.nonebot.dev/store"><img src="https://github.com/A-kirami/nonebot-plugin-template/blob/resources/nbp_logo.png" width="180" height="180" alt="NoneBotPluginLogo"></a>
  <br>
  <p><img src="https://github.com/A-kirami/nonebot-plugin-template/blob/resources/NoneBotPlugin.svg" width="240" alt="NoneBotPluginText"></p>
</div>

<div align="center">

# nonebot-plugin-bili2mp4

_âœ¨ NoneBot2 æ’ä»¶ï¼Œè‡ªåŠ¨å°†Bç«™è§†é¢‘è½¬æ¢ä¸ºMP4å¹¶åˆ†äº« âœ¨_


<a href="./LICENSE">
    <img src="https://img.shields.io/github/license/j1udu/nonebot-plugin-bili2mp4.svg" alt="license">
</a>
<a href="https://pypi.python.org/pypi/nonebot-plugin-bili2mp4">
    <img src="https://img.shields.io/pypi/v/nonebot-plugin-bili2mp4.svg" alt="pypi">
</a>
<img src="https://img.shields.io/badge/python-3.8+-blue.svg" alt="python">

</div>

è¿™æ˜¯ä¸€ä¸ªç”¨äº NoneBot2 çš„æ’ä»¶ï¼Œå¯ä»¥åœ¨æŒ‡å®šçš„QQç¾¤ä¸­è‡ªåŠ¨æ£€æµ‹Bç«™åˆ†äº«é“¾æ¥å’Œå°ç¨‹åºå¡ç‰‡ï¼Œå¹¶å°†è¿™äº›Bç«™è§†é¢‘è‡ªåŠ¨ä¸‹è½½å¹¶è½¬æ¢ä¸ºMP4æ ¼å¼åå‘é€åˆ°ç¾¤ä¸­ã€‚
## ğŸ“– ä»‹ç»

nonebot-plugin-bili2mp4 æ˜¯ä¸€ä¸ªç”¨äº NoneBot2 çš„æ’ä»¶ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

- è‡ªåŠ¨æ£€æµ‹ç¾¤èŠä¸­çš„Bç«™è§†é¢‘åˆ†äº«é“¾æ¥å’Œå°ç¨‹åºå¡ç‰‡è¯†åˆ«å¹¶è½¬æ¢ä¸ºMP4æ ¼å¼å‘åˆ°ç¾¤é‡Œ
- æ”¯æŒè¯†åˆ«Bç«™çŸ­é“¾æ¥
- æ”¯æŒæ§åˆ¶å¼€å¯çš„ç¾¤
- æ”¯æŒè‡ªå®šä¹‰è§†é¢‘æ¸…æ™°åº¦ã€å¤§å°é™åˆ¶ç­‰å‚æ•°
- æ”¯æŒè®¾ç½®Bç«™Cookieä»¥è·å–æ›´é«˜æ¸…æ™°åº¦æˆ–è€…å¤§ä¼šå‘˜é™å®šè§†é¢‘

## ğŸ’¿ å®‰è£…
 
<details open>
<summary>ä½¿ç”¨ nb-cli å®‰è£…</summary>

åœ¨ nonebot2 é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š
```bash
nb plugin install nonebot-plugin-bili2mp4
```
</details>

<details open>
<summary>ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…</summary>

åœ¨ nonebot2 é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œæ ¹æ®ä½ ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ï¼Œè¾“å…¥ç›¸åº”çš„å®‰è£…å‘½ä»¤
<details open>
<summary>pip</summary>

```bash
pip install nonebot-plugin-bili2mp4
```
</details>

æ‰“å¼€ nonebot2 é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ pyproject.toml æ–‡ä»¶, åœ¨ [tool.nonebot] éƒ¨åˆ†è¿½åŠ å†™å…¥
```toml
plugins = ["nonebot_plugin_bili2mp4"]
```
</details>

## ğŸ“¦ ä¾èµ–

<details open>
<summary>yt-dlp</summary>

å¦‚æœåˆ›å»ºé¡¹ç›®æ—¶ä½¿ç”¨äº†è™šæ‹Ÿç¯å¢ƒè¯·åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…ä¾èµ–
```bash
pip install yt-dlp
```
</details>

<details open>
<summary>ffmpeg</summary>

æ’ä»¶ä¾èµ–FFmpegè¿›è¡Œè§†é¢‘æ ¼å¼è½¬æ¢ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼š

**Windows:**
1. è®¿é—® [FFmpegå®˜ç½‘](https://ffmpeg.org/) ä¸‹è½½Windowsç‰ˆæœ¬
2. è§£å‹ä¸‹è½½çš„å‹ç¼©åŒ…åˆ°ä»»æ„ç›®å½•ï¼ˆå¦‚ `C:\ffmpeg`ï¼‰
ï¼ˆè‹¥ä¸åŠ åˆ°PATHä¸­ï¼Œéœ€è¦åœ¨`.env`ä¸­æŒ‡å®šè·¯å¾„ï¼Œå‚è€ƒé…ç½®ä¸­çš„`ffmpeg_path`)
3. å°† `ffmpeg.exe` æ‰€åœ¨ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡PATHä¸­
4. åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ `ffmpeg -version` éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ
å¯å‚è€ƒæ•™ç¨‹ `https://www.jianshu.com/p/5015a477de3c`

**Linux :**
```bash
sudo apt update
sudo apt install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```
è‹¥ä¸åŠ åˆ°PATHä¸­ï¼Œéœ€è¦åœ¨`.env`ä¸­æŒ‡å®šè·¯å¾„ï¼Œæ¯”å¦‚ï¼š

**Windows:**
```prod
ffmpeg_path = "C:/ffmpeg/bin"
```
**Linux / macOS:**
```prod
ffmpeg_path = "/usr/local/bin"
```

</details>

## âš™ï¸ é…ç½®

åœ¨ nonebot2 é¡¹ç›®çš„`.env`æ–‡ä»¶ä¸­æ·»åŠ ä¸‹è¡¨ä¸­çš„å¿…å¡«é…ç½®

| é…ç½®é¡¹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|:-----:|:----:|:----:|:----:|
| super_admins | æ˜¯ | [] | ç®¡ç†å‘˜QQå·åˆ—è¡¨ |
| ffmpeg_path | å¦ | [] | FFmpegçš„è·¯å¾„ï¼Œå¦‚æœä¸ºç©ºåˆ™è‡ªåŠ¨ä»PATHä¸­æŸ¥æ‰¾ |

## ğŸ‰ ä½¿ç”¨

### æŒ‡ä»¤è¡¨
| æŒ‡ä»¤ | è¯´æ˜ |
|:-----:|:-----:|
| fhelp | æ˜¾ç¤ºæ‰€æœ‰ç®¡ç†å‘˜å¯ç”¨å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ |
| è½¬æ¢ <ç¾¤å·> | å¼€å¯æŒ‡å®šç¾¤çš„Bç«™è§†é¢‘è½¬æ¢åŠŸèƒ½ |
| åœæ­¢è½¬æ¢ <ç¾¤å·> | åœæ­¢æŒ‡å®šç¾¤çš„Bç«™è§†é¢‘è½¬æ¢åŠŸèƒ½ |
| è®¾ç½®Bç«™COOKIE <cookieå­—ç¬¦ä¸²> | è®¾ç½®Bç«™Cookie |
| æ¸…é™¤Bç«™COOKIE | æ¸…é™¤å·²è®¾ç½®çš„Bç«™Cookie |
| è®¾ç½®æ¸…æ™°åº¦ <æ•°å­—> | è®¾ç½®è§†é¢‘æ¸…æ™°åº¦ |
| è®¾ç½®æœ€å¤§å¤§å° <æ•°å­—>MB | è®¾ç½®è§†é¢‘å¤§å°é™åˆ¶ |
| æŸ¥çœ‹å‚æ•° | æŸ¥çœ‹å½“å‰é…ç½®å‚æ•° |
| æŸ¥çœ‹è½¬æ¢åˆ—è¡¨ | æŸ¥çœ‹å·²å¼€å¯è½¬æ¢åŠŸèƒ½çš„ç¾¤åˆ—è¡¨ |

**æ³¨**ï¼š
ä»¥ä¸ŠæŒ‡ä»¤å‡éœ€ç®¡ç†å‘˜ç§èŠbot

Cookieä¸ºå¿…éœ€ï¼Œè‡³å°‘éœ€è¦åŒ…å«SESSDATAã€bili_jctã€DedeUserIDå’Œbuvid3/buvid4å››ä¸ªå­—æ®µ

è®¾ç½®å¤§ä¼šå‘˜è´¦å·çš„cookieå¯ä»¥è·å–æ›´é«˜æ¸…æ™°åº¦æˆ–è€…å¤§ä¼šå‘˜é™å®šè§†é¢‘

## æ•ˆæœå›¾
<img src="images/picture1.png" width="500">
<img src="images/picture2.png" width="500">
