"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[72],{704:(t,e,n)=>{n.d(e,{D:()=>a,S:()=>c,a:()=>u,b:()=>d,c:()=>s,d:()=>O,p:()=>o,s:()=>B});var r=n(421),i=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,4],i=[2,4],o=[1,9],a=[1,11],s=[1,15],c=[1,16],u=[1,17],d=[1,18],l=[1,30],h=[1,19],f=[1,20],g=[1,21],p=[1,22],v=[1,23],y=[1,25],b=[1,26],m=[1,27],_=[1,28],x=[1,29],w=[1,32],k=[1,33],E=[1,34],S=[1,35],T=[1,31],N=[1,4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],$=[1,4,5,13,14,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],C=[4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],L={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,cssClassStatement:11,idStatement:12,DESCR:13,"-->":14,HIDE_EMPTY:15,scale:16,WIDTH:17,COMPOSIT_STATE:18,STRUCT_START:19,STRUCT_STOP:20,STATE_DESCR:21,AS:22,ID:23,FORK:24,JOIN:25,CHOICE:26,CONCURRENT:27,note:28,notePosition:29,NOTE_TEXT:30,direction:31,acc_title:32,acc_title_value:33,acc_descr:34,acc_descr_value:35,acc_descr_multiline_value:36,classDef:37,CLASSDEF_ID:38,CLASSDEF_STYLEOPTS:39,DEFAULT:40,class:41,CLASSENTITY_IDS:42,STYLECLASS:43,direction_tb:44,direction_bt:45,direction_rl:46,direction_lr:47,eol:48,";":49,EDGE_STATE:50,STYLE_SEPARATOR:51,left_of:52,right_of:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",13:"DESCR",14:"-->",15:"HIDE_EMPTY",16:"scale",17:"WIDTH",18:"COMPOSIT_STATE",19:"STRUCT_START",20:"STRUCT_STOP",21:"STATE_DESCR",22:"AS",23:"ID",24:"FORK",25:"JOIN",26:"CHOICE",27:"CONCURRENT",28:"note",30:"NOTE_TEXT",32:"acc_title",33:"acc_title_value",34:"acc_descr",35:"acc_descr_value",36:"acc_descr_multiline_value",37:"classDef",38:"CLASSDEF_ID",39:"CLASSDEF_STYLEOPTS",40:"DEFAULT",41:"class",42:"CLASSENTITY_IDS",43:"STYLECLASS",44:"direction_tb",45:"direction_bt",46:"direction_rl",47:"direction_lr",49:";",50:"EDGE_STATE",51:"STYLE_SEPARATOR",52:"left_of",53:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[31,1],[31,1],[31,1],[31,1],[48,1],[48,1],[12,1],[12,1],[12,3],[12,3],[29,1],[29,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 3:return r.setRootDoc(o[s]),o[s];case 4:this.$=[];break;case 5:"nl"!=o[s]&&(o[s-1].push(o[s]),this.$=o[s-1]);break;case 6:case 7:case 11:this.$=o[s];break;case 8:this.$="nl";break;case 12:let c=o[s-1];c.description=r.trimColon(o[s]),this.$=c;break;case 13:this.$={stmt:"relation",state1:o[s-2],state2:o[s]};break;case 14:let u=r.trimColon(o[s]);this.$={stmt:"relation",state1:o[s-3],state2:o[s-1],description:u};break;case 18:this.$={stmt:"state",id:o[s-3],type:"default",description:"",doc:o[s-1]};break;case 19:var d=o[s],l=o[s-2].trim();if(o[s].match(":")){var h=o[s].split(":");d=h[0],l=[l,h[1]]}this.$={stmt:"state",id:d,type:"default",description:l};break;case 20:this.$={stmt:"state",id:o[s-3],type:"default",description:o[s-5],doc:o[s-1]};break;case 21:this.$={stmt:"state",id:o[s],type:"fork"};break;case 22:this.$={stmt:"state",id:o[s],type:"join"};break;case 23:this.$={stmt:"state",id:o[s],type:"choice"};break;case 24:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 25:this.$={stmt:"state",id:o[s-1].trim(),note:{position:o[s-2].trim(),text:o[s].trim()}};break;case 28:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 29:case 30:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 31:case 32:this.$={stmt:"classDef",id:o[s-1].trim(),classes:o[s].trim()};break;case 33:this.$={stmt:"applyClass",id:o[s-1].trim(),styleClass:o[s].trim()};break;case 34:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 35:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 36:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 37:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 40:case 41:this.$={stmt:"state",id:o[s].trim(),type:"default",description:""};break;case 42:case 43:this.$={stmt:"state",id:o[s-2].trim(),classes:[o[s].trim()],type:"default",description:""}}},table:[{3:1,4:e,5:n,6:r},{1:[3]},{3:5,4:e,5:n,6:r},{3:6,4:e,5:n,6:r},t([1,4,5,15,16,18,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:a,8:8,9:10,10:12,11:13,12:14,15:s,16:c,18:u,21:d,23:l,24:h,25:f,26:g,27:p,28:v,31:24,32:y,34:b,36:m,37:_,41:x,44:w,45:k,46:E,47:S,50:T},t(N,[2,5]),{9:36,10:12,11:13,12:14,15:s,16:c,18:u,21:d,23:l,24:h,25:f,26:g,27:p,28:v,31:24,32:y,34:b,36:m,37:_,41:x,44:w,45:k,46:E,47:S,50:T},t(N,[2,7]),t(N,[2,8]),t(N,[2,9]),t(N,[2,10]),t(N,[2,11],{13:[1,37],14:[1,38]}),t(N,[2,15]),{17:[1,39]},t(N,[2,17],{19:[1,40]}),{22:[1,41]},t(N,[2,21]),t(N,[2,22]),t(N,[2,23]),t(N,[2,24]),{29:42,30:[1,43],52:[1,44],53:[1,45]},t(N,[2,27]),{33:[1,46]},{35:[1,47]},t(N,[2,30]),{38:[1,48],40:[1,49]},{42:[1,50]},t($,[2,40],{51:[1,51]}),t($,[2,41],{51:[1,52]}),t(N,[2,34]),t(N,[2,35]),t(N,[2,36]),t(N,[2,37]),t(N,[2,6]),t(N,[2,12]),{12:53,23:l,50:T},t(N,[2,16]),t(C,i,{7:54}),{23:[1,55]},{23:[1,56]},{22:[1,57]},{23:[2,44]},{23:[2,45]},t(N,[2,28]),t(N,[2,29]),{39:[1,58]},{39:[1,59]},{43:[1,60]},{23:[1,61]},{23:[1,62]},t(N,[2,13],{13:[1,63]}),{4:o,5:a,8:8,9:10,10:12,11:13,12:14,15:s,16:c,18:u,20:[1,64],21:d,23:l,24:h,25:f,26:g,27:p,28:v,31:24,32:y,34:b,36:m,37:_,41:x,44:w,45:k,46:E,47:S,50:T},t(N,[2,19],{19:[1,65]}),{30:[1,66]},{23:[1,67]},t(N,[2,31]),t(N,[2,32]),t(N,[2,33]),t($,[2,42]),t($,[2,43]),t(N,[2,14]),t(N,[2,18]),t(C,i,{7:68}),t(N,[2,25]),t(N,[2,26]),{4:o,5:a,8:8,9:10,10:12,11:13,12:14,15:s,16:c,18:u,20:[1,69],21:d,23:l,24:h,25:f,26:g,27:p,28:v,31:24,32:y,34:b,36:m,37:_,41:x,44:w,45:k,46:E,47:S,50:T},t(N,[2,20])],defaultActions:{5:[2,1],6:[2,2],44:[2,44],45:[2,45]},parseError:function(t,e){if(e.recoverable)this.trace(t);else{var n=Error(t);throw n.hash=e,n}},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",c=0,u=0,d=o.slice.call(arguments,1),l=Object.create(this.lexer),h={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(h.yy[f]=this.yy[f]);l.setInput(t,h.yy),h.yy.lexer=l,h.yy.parser=this,typeof l.yylloc>"u"&&(l.yylloc={});var g=l.yylloc;o.push(g);var p=l.options&&l.options.ranges;"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,y,b,m,_,x,w,k,E={};;){if(y=n[n.length-1],this.defaultActions[y]?b=this.defaultActions[y]:((null===v||typeof v>"u")&&(v=function(){var t;return"number"!=typeof(t=r.pop()||l.lex()||1)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}()),b=a[y]&&a[y][v]),typeof b>"u"||!b.length||!b[0]){var S="";for(_ in k=[],a[y])this.terminals_[_]&&_>2&&k.push("'"+this.terminals_[_]+"'");S=l.showPosition?"Parse error on line "+(c+1)+`:
`+l.showPosition()+`
Expecting `+k.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(S,{text:l.match,token:this.terminals_[v]||v,line:l.yylineno,loc:g,expected:k})}if(b[0]instanceof Array&&b.length>1)throw Error("Parse Error: multiple actions possible at state: "+y+", token: "+v);switch(b[0]){case 1:n.push(v),i.push(l.yytext),o.push(l.yylloc),n.push(b[1]),v=null,u=l.yyleng,s=l.yytext,c=l.yylineno,g=l.yylloc;break;case 2:if(x=this.productions_[b[1]][1],E.$=i[i.length-x],E._$={first_line:o[o.length-(x||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(x||1)].first_column,last_column:o[o.length-1].last_column},p&&(E._$.range=[o[o.length-(x||1)].range[0],o[o.length-1].range[1]]),"u">typeof(m=this.performAction.apply(E,[s,u,c,h.yy,b[1],i,o].concat(d))))return m;x&&(n=n.slice(0,-1*x*2),i=i.slice(0,-1*x),o=o.slice(0,-1*x)),n.push(this.productions_[b[1]][0]),i.push(E.$),o.push(E._$),w=a[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}};function A(){this.yy={}}return L.lexer={EOF:1,parseError:function(t,e){if(this.yy.parser)this.yy.parser.parseError(t,e);else throw Error(t)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+`
`+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var o in i)this[o]=i[o];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t,e,n,r,i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(!this._backtrack)return!1;e=!1;continue}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 40;case 1:case 39:return 44;case 2:case 40:return 45;case 3:case 41:return 46;case 4:case 42:return 47;case 5:case 6:case 8:case 9:case 10:case 11:case 51:case 53:case 59:break;case 7:case 74:return 5;case 12:case 29:return this.pushState("SCALE"),16;case 13:case 30:return 17;case 14:case 20:case 31:case 46:case 49:this.popState();break;case 15:return this.begin("acc_title"),32;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),34;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),37;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),38;case 25:return this.popState(),39;case 26:return this.pushState("CLASS"),41;case 27:return this.popState(),this.pushState("CLASS_STYLE"),42;case 28:return this.popState(),43;case 32:this.pushState("STATE");break;case 33:case 36:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),24;case 34:case 37:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),25;case 35:case 38:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),26;case 43:this.pushState("STATE_STRING");break;case 44:return this.pushState("STATE_ID"),"AS";case 45:case 61:return this.popState(),"ID";case 47:return"STATE_DESCR";case 48:return 18;case 50:return this.popState(),this.pushState("struct"),19;case 52:return this.popState(),20;case 54:return this.begin("NOTE"),28;case 55:return this.popState(),this.pushState("NOTE_ID"),52;case 56:return this.popState(),this.pushState("NOTE_ID"),53;case 57:this.popState(),this.pushState("FLOATING_NOTE");break;case 58:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 60:return"NOTE_TEXT";case 62:return this.popState(),this.pushState("NOTE_TEXT"),23;case 63:return this.popState(),e.yytext=e.yytext.substr(2).trim(),30;case 64:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),30;case 65:case 66:return 6;case 67:return 15;case 68:return 50;case 69:return 23;case 70:return e.yytext=e.yytext.trim(),13;case 71:return 14;case 72:return 27;case 73:return 51;case 75:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,32,39,40,41,42,51,52,53,54,68,69,70,71,72],inclusive:!1},FLOATING_NOTE_ID:{rules:[61],inclusive:!1},FLOATING_NOTE:{rules:[58,59,60],inclusive:!1},NOTE_TEXT:{rules:[63,64],inclusive:!1},NOTE_ID:{rules:[62],inclusive:!1},NOTE:{rules:[55,56,57],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,30,31],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[45],inclusive:!1},STATE_STRING:{rules:[46,47],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,33,34,35,36,37,38,43,44,48,49,50],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,50,54,65,66,67,68,69,70,71,73,74,75],inclusive:!0}}},A.prototype=L,L.Parser=A,new A}();i.parser=i;let o=i,a="TB",s="state",c="relation",u="default",d="divider",l="start",h="color",f="fill",g="LR",p=[],v={},y=()=>({relations:[],states:{},documents:{}}),b={root:y()},m=b.root,_=0,x=0,w=t=>JSON.parse(JSON.stringify(t)),k=(t,e,n)=>{if(e.stmt===c)k(t,e.state1,!0),k(t,e.state2,!1);else if(e.stmt===s&&("[*]"===e.id?(e.id=n?t.id+"_start":t.id+"_end",e.start=n):e.id=e.id.trim()),e.doc){let t=[],n=[],i;for(i=0;i<e.doc.length;i++)if(e.doc[i].type===d){let r=w(e.doc[i]);r.doc=w(n),t.push(r),n=[]}else n.push(e.doc[i]);if(t.length>0&&n.length>0){let i={stmt:s,id:(0,r.a7)(),type:"divider",doc:w(n)};t.push(w(i)),e.doc=t}e.doc.forEach(t=>k(e,t,!0))}},E=function(t,e=u,n=null,i=null,o=null,a=null,s=null,c=null){let d=null==t?void 0:t.trim();void 0===m.states[d]?(r.l.info("Adding state ",d,i),m.states[d]={id:d,descriptions:[],type:e,doc:n,note:o,classes:[],styles:[],textStyles:[]}):(m.states[d].doc||(m.states[d].doc=n),m.states[d].type||(m.states[d].type=e)),i&&(r.l.info("Setting state description",d,i),"string"==typeof i&&L(d,i.trim()),"object"==typeof i&&i.forEach(t=>L(d,t.trim()))),o&&(m.states[d].note=o,m.states[d].note.text=r.k.sanitizeText(m.states[d].note.text,(0,r.g)())),a&&(r.l.info("Setting state classes",d,a),("string"==typeof a?[a]:a).forEach(t=>I(d,t.trim()))),s&&(r.l.info("Setting state styles",d,s),("string"==typeof s?[s]:s).forEach(t=>j(d,t.trim()))),c&&(r.l.info("Setting state styles",d,s),("string"==typeof c?[c]:c).forEach(t=>D(d,t.trim())))},S=function(t){m=(b={root:y()}).root,_=0,v={},t||(0,r.E)()},T=function(t){return m.states[t]};function N(t=""){let e=t;return"[*]"===t&&(_++,e=`${l}${_}`),e}function $(t="",e=u){return"[*]"===t?l:e}let C=function(t,e,n){if("object"==typeof t){let i,o,a,s;i=N(t.id.trim()),o=$(t.id.trim(),t.type),a=N(e.id.trim()),s=$(e.id.trim(),e.type),E(i,o,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),E(a,s,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),m.relations.push({id1:i,id2:a,relationTitle:r.k.sanitizeText(n,(0,r.g)())})}else{let i=N(t.trim()),o=$(t),a=function(t=""){let e=t;return"[*]"===t&&(_++,e=`end${_}`),e}(e.trim()),s=function(t="",e=u){return"[*]"===t?"end":e}(e);E(i,o),E(a,s),m.relations.push({id1:i,id2:a,title:r.k.sanitizeText(n,(0,r.g)())})}},L=function(t,e){let n=m.states[t],i=e.startsWith(":")?e.replace(":","").trim():e;n.descriptions.push(r.k.sanitizeText(i,(0,r.g)()))},A=function(t,e=""){void 0===v[t]&&(v[t]={id:t,styles:[],textStyles:[]});let n=v[t];null!=e&&e.split(",").forEach(t=>{let e=t.replace(/([^;]*);/,"$1").trim();if(t.match(h)){let t=e.replace(f,"bgFill").replace(h,f);n.textStyles.push(t)}n.styles.push(e)})},I=function(t,e){t.split(",").forEach(function(t){let n=T(t);if(void 0===n){let e=t.trim();E(e),n=T(e)}n.classes.push(e)})},j=function(t,e){let n=T(t);void 0!==n&&n.textStyles.push(e)},D=function(t,e){let n=T(t);void 0!==n&&n.textStyles.push(e)},O={getConfig:()=>(0,r.g)().state,addState:E,clear:S,getState:T,getStates:function(){return m.states},getRelations:function(){return m.relations},getClasses:function(){return v},getDirection:()=>g,addRelation:C,getDividerId:()=>"divider-id-"+ ++x,setDirection:t=>{g=t},cleanupLabel:function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){r.l.info("Documents = ",b)},getRootDoc:()=>p,setRootDoc:t=>{r.l.info("Setting root doc",t),p=t},getRootDocV2:()=>(k({id:"root"},{id:"root",doc:p},!0),{id:"root",doc:p}),extract:t=>{let e;e=t.doc?t.doc:t,r.l.info(e),S(!0),r.l.info("Extract",e),e.forEach(t=>{switch(t.stmt){case s:E(t.id.trim(),t.type,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles);break;case c:C(t.state1,t.state2,t.description);break;case"classDef":A(t.id.trim(),t.classes);break;case"applyClass":I(t.id.trim(),t.styleClass)}})},trimColon:t=>t&&":"===t[0]?t.substr(1).trim():t.trim(),getAccTitle:r.b,setAccTitle:r.c,getAccDescription:r.a,setAccDescription:r.s,addStyleClass:A,setCssClass:I,addDescription:L,setDiagramTitle:r.D,getDiagramTitle:r.C},B=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`},1854:(t,e,n)=>{n.d(e,{a:()=>r});function r(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}},1894:(t,e,n)=>{n.d(e,{l:()=>c});var r=n(1854),i=n(6142),o=n(421);function a(t){return t[0]}function s(t){return t[1]}function c(t,e){var n=(0,i.c)(!0),c=null,u=o.n,d=null,l=(0,i.w)(h);function h(i){var o,a,s,h=(i=(0,r.a)(i)).length,f=!1;for(null==c&&(d=u(s=l())),o=0;o<=h;++o)!(o<h&&n(a=i[o],o,i))===f&&((f=!f)?d.lineStart():d.lineEnd()),f&&d.point(+t(a,o,i),+e(a,o,i));if(s)return d=null,s+""||null}return t="function"==typeof t?t:void 0===t?a:(0,i.c)(t),e="function"==typeof e?e:void 0===e?s:(0,i.c)(e),h.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.c)(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.c)(+t),h):e},h.defined=function(t){return arguments.length?(n="function"==typeof t?t:(0,i.c)(!!t),h):n},h.curve=function(t){return arguments.length?(u=t,null!=c&&(d=u(c)),h):u},h.context=function(t){return arguments.length?(null==t?c=d=null:d=u(c=t),h):c},h}},2800:(t,e,n)=>{n.d(e,{d:()=>b,l:()=>tb,m:()=>k,p:()=>A,r:()=>D,u:()=>M});var r,i=n(7577),o=n(421),a=/\s/,s=/^\s+/,c=NaN,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,f=1/0;function g(t){return t?(t=function(t){if("number"==typeof t)return t;if((0,i.a)(t))return c;if((0,o.a8)(t)){var e,n="function"==typeof t.valueOf?t.valueOf():t;t=(0,o.a8)(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)&&e.slice(0,function(t){for(var e=t.length;e--&&a.test(t.charAt(e)););return e}(e)+1).replace(s,"");var r=d.test(t);return r||l.test(t)?h(t.slice(2),r?2:8):u.test(t)?c:+t}(t))===f||t===-f?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}function p(t){return(null==t?0:t.length)?(0,i.b)(t):[]}var v=Object.prototype,y=v.hasOwnProperty,b=(0,o.ab)(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&(0,o.ac)(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=(0,o.ad)(a),c=-1,u=s.length;++c<u;){var d=s[c],l=t[d];(void 0===l||(0,o.ae)(l,v[d])&&!y.call(t,d))&&(t[d]=a[d])}return t});function m(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var _=Math.max,x=(r=function(t,e,n){var r,o,a=null==t?0:t.length;if(!a)return -1;var s=null==n?0:(o=(r=g(n))%1,r==r?o?r-o:r:0);return s<0&&(s=_(a+s,0)),(0,i.e)(t,(0,i.d)(e),s)},function(t,e,n){var a=Object(t);if(!(0,o.af)(t)){var s=(0,i.d)(e);t=(0,i.k)(t),e=function(t){return s(a[t],t,a)}}var c=r(t,e,n);return c>-1?a[s?t[c]:c]:void 0});function w(t,e){var n=-1,r=(0,o.af)(t)?Array(t.length):[];return(0,i.g)(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function k(t,e){return((0,o.ag)(t)?i.j:w)(t,(0,i.d)(e))}function E(t,e){return t>e}function S(t,e){return t<e}function T(t,e){var n={};return e=(0,i.d)(e),(0,i.m)(t,function(t,r,i){(0,o.ai)(n,r,e(t,r,i))}),n}function N(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===c?s==s&&!(0,i.a)(s):n(s,c)))var c=s,u=a}return u}function $(t){return t&&t.length?N(t,o.aj,E):void 0}function C(t){return t&&t.length?N(t,o.aj,S):void 0}function L(t,e){return t&&t.length?N(t,(0,i.d)(e),S):void 0}var A=function(t){return(0,o.a9)((0,o.aa)(t,void 0,p),t+"")}(function(t,e){return null==t?{}:function(t,e,n){for(var r=-1,a=e.length,s={};++r<a;){var c=e[r],u=(0,i.o)(t,c);n(u,c)&&function(t,e,n,r){if((0,o.a8)(t)){e=(0,i.n)(e,t);for(var a=-1,s=e.length,c=s-1,u=t;null!=u&&++a<s;){var d=(0,i.t)(e[a]),l=n;if("__proto__"===d||"constructor"===d||"prototype"===d)break;if(a!=c){var h=u[d];l=void 0,l=(0,o.a8)(h)?h:(0,o.ak)(e[a+1])?[]:{}}(0,o.al)(u,d,l),u=u[d]}}}(s,(0,i.n)(c,t),u)}return s}(t,e,function(e,n){return(0,i.p)(t,n)})}),I=Math.ceil,j=Math.max,D=function(t,e,n){return n&&"number"!=typeof n&&(0,o.ac)(t,e,n)&&(e=n=void 0),t=g(t),void 0===e?(e=t,t=0):e=g(e),n=void 0===n?t<e?1:-1:g(n),function(t,e,n,r){for(var i=-1,o=j(I((e-t)/(n||1)),0),a=Array(o);o--;)a[++i]=t,t+=n;return a}(t,e,n)},O=(0,o.ab)(function(t,e){if(null==t)return[];var n,r,a,s=e.length;return s>1&&(0,o.ac)(t,e[0],e[1])?e=[]:s>2&&(0,o.ac)(e[0],e[1],e[2])&&(e=[e[0]]),n=(0,i.b)(e),r=[],n=n.length?(0,i.j)(n,function(t){return(0,o.ag)(t)?function(e){return(0,i.o)(e,1===t.length?t[0]:t)}:t}):[o.aj],a=-1,n=(0,i.j)(n,(0,o.am)(i.d)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(w(t,function(t,e,r){return{criteria:(0,i.j)(n,function(e){return e(t)}),index:++a,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,a=e.criteria,s=o.length,c=n.length;++r<s;){var u=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,a=(0,i.a)(t),s=void 0!==e,c=null===e,u=e==e,d=(0,i.a)(e);if(!c&&!d&&!a&&t>e||a&&s&&u&&!c&&!d||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!d&&t<e||d&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!u)return -1}return 0}(o[r],a[r]);if(u){if(r>=c)return u;return u*("desc"==n[r]?-1:1)}}return t.index-e.index}(t,e,r)})}),B=0;function M(t){var e=++B;return(0,i.q)(t)+e}class R{dequeue(){var t=this._sentinel,e=t._prev;if(e!==t)return P(e),e}enqueue(t){var e=this._sentinel;t._prev&&t._next&&P(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e}toString(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,F)),n=n._prev;return"["+t.join(", ")+"]"}constructor(){var t={};t._next=t._prev=t,this._sentinel=t}}function P(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function F(t,e){if("_next"!==t&&"_prev"!==t)return e}var G=(0,o.an)(1);function z(t,e,n,r,o){var a=o?[]:void 0;return(0,i.f)(t.inEdges(r.v),function(r){var i=t.edge(r),s=t.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,U(e,n,s)}),(0,i.f)(t.outEdges(r.v),function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,U(e,n,a)}),t.removeNode(r.v),a}function U(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function Y(t,e,n,r){var i;do i=M(r);while(t.hasNode(i))return n.dummy=e,t.setNode(i,n),i}function H(t){var e=new i.G({multigraph:t.isMultigraph()}).setGraph(t.graph());return(0,i.f)(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),(0,i.f)(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function V(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,c=t.width/2,u=t.height/2;if(!a&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*c>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(c=-c),n=c,r=c*s/a),{x:i+n,y:o+r}}function q(t){var e=k(D(X(t)+1),function(){return[]});return(0,i.f)(t.nodes(),function(n){var r=t.node(n),o=r.rank;(0,i.i)(o)||(e[o][r.order]=n)}),e}function J(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Y(t,"border",i,e)}function X(t){return $(k(t.nodes(),function(e){var n=t.node(e).rank;if(!(0,i.i)(n))return n}))}function W(t,e){return e()}function Q(t,e,n,r,i,o){var a=i[e][o-1],s=Y(t,"border",{width:0,height:0,rank:o,borderType:e},n);i[e][o]=s,t.setParent(s,r),a&&t.setEdge(a,s,{weight:1})}function K(t){(0,i.f)(t.nodes(),function(e){Z(t.node(e))}),(0,i.f)(t.edges(),function(e){Z(t.edge(e))})}function Z(t){var e=t.width;t.width=t.height,t.height=e}function tt(t){t.y=-t.y}function te(t){var e=t.x;t.x=t.y,t.y=e}function tn(t){var e={};(0,i.f)(t.sources(),function n(r){var o=t.node(r);if((0,i.h)(e,r))return o.rank;e[r]=!0;var a=C(k(t.outEdges(r),function(e){return n(e.w)-t.edge(e).minlen}));return(a===Number.POSITIVE_INFINITY||null==a)&&(a=0),o.rank=a})}function tr(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function ti(t){var e,n,r=new i.G({directed:!1}),o=t.nodes()[0],a=t.nodeCount();for(r.setNode(o,{});(0,i.f)(r.nodes(),function e(n){(0,i.f)(t.nodeEdges(n),function(i){var o=i.v,a=n===o?i.w:o;r.hasNode(a)||tr(t,i)||(r.setNode(a,{}),r.setEdge(n,a,{}),e(a))})}),r.nodeCount()<a;)e=function(t,e){return L(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return tr(e,n)})}(r,t),n=r.hasNode(e.v)?tr(t,e):-tr(t,e),function(t,e,n){(0,i.f)(t.nodes(),function(t){e.node(t).rank+=n})}(r,t,n);return r}function to(t,e,n){(0,o.ag)(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],s={};return(0,i.f)(e,function(e){if(!t.hasNode(e))throw Error("Graph does not have node: "+e);(function t(e,n,r,o,a,s){(0,i.h)(o,n)||(o[n]=!0,r||s.push(n),(0,i.f)(a(n),function(n){t(e,n,r,o,a,s)}),r&&s.push(n))})(t,e,"post"===n,s,r,a)}),a}function ta(t){e=t,n=new i.G().setGraph(e.graph()),(0,i.f)(e.nodes(),function(t){n.setNode(t,e.node(t))}),(0,i.f)(e.edges(),function(t){var r=n.edge(t.v,t.w)||{weight:0,minlen:1},i=e.edge(t);n.setEdge(t.v,t.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),tn(t=n);var e,n,r,o,a=ti(t);for(tu(a),ts(a,t);r=td(a);)o=tl(a,t,r),th(a,t,r,o)}function ts(t,e){var n=to(t,t.nodes(),"post");n=n.slice(0,n.length-1),(0,i.f)(n,function(n){var r;r=t.node(n).parent,t.edge(n,r).cutvalue=tc(t,e,n)})}function tc(t,e,n){var r=t.node(n).parent,o=!0,a=e.edge(n,r),s=0;return a||(o=!1,a=e.edge(r,n)),s=a.weight,(0,i.f)(e.nodeEdges(n),function(i){var a=i.v===n,c=a?i.w:i.v;if(c!==r){var u=a===o,d=e.edge(i).weight;if(s+=u?d:-d,t.hasEdge(n,c)){var l=t.edge(n,c).cutvalue;s+=u?-l:l}}}),s}function tu(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,o,a){var s=r,c=e.node(o);return n[o]=!0,(0,i.f)(e.neighbors(o),function(a){(0,i.h)(n,a)||(r=t(e,n,r,a,o))}),c.low=s,c.lim=r++,a?c.parent=a:delete c.parent,r}(t,{},1,e)}function td(t){return x(t.edges(),function(e){return t.edge(e).cutvalue<0})}function tl(t,e,n){var r=n.v,o=n.w;e.hasEdge(r,o)||(r=n.w,o=n.v);var a=t.node(r),s=t.node(o),c=a,u=!1;return a.lim>s.lim&&(c=s,u=!0),L((0,i.r)(e.edges(),function(e){return u===tf(t,t.node(e.v),c)&&u!==tf(t,t.node(e.w),c)}),function(t){return tr(e,t)})}function th(t,e,n,r){var o,a,s=n.v,c=n.w;t.removeEdge(s,c),t.setEdge(r.v,r.w,{}),tu(t),ts(t,e),o=x(t.nodes(),function(t){return!e.node(t).parent}),a=(a=to(t,o,"pre")).slice(1),(0,i.f)(a,function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}function tf(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function tg(t,e,n){for(var r;e.length&&(r=m(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function tp(t,e,n){return k(e,function(e){var r,o;return r=function(t){for(var e;t.hasNode(e=M("_root")););return e}(t),o=new i.G({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(e){return t.node(e)}),(0,i.f)(t.nodes(),function(a){var s=t.node(a),c=t.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(o.setNode(a),o.setParent(a,c||r),(0,i.f)(t[n](a),function(e){var n=e.v===a?e.w:e.v,r=o.edge(n,a),s=(0,i.i)(r)?0:r.weight;o.setEdge(n,a,{weight:t.edge(e).weight+s})}),(0,i.h)(s,"minRank")&&o.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),o})}function tv(t,e){(0,i.f)(e,function(e){(0,i.f)(e,function(e,n){t.node(e).order=n})})}function ty(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function tb(t,e){var n;n=0,function(){var e,n,r,a=(e=0,function(){var e,n;return e=new i.G({multigraph:!0,compound:!0}),n=t$(t.graph()),e.setGraph((0,o.ao)({},t_,tN(n,tm),A(n,tx))),(0,i.f)(t.nodes(),function(n){var r=t$(t.node(n));e.setNode(n,b(tN(r,tw),tk)),e.setParent(n,t.parent(n))}),(0,i.f)(t.edges(),function(n){var r=t$(t.edge(n));e.setEdge(n,(0,o.ao)({},tS,tN(r,tE),A(r,tT)))}),e}());n=0,function(){var t;t=0,function(){var t;t=a.graph(),t.ranksep/=2,(0,i.f)(a.edges(),function(e){var n=a.edge(e);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)})}(),function(t,e){e()}("    removeSelfEdges",function(){(0,i.f)(a.edges(),function(t){if(t.v===t.w){var e=a.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:a.edge(t)}),a.removeEdge(t)}})}),function(t,e){e()}("    acyclic",function(){var t,e,n,r;t="greedy"===a.graph().acyclicer?function(t,e){if(1>=t.nodeCount())return[];var n,r,o,a,s,c,u=(n=e||G,r=new i.G,o=0,a=0,(0,i.f)(t.nodes(),function(t){r.setNode(t,{v:t,in:0,out:0})}),(0,i.f)(t.edges(),function(t){var e=r.edge(t.v,t.w)||0,i=n(t);r.setEdge(t.v,t.w,e+i),a=Math.max(a,r.node(t.v).out+=i),o=Math.max(o,r.node(t.w).in+=i)}),s=D(a+o+3).map(function(){return new R}),c=o+1,(0,i.f)(r.nodes(),function(t){U(s,c,r.node(t))}),{graph:r,buckets:s,zeroIdx:c});return p(k(function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)z(t,e,n,r);for(;r=o.dequeue();)z(t,e,n,r);if(t.nodeCount()){for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(z(t,e,n,r,!0));break}}}return i}(u.graph,u.buckets,u.zeroIdx),function(e){return t.outEdges(e.v,e.w)}))}(a,function(t){return a.edge(t).weight}):(e=[],n={},r={},(0,i.f)(a.nodes(),function t(o){(0,i.h)(r,o)||(r[o]=!0,n[o]=!0,(0,i.f)(a.outEdges(o),function(r){(0,i.h)(n,r.w)?e.push(r):t(r.w)}),delete n[o])}),e),(0,i.f)(t,function(t){var e=a.edge(t);a.removeEdge(t),e.forwardName=t.name,e.reversed=!0,a.setEdge(t.w,t.v,e,M("rev"))})}),function(t,e){e()}("    nestingGraph.run",function(){var t,e,n,r,o;t=Y(a,"root",{},"_root"),o={},(0,i.f)(a.children(),function(t){(function t(e,n){var r=a.children(e);r&&r.length&&(0,i.f)(r,function(e){t(e,n+1)}),o[e]=n})(t,1)}),n=2*(e=$((0,i.v)(o))-1)+1,a.graph().nestingRoot=t,(0,i.f)(a.edges(),function(t){a.edge(t).minlen*=n}),r=(0,i.s)(a.edges(),function(t,e){return t+a.edge(e).weight},0)+1,(0,i.f)(a.children(),function(s){(function t(e,n,r,o,a,s,c){var u=e.children(c);if(!u.length){c!==n&&e.setEdge(n,c,{weight:0,minlen:r});return}var d=J(e,"_bt"),l=J(e,"_bb"),h=e.node(c);e.setParent(d,c),h.borderTop=d,e.setParent(l,c),h.borderBottom=l,(0,i.f)(u,function(i){t(e,n,r,o,a,s,i);var u=e.node(i),h=u.borderTop?u.borderTop:i,f=u.borderBottom?u.borderBottom:i,g=u.borderTop?o:2*o,p=h!==f?1:a-s[c]+1;e.setEdge(d,h,{weight:g,minlen:p,nestingEdge:!0}),e.setEdge(f,l,{weight:g,minlen:p,nestingEdge:!0})}),e.parent(c)||e.setEdge(n,d,{weight:0,minlen:a+s[c]})})(a,t,n,r,e,o,s)}),a.graph().nodeRankFactor=n}),function(t,e){e()}("    rank",function(){(function(t){switch(t.graph().ranker){case"network-simplex":default:ta(t);break;case"tight-tree":tn(t),ti(t);break;case"longest-path":tn(t)}})(H(a))}),function(t,e){e()}("    injectEdgeLabelProxies",function(){(0,i.f)(a.edges(),function(t){var e=a.edge(t);if(e.width&&e.height){var n=a.node(t.v),r={rank:(a.node(t.w).rank-n.rank)/2+n.rank,e:t};Y(a,"edge-proxy",r,"_ep")}})}),function(t,e){e()}("    removeEmptyRanks",function(){var t,e,n,r;t=C(k(a.nodes(),function(t){return a.node(t).rank})),e=[],(0,i.f)(a.nodes(),function(n){var r=a.node(n).rank-t;e[r]||(e[r]=[]),e[r].push(n)}),n=0,r=a.graph().nodeRankFactor,(0,i.f)(e,function(t,e){(0,i.i)(t)&&e%r!=0?--n:n&&(0,i.f)(t,function(t){a.node(t).rank+=n})})}),function(t,e){e()}("    nestingGraph.cleanup",function(){var t;t=a.graph(),a.removeNode(t.nestingRoot),delete t.nestingRoot,(0,i.f)(a.edges(),function(t){a.edge(t).nestingEdge&&a.removeEdge(t)})}),function(t,e){e()}("    normalizeRanks",function(){var t;t=C(k(a.nodes(),function(t){return a.node(t).rank})),(0,i.f)(a.nodes(),function(e){var n=a.node(e);(0,i.h)(n,"rank")&&(n.rank-=t)})}),function(t,e){e()}("    assignRankMinMax",function(){var t;t=0,(0,i.f)(a.nodes(),function(e){var n=a.node(e);n.borderTop&&(n.minRank=a.node(n.borderTop).rank,n.maxRank=a.node(n.borderBottom).rank,t=$(t,n.maxRank))}),a.graph().maxRank=t}),function(t,e){e()}("    removeEdgeLabelProxies",function(){(0,i.f)(a.nodes(),function(t){var e=a.node(t);"edge-proxy"===e.dummy&&(a.edge(e.e).labelRank=e.rank,a.removeNode(t))})}),function(t,e){e()}("    normalize.run",function(){a.graph().dummyChains=[],(0,i.f)(a.edges(),function(t){(function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,s=e.w,c=t.node(s).rank,u=e.name,d=t.edge(e),l=d.labelRank;if(c!==a+1){for(t.removeEdge(e),i=0,++a;a<c;++i,++a)d.points=[],n=Y(t,"edge",r={width:0,height:0,edgeLabel:d,edgeObj:e,rank:a},"_d"),a===l&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),t.setEdge(o,n,{weight:d.weight},u),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,s,{weight:d.weight},u)}})(a,t)})}),function(t,e){e()}("    parentDummyChains",function(){var t,e;t={},e=0,(0,i.f)(a.children(),function n(r){var o=e;(0,i.f)(a.children(r),n),t[r]={low:o,lim:e++}}),(0,i.f)(a.graph().dummyChains,function(e){for(var n=a.node(e),r=n.edgeObj,i=function(t,e,n,r){var i,o,a=[],s=[],c=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim);i=n;do a.push(i=t.parent(i));while(i&&(e[i].low>c||u>e[i].lim))for(o=i,i=r;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(a,t,r.v,r.w),o=i.path,s=i.lca,c=0,u=o[c],d=!0;e!==r.w;){if(n=a.node(e),d){for(;(u=o[c])!==s&&a.node(u).maxRank<n.rank;)c++;u===s&&(d=!1)}if(!d){for(;c<o.length-1&&a.node(u=o[c+1]).minRank<=n.rank;)c++;u=o[c]}a.setParent(e,u),e=a.successors(e)[0]}})}),function(t,e){e()}("    addBorderSegments",function(){(0,i.f)(a.children(),function t(e){var n=a.children(e),r=a.node(e);if(n.length&&(0,i.f)(n,t),(0,i.h)(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var o=r.minRank,s=r.maxRank+1;o<s;++o)Q(a,"borderLeft","_bl",e,r,o),Q(a,"borderRight","_br",e,r,o)}})}),function(t,e){e()}("    order",function(){(function(t){var e=X(t),n=tp(t,D(1,e+1),"inEdges"),r=tp(t,D(e-1,-1,-1),"outEdges"),a=(s={},u=$(k(c=(0,i.r)(t.nodes(),function(e){return!t.children(e).length}),function(e){return t.node(e).rank})),d=k(D(u+1),function(){return[]}),l=O(c,function(e){return t.node(e).rank}),(0,i.f)(l,function e(n){(0,i.h)(s,n)||(s[n]=!0,d[t.node(n).rank].push(n),(0,i.f)(t.successors(n),e))}),d);tv(t,a);for(var s,c,u,d,l,h,f=Number.POSITIVE_INFINITY,g=0,v=0;v<4;++g,++v){(function(t,e){var n=new i.G;(0,i.f)(t,function(t){var r,o,a,s=t.graph().root,c=function t(e,n,r,o){var a,s,c,u,d,l,h,f,g,v,y=e.children(n),b=e.node(n),m=b?b.borderLeft:void 0,_=b?b.borderRight:void 0,x={};m&&(y=(0,i.r)(y,function(t){return t!==m&&t!==_}));var w=k(y,function(t){var n=e.inEdges(t);if(!n.length)return{v:t};var r=(0,i.s)(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}});(0,i.f)(w,function(n){if(e.children(n.v).length){var a=t(e,n.v,r,o);x[n.v]=a,(0,i.h)(a,"barycenter")&&((0,i.i)(n.barycenter)?(n.barycenter=a.barycenter,n.weight=a.weight):(n.barycenter=(n.barycenter*n.weight+a.barycenter*a.weight)/(n.weight+a.weight),n.weight+=a.weight))}});var E=(a={},(0,i.f)(w,function(t,e){var n=a[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};(0,i.i)(t.barycenter)||(n.barycenter=t.barycenter,n.weight=t.weight)}),(0,i.f)(r.edges(),function(t){var e=a[t.v],n=a[t.w];(0,i.i)(e)||(0,i.i)(n)||(n.indegree++,e.out.push(a[t.w]))}),function(t){for(var e=[];t.length;){var n=t.pop();e.push(n),(0,i.f)(n.in.reverse(),function(t){return function(e){e.merged||((0,i.i)(e.barycenter)||(0,i.i)(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}(n)),(0,i.f)(n.out,function(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}(n))}return k((0,i.r)(e,function(t){return!t.merged}),function(t){return A(t,["vs","i","barycenter","weight"])})}((0,i.r)(a,function(t){return!t.indegree})));(function(t,e){(0,i.f)(t,function(t){t.vs=p(t.vs.map(function(t){return e[t]?e[t].vs:t}))})})(E,x);var S=(u=(s=function(t){return(0,i.h)(t,"barycenter")},c={lhs:[],rhs:[]},(0,i.f)(E,function(t){s(t)?c.lhs.push(t):c.rhs.push(t)}),c).lhs,d=O(c.rhs,function(t){return-t.i}),l=[],h=0,f=0,g=0,u.sort(function(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}(!!o)),g=tg(l,d,g),(0,i.f)(u,function(t){g+=t.vs.length,l.push(t.vs),h+=t.barycenter*t.weight,f+=t.weight,g=tg(l,d,g)}),v={vs:p(l)},f&&(v.barycenter=h/f,v.weight=f),v);if(m&&(S.vs=p([m,S.vs,_]),e.predecessors(m).length)){var T=e.node(e.predecessors(m)[0]),N=e.node(e.predecessors(_)[0]);(0,i.h)(S,"barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+T.order+N.order)/(S.weight+2),S.weight+=2}return S}(t,s,n,e);(0,i.f)(c.vs,function(e,n){t.node(e).order=n}),r=c.vs,a={},(0,i.f)(r,function(e){for(var r,i,s=t.parent(e);s;){if((r=t.parent(s))?(i=a[r],a[r]=s):(i=o,o=s),i&&i!==s){n.setEdge(i,s);return}s=r}})})})(g%2?n:r,g%4>=2),a=q(t);var y,b=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=function(t,e,n){for(var r=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}(n||[],k(n,function(t,e){return e})||[],o.al),a=p(k(e,function(e){return O(k(t.outEdges(e),function(e){return{pos:r[e.w],weight:t.edge(e).weight}}),"pos")})),s=1;s<n.length;)s<<=1;var c=2*s-1;s-=1;var u=k(Array(c),function(){return 0}),d=0;return(0,i.f)(a.forEach(function(t){var e=t.pos+s;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),e=e-1>>1,u[e]+=t.weight;d+=t.weight*n})),d}(t,e[r-1],e[r]);return n}(t,a);b<f&&(v=0,y=a,h=(0,i.c)(y,5),f=b)}tv(t,h)})(a)}),function(t,e){e()}("    insertSelfEdges",function(){var t;t=q(a),(0,i.f)(t,function(t){var e=0;(0,i.f)(t,function(t,n){var r=a.node(t);r.order=n+e,(0,i.f)(r.selfEdges,function(t){Y(a,"selfedge",{width:t.label.width,height:t.label.height,rank:r.rank,order:n+ ++e,e:t.e,label:t.label},"_se")}),delete r.selfEdges})})}),function(t,e){e()}("    adjustCoordinateSystem",function(){var t;("lr"===(t=a.graph().rankdir.toLowerCase())||"rl"===t)&&K(a)}),function(t,e){e()}("    position",function(){var t,e,n,r,s,c,u,d,l,h,f,g,p,v,y,b,_,w;b=q(y=t=H(t=a)),_=y.graph().ranksep,w=0,(0,i.f)(b,function(t){var e=$(k(t,function(t){return y.node(t).height}));(0,i.f)(t,function(t){y.node(t).y=w+e/2}),w+=e+_}),s=q(e=t),c=(0,o.ao)((n={},(0,i.s)(s,function(t,r){var o=0,a=0,s=t.length,c=m(r);return(0,i.f)(r,function(t,u){var d=function(t,e){if(t.node(e).dummy)return x(t.predecessors(e),function(e){return t.node(e).dummy})}(e,t),l=d?e.node(d).order:s;(d||t===c)&&((0,i.f)(r.slice(a,u+1),function(t){(0,i.f)(e.predecessors(t),function(r){var i=e.node(r),a=i.order;(a<o||l<a)&&!(i.dummy&&e.node(t).dummy)&&ty(n,r,t)})}),a=u+1,o=l)}),r}),n),function(t,e){var n={};function r(e,r,o,a,s){var c;(0,i.f)(D(r,o),function(r){c=e[r],t.node(c).dummy&&(0,i.f)(t.predecessors(c),function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&ty(n,e,c)})})}return(0,i.s)(e,function(e,n){var o,a=-1,s=0;return(0,i.f)(n,function(i,c){if("border"===t.node(i).dummy){var u=t.predecessors(i);u.length&&(o=t.node(u[0]).order,r(n,s,c,a,o),s=c,a=o)}r(n,s,n.length,o,e.length)}),n}),n}(e,s)),u={},(0,i.f)(["u","d"],function(t){r="u"===t?s:(0,i.v)(s).reverse(),(0,i.f)(["l","r"],function(n){"r"===n&&(r=k(r,function(t){return(0,i.v)(t).reverse()}));var o,a,s,d,l=("u"===t?e.predecessors:e.successors).bind(e),h=(o=r,a={},s={},d={},(0,i.f)(o,function(t){(0,i.f)(t,function(t,e){a[t]=t,s[t]=t,d[t]=e})}),(0,i.f)(o,function(t){var e=-1;(0,i.f)(t,function(t){var n=l(t);if(n.length){n=O(n,function(t){return d[t]});for(var r=(n.length-1)/2,o=Math.floor(r),u=Math.ceil(r);o<=u;++o){var h=n[o];s[t]===t&&e<d[h]&&!function(t,e,n){if(e>n){var r=e;e=n,n=r}return(0,i.h)(t[e],n)}(c,t,h)&&(s[h]=t,s[t]=a[t]=a[h],e=d[h])}}})}),{root:a,align:s}),f=function(t,e,n,r,o){var a,s,c,u,d,l={},h=(c=new i.G,a=(u=t.graph()).nodesep,s=u.edgesep,d=function(t,e,n){var r,c,u=t.node(e),d=t.node(n);if(c=0+u.width/2,(0,i.h)(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":r=-u.width/2;break;case"r":r=u.width/2}if(r&&(c+=o?r:-r),r=0,c+=(u.dummy?s:a)/2+(d.dummy?s:a)/2+d.width/2,(0,i.h)(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":r=d.width/2;break;case"r":r=-d.width/2}return r&&(c+=o?r:-r),r=0,c},(0,i.f)(e,function(e){var r;(0,i.f)(e,function(e){var i=n[e];if(c.setNode(i),r){var o=n[r],a=c.edge(o,i);c.setEdge(o,i,Math.max(d(t,e,r),a||0))}r=e})}),c),f=o?"borderLeft":"borderRight";function g(t,e){for(var n=h.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return g(function(t){l[t]=h.inEdges(t).reduce(function(t,e){return Math.max(t,l[e.v]+h.edge(e))},0)},h.predecessors.bind(h)),g(function(e){var n=h.outEdges(e).reduce(function(t,e){return Math.min(t,l[e.w]-h.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==f&&(l[e]=Math.max(l[e],n))},h.successors.bind(h)),(0,i.f)(r,function(t){l[t]=l[n[t]]}),l}(e,r,h.root,h.align,"r"===n);"r"===n&&(f=T(f,function(t){return-t})),u[t+n]=f})}),d=L((0,i.v)(u),function(t){var n,r=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return n=function(t,n){var i=e.node(n).width/2;r=Math.max(t+i,r),a=Math.min(t-i,a)},null==t||(0,o.ah)(t,(0,i.l)(n),o.ad),r-a}),h=C(l=(0,i.v)(d)),f=$(l),(0,i.f)(["u","d"],function(t){(0,i.f)(["l","r"],function(e){var n,r=t+e,o=u[r];if(o!==d){var a=(0,i.v)(o);(n="l"===e?h-C(a):f-$(a))&&(u[r]=T(o,function(t){return t+n}))}})}),g=e.graph().align,p=T(u.ul,function(t,e){if(g)return u[g.toLowerCase()][e];var n=O(k(u,e));return(n[1]+n[2])/2}),v=function(e,n){t.node(n).x=e},p&&(0,i.m)(p,(0,i.l)(v))}),function(t,e){e()}("    positionSelfEdges",function(){(0,i.f)(a.nodes(),function(t){var e=a.node(t);if("selfedge"===e.dummy){var n=a.node(e.e.v),r=n.x+n.width/2,i=n.y,o=e.x-r,s=n.height/2;a.setEdge(e.e,e.label),a.removeNode(t),e.label.points=[{x:r+2*o/3,y:i-s},{x:r+5*o/6,y:i-s},{x:r+o,y:i},{x:r+5*o/6,y:i+s},{x:r+2*o/3,y:i+s}],e.label.x=e.x,e.label.y=e.y}})}),function(t,e){e()}("    removeBorderNodes",function(){(0,i.f)(a.nodes(),function(t){if(a.children(t).length){var e=a.node(t),n=a.node(e.borderTop),r=a.node(e.borderBottom),i=a.node(m(e.borderLeft)),o=a.node(m(e.borderRight));e.width=Math.abs(o.x-i.x),e.height=Math.abs(r.y-n.y),e.x=i.x+e.width/2,e.y=n.y+e.height/2}}),(0,i.f)(a.nodes(),function(t){"border"===a.node(t).dummy&&a.removeNode(t)})}),function(t,e){e()}("    normalize.undo",function(){(0,i.f)(a.graph().dummyChains,function(t){var e,n=a.node(t),r=n.edgeLabel;for(a.setEdge(n.edgeObj,r);n.dummy;)e=a.successors(t)[0],a.removeNode(t),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=e,n=a.node(t)})}),function(t,e){e()}("    fixupEdgeLabelCoords",function(){(0,i.f)(a.edges(),function(t){var e=a.edge(t);if((0,i.h)(e,"x"))switch(("l"===e.labelpos||"r"===e.labelpos)&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}})}),function(t,e){e()}("    undoCoordinateSystem",function(){var t;("bt"===(t=a.graph().rankdir.toLowerCase())||"rl"===t)&&((0,i.f)(a.nodes(),function(t){tt(a.node(t))}),(0,i.f)(a.edges(),function(t){var e=a.edge(t);(0,i.f)(e.points,tt),(0,i.h)(e,"y")&&tt(e)})),("lr"===t||"rl"===t)&&((0,i.f)(a.nodes(),function(t){te(a.node(t))}),(0,i.f)(a.edges(),function(t){var e=a.edge(t);(0,i.f)(e.points,te),(0,i.h)(e,"x")&&te(e)}),K(a))}),function(t,e){e()}("    translateGraph",function(){(function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,c=a.marginy||0;function u(t){var i=t.x,a=t.y,s=t.width,c=t.height;e=Math.min(e,i-s/2),n=Math.max(n,i+s/2),r=Math.min(r,a-c/2),o=Math.max(o,a+c/2)}(0,i.f)(t.nodes(),function(e){u(t.node(e))}),(0,i.f)(t.edges(),function(e){var n=t.edge(e);(0,i.h)(n,"x")&&u(n)}),e-=s,r-=c,(0,i.f)(t.nodes(),function(n){var i=t.node(n);i.x-=e,i.y-=r}),(0,i.f)(t.edges(),function(n){var o=t.edge(n);(0,i.f)(o.points,function(t){t.x-=e,t.y-=r}),(0,i.h)(o,"x")&&(o.x-=e),(0,i.h)(o,"y")&&(o.y-=r)}),a.width=n-e+s,a.height=o-r+c})(a)}),function(t,e){e()}("    assignNodeIntersects",function(){(0,i.f)(a.edges(),function(t){var e,n,r=a.edge(t),i=a.node(t.v),o=a.node(t.w);r.points?(e=r.points[0],n=r.points[r.points.length-1]):(r.points=[],e=o,n=i),r.points.unshift(V(i,e)),r.points.push(V(o,n))})}),function(t,e){e()}("    reversePoints",function(){(0,i.f)(a.edges(),function(t){var e=a.edge(t);e.reversed&&e.points.reverse()})}),function(t,e){e()}("    acyclic.undo",function(){(0,i.f)(a.edges(),function(t){var e=a.edge(t);if(e.reversed){a.removeEdge(t);var n=e.forwardName;delete e.reversed,delete e.forwardName,a.setEdge(t.w,t.v,e,n)}})})}(),r=0,function(){(0,i.f)(t.nodes(),function(e){var n=t.node(e),r=a.node(e);n&&(n.x=r.x,n.y=r.y,a.children(e).length&&(n.width=r.width,n.height=r.height))}),(0,i.f)(t.edges(),function(e){var n=t.edge(e),r=a.edge(e);n.points=r.points,(0,i.h)(r,"x")&&(n.x=r.x,n.y=r.y)}),t.graph().width=a.graph().width,t.graph().height=a.graph().height}()}()}Error(),ta.initLowLimValues=tu,ta.initCutValues=ts,ta.calcCutValue=tc,ta.leaveEdge=td,ta.enterEdge=tl,ta.exchangeEdges=th;var tm=["nodesep","edgesep","ranksep","marginx","marginy"],t_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},tx=["acyclicer","ranker","rankdir","align"],tw=["width","height"],tk={width:0,height:0},tE=["minlen","weight","width","height","labeloffset"],tS={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},tT=["labelpos"];function tN(t,e){return T(A(t,e),Number)}function t$(t){var e={};return(0,i.f)(t,function(t,n){e[n.toLowerCase()]=t}),e}},6142:(t,e,n)=>{n.d(e,{c:()=>c,w:()=>u});let r=Math.PI,i=2*r,o=i-1e-6;function a(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class s{moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,i,o){if(t=+t,e=+e,n=+n,i=+i,(o=+o)<0)throw Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=n-t,u=i-e,d=a-t,l=s-e,h=d*d+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>1e-6){if(Math.abs(l*c-u*d)>1e-6&&o){let f=n-a,g=i-s,p=c*c+u*u,v=Math.sqrt(p),y=Math.sqrt(h),b=o*Math.tan((r-Math.acos((p+h-(f*f+g*g))/(2*v*y)))/2),m=b/y,_=b/v;Math.abs(m-1)>1e-6&&this._append`L${t+m*d},${e+m*l}`,this._append`A${o},${o},0,0,${+(l*f>d*g)},${this._x1=t+_*c},${this._y1=e+_*u}`}else this._append`L${this._x1=t},${this._y1=e}`}}arc(t,e,n,a,s,c){if(t=+t,e=+e,c=!!c,(n=+n)<0)throw Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),l=t+u,h=e+d,f=1^c,g=c?a-s:s-a;null===this._x1?this._append`M${l},${h}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-h)>1e-6)&&this._append`L${l},${h}`,n&&(g<0&&(g=g%i+i),g>o?this._append`A${n},${n},0,1,${f},${t-u},${e-d}A${n},${n},0,1,${f},${this._x1=l},${this._y1=h}`:g>1e-6&&this._append`A${n},${n},0,${+(g>=r)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=e+n*Math.sin(s)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?a:function(t){let e=Math.floor(t);if(!(e>=0))throw Error(`invalid digits: ${t}`);if(e>15)return a;let n=Math.pow(10,e);return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}}function c(t){return function(){return t}}function u(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{let t=Math.floor(n);if(!(t>=0))throw RangeError(`invalid digits: ${n}`);e=t}return t},()=>new s(e)}},7577:(t,e,n)=>{n.d(e,{G:()=>tC,a:()=>o,b:()=>N,c:()=>function t(e,n,r,o,a,s){var c,d=1&n,l=2&n,h=4&n;if(void 0!==c)return c;if(!(0,i.a8)(e))return e;var g=(0,i.ag)(e);if(g){if(p=e.length,v=new e.constructor(p),p&&"string"==typeof e[0]&&R.call(e,"index")&&(v.index=e.index,v.input=e.input),c=v,!d)return(0,i.aW)(e,c)}else{var p,v,y,b,m,_,x=(0,i.aU)(e),w=x==q||"[object GeneratorFunction]"==x;if((0,i.aX)(e))return(0,i.aY)(e,d);if(x==J||x==V||w&&!a){if(c=l||w?{}:(0,i.aZ)(e),!d)return l?(b=(y=c)&&(0,i.aQ)(e,(0,i.ad)(e),y),(0,i.aQ)(e,D(e),b)):(_=(m=c)&&(0,i.aQ)(e,f(e),m),(0,i.aQ)(e,j(e),_))}else{if(!X[x])return a?e:{};c=function(t,e,n){var r,o,a=t.constructor;switch(e){case"[object ArrayBuffer]":return(0,i.aS)(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return r=n?(0,i.aS)(t.buffer):t.buffer,new t.constructor(r,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,i.aT)(t,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(o=new t.constructor(t.source,P.exec(t))).lastIndex=t.lastIndex,o;case"[object Symbol]":return G?Object(G.call(t)):{}}}(e,x,d)}}s||(s=new i.a_);var k=s.get(e);if(k)return k;s.set(e,c),H(e)?e.forEach(function(i){c.add(t(i,n,r,i,e,s))}):U(e)&&e.forEach(function(i,o){c.set(o,t(i,n,r,o,e,s))});var E=h?l?M:B:l?i.ad:f,S=g?void 0:E(e);return u(S||e,function(o,a){S&&(o=e[a=o]),(0,i.al)(c,a,t(o,n,r,a,e,s))}),c},d:()=>tg,e:()=>d,f:()=>tb,g:()=>tv,h:()=>tw,i:()=>tE,j:()=>a,k:()=>f,l:()=>ty,m:()=>tp,n:()=>x,o:()=>k,p:()=>tf,q:()=>_,r:()=>tm,s:()=>tT,t:()=>w,v:()=>tk});var r,i=n(421);function o(t){return"symbol"==typeof t||(0,i.aJ)(t)&&"[object Symbol]"==(0,i.aK)(t)}function a(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var s=i.aL?i.aL.prototype:void 0,c=s?s.toString:void 0;function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function d(t,e,n,r){for(var i=t.length,o=n+-1;++o<i;)if(e(t[o],o,t))return o;return -1}function l(t){return t!=t}function h(t,e){return!!(null==t?0:t.length)&&(e==e?function(t,e,n){for(var r=-1,i=t.length;++r<i;)if(t[r]===e)return r;return -1}(t,e,0):d(t,l,0))>-1}function f(t){return(0,i.af)(t)?(0,i.aM)(t):(0,i.aN)(t)}var g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;function v(t,e){if((0,i.ag)(t))return!1;var n=typeof t;return!!("number"==n||"symbol"==n||"boolean"==n||null==t||o(t))||p.test(t)||!g.test(t)||null!=e&&t in Object(e)}var y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,m=function(t){var e=(0,i.aO)(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(y,function(t,n,r,i){e.push(r?i.replace(b,"$1"):n||t)}),e});function _(t){return null==t?"":function t(e){if("string"==typeof e)return e;if((0,i.ag)(e))return a(e,t)+"";if(o(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)}function x(t,e){return(0,i.ag)(t)?t:v(t,e)?[t]:m(_(t))}function w(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function k(t,e){e=x(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[w(e[n++])];return n&&n==r?t:void 0}function E(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var S=i.aL?i.aL.isConcatSpreadable:void 0;function T(t){return(0,i.ag)(t)||(0,i.aP)(t)||!!(S&&t&&t[S])}function N(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=T),i||(i=[]);++o<a;){var s=t[o];n(s)?E(i,s):r||(i[i.length]=s)}return i}function $(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function C(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function L(){return[]}var A=Object.prototype.propertyIsEnumerable,I=Object.getOwnPropertySymbols,j=I?function(t){return null==t?[]:C(I(t=Object(t)),function(e){return A.call(t,e)})}:L,D=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)E(e,j(t)),t=(0,i.aR)(t);return e}:L;function O(t,e,n){var r=e(t);return(0,i.ag)(t)?r:E(r,n(t))}function B(t){return O(t,f,j)}function M(t){return O(t,i.ad,D)}var R=Object.prototype.hasOwnProperty,P=/\w*$/,F=i.aL?i.aL.prototype:void 0,G=F?F.valueOf:void 0,z=i.aV&&i.aV.isMap,U=z?(0,i.am)(z):function(t){return(0,i.aJ)(t)&&"[object Map]"==(0,i.aU)(t)},Y=i.aV&&i.aV.isSet,H=Y?(0,i.am)(Y):function(t){return(0,i.aJ)(t)&&"[object Set]"==(0,i.aU)(t)},V="[object Arguments]",q="[object Function]",J="[object Object]",X={};function W(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i.a$;++e<n;)this.add(t[e])}function Q(t,e){return t.has(e)}function K(t,e,n,r,i,o){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var l=-1,h=!0,f=2&n?new W:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var g=t[l],p=e[l];if(r)var v=a?r(p,g,l,e,t,o):r(g,p,l,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,function(t,e){if(!Q(f,e)&&(g===t||i(g,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(!(g===p||i(g,p,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function tt(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}X[V]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object DataView]"]=X["[object Boolean]"]=X["[object Date]"]=X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Map]"]=X["[object Number]"]=X[J]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object Symbol]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X["[object Error]"]=X[q]=X["[object WeakMap]"]=!1,W.prototype.add=W.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},W.prototype.has=function(t){return this.__data__.has(t)};var te=i.aL?i.aL.prototype:void 0,tn=te?te.valueOf:void 0,tr=Object.prototype.hasOwnProperty,ti="[object Arguments]",to="[object Array]",ta="[object Object]",ts=Object.prototype.hasOwnProperty;function tc(t,e,n,r,o){return t===e||(null!=t&&null!=e&&((0,i.aJ)(t)||(0,i.aJ)(e))?function(t,e,n,r,o,a){var s=(0,i.ag)(t),c=(0,i.ag)(e),u=s?to:(0,i.aU)(t),d=c?to:(0,i.aU)(e);u=u==ti?ta:u,d=d==ti?ta:d;var l=u==ta,h=d==ta,f=u==d;if(f&&(0,i.aX)(t)){if(!(0,i.aX)(e))return!1;s=!0,l=!1}if(f&&!l)return a||(a=new i.a_),s||(0,i.b1)(t)?K(t,e,n,r,o,a):function(t,e,n,r,o,a,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new i.b0(t),new i.b0(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,i.ae)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Z;case"[object Set]":var u=1&r;if(c||(c=tt),t.size!=e.size&&!u)break;var d=s.get(t);if(d)return d==e;r|=2,s.set(t,e);var l=K(c(t),c(e),r,o,a,s);return s.delete(t),l;case"[object Symbol]":if(tn)return tn.call(t)==tn.call(e)}return!1}(t,e,u,n,r,o,a);if(!(1&n)){var g=l&&ts.call(t,"__wrapped__"),p=h&&ts.call(e,"__wrapped__");if(g||p){var v=g?t.value():t,y=p?e.value():e;return a||(a=new i.a_),o(v,y,n,r,a)}}return!!f&&(a||(a=new i.a_),function(t,e,n,r,i,o){var a=1&n,s=B(t),c=s.length;if(c!=B(e).length&&!a)return!1;for(var u=c;u--;){var d=s[u];if(!(a?d in e:tr.call(e,d)))return!1}var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var g=a;++u<c;){var p=t[d=s[u]],v=e[d];if(r)var y=a?r(v,p,d,e,t,o):r(p,v,d,t,e,o);if(!(void 0===y?p===v||i(p,v,n,r,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=t.constructor,m=e.constructor;b!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m)&&(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,o,a))}(t,e,n,r,tc,o):t!=t&&e!=e)}function tu(t){return t==t&&!(0,i.a8)(t)}function td(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}function tl(t,e){return null!=t&&e in Object(t)}function th(t,e,n){e=x(e,t);for(var r=-1,o=e.length,a=!1;++r<o;){var s=w(e[r]);if(!(a=null!=t&&n(t,s)))break;t=t[s]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&(0,i.b2)(o)&&(0,i.ak)(s,o)&&((0,i.ag)(t)||(0,i.aP)(t))}function tf(t,e){return null!=t&&th(t,e,tl)}function tg(t){var e,n,r,o;return"function"==typeof t?t:null==t?i.aj:"object"==typeof t?(0,i.ag)(t)?(e=t[0],n=t[1],v(e)&&tu(n)?td(w(e),n):function(t){var r,i=void 0===(r=null==t?void 0:k(t,e))?void 0:r;return void 0===i&&i===n?tf(t,e):tc(n,i,3)}):1==(r=function(t){for(var e=f(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tu(i)]}return e}(t)).length&&r[0][2]?td(r[0][0],r[0][1]):function(e){return e===t||function(t,e,n,r){var o=n.length,a=o;if(null==t)return!a;for(t=Object(t);o--;){var s=n[o];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var c=(s=n[o])[0],u=t[c],d=s[1];if(s[2]){if(void 0===u&&!(c in t))return!1}else{var l,h=new i.a_;if(!(void 0===l?tc(d,u,3,void 0,h):l))return!1}}return!0}(e,0,r)}:v(t)?(o=w(t),function(t){return null==t?void 0:t[o]}):function(e){return k(e,t)}}function tp(t,e){return t&&(0,i.ah)(t,e,f)}var tv=(r=tp,function(t,e){if(null==t)return t;if(!(0,i.af)(t))return r(t,e);for(var n=t.length,o=-1,a=Object(t);++o<n&&!1!==e(a[o],o,a););return t});function ty(t){return"function"==typeof t?t:i.aj}function tb(t,e){return((0,i.ag)(t)?u:tv)(t,ty(e))}function tm(t,e){return((0,i.ag)(t)?C:function(t,e){var n=[];return tv(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n})(t,tg(e))}var t_=Object.prototype.hasOwnProperty;function tx(t,e){return null!=t&&t_.call(t,e)}function tw(t,e){return null!=t&&th(t,e,tx)}function tk(t){return null==t?[]:a(f(t),function(e){return t[e]})}function tE(t){return void 0===t}function tS(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function tT(t,e,n){var r=(0,i.ag)(t)?$:tS,o=arguments.length<3;return r(t,tg(e),n,o,tv)}var tN=i.b3&&1/tt(new i.b3([,-0]))[1]==1/0?function(t){return new i.b3(t)}:function(){},t$=(0,i.ab)(function(t){return function(t,e,n){var r=-1,i=h,o=t.length,a=!0,s=[],c=s;if(o>=200){var u=tN(t);if(u)return tt(u);a=!1,i=Q,c=new W}else c=s;t:for(;++r<o;){var d=t[r],l=d;if(d=0!==d?d:0,a&&l==l){for(var f=c.length;f--;)if(c[f]===l)continue t;s.push(d)}else i(c,l,void 0)||(c!==s&&c.push(l),s.push(d))}return s}(N(t,1,i.b4,!0))});class tC{isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return(0,i.z)(t)||(t=(0,i.an)(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return f(this._nodes)}sources(){var t=this;return tm(this.nodes(),function(e){return(0,i.b5)(t._in[e])})}sinks(){var t=this;return tm(this.nodes(),function(e){return(0,i.b5)(t._out[e])})}setNodes(t,e){var n=arguments,r=this;return tb(t,function(t){n.length>1?r.setNode(t,e):r.setNode(t)}),this}setNode(t,e){return tw(this._nodes,t)?arguments.length>1&&(this._nodes[t]=e):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this}node(t){return this._nodes[t]}hasNode(t){return tw(this._nodes,t)}removeNode(t){var e=this;if(tw(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],tb(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),tb(f(this._in[t]),n),delete this._in[t],delete this._preds[t],tb(f(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(tE(e))e="\0";else{e+="";for(var n=e;!tE(n);n=this.parent(n))if(n===t)throw Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}}children(t){if(tE(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return f(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=this._preds[t];if(e)return f(e)}successors(t){var e=this._sucs[t];if(e)return f(e)}neighbors(t){var e=this.predecessors(t);if(e)return t$(e,this.successors(t))}isLeaf(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;tb(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),tb(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var r={};return this._isCompound&&tb(e.nodes(),function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))}),e}setDefaultEdgeLabel(t){return(0,i.z)(t)||(t=(0,i.an)(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return tk(this._edgeObjs)}setPath(t,e){var n=this,r=arguments;return tT(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this}setEdge(){var t,e,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2==arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,tE(n)||(n=""+n);var a=tI(this._isDirected,t,e,n);if(tw(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!tE(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,e,n);var s=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}(this._isDirected,t,e,n);return t=s.v,e=s.w,Object.freeze(s),this._edgeObjs[a]=s,tL(this._preds[e],t),tL(this._sucs[t],e),this._in[e][a]=s,this._out[t][a]=s,this._edgeCount++,this}edge(t,e,n){var r=1==arguments.length?tj(this._isDirected,arguments[0]):tI(this._isDirected,t,e,n);return this._edgeLabels[r]}hasEdge(t,e,n){var r=1==arguments.length?tj(this._isDirected,arguments[0]):tI(this._isDirected,t,e,n);return tw(this._edgeLabels,r)}removeEdge(t,e,n){var r=1==arguments.length?tj(this._isDirected,arguments[0]):tI(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],tA(this._preds[e],t),tA(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this}inEdges(t,e){var n=this._in[t];if(n){var r=tk(n);return e?tm(r,function(t){return t.v===e}):r}}outEdges(t,e){var n=this._out[t];if(n){var r=tk(n);return e?tm(r,function(t){return t.w===e}):r}}nodeEdges(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}constructor(t={}){this._isDirected=!tw(t,"directed")||t.directed,this._isMultigraph=!!tw(t,"multigraph")&&t.multigraph,this._isCompound=!!tw(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=(0,i.an)(void 0),this._defaultEdgeLabelFn=(0,i.an)(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}}function tL(t,e){t[e]?t[e]++:t[e]=1}function tA(t,e){--t[e]||delete t[e]}function tI(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(tE(r)?"\0":r)}function tj(t,e){return tI(t,e.v,e.w,e.name)}tC.prototype._nodeCount=0,tC.prototype._edgeCount=0},9310:(t,e,n)=>{let r;n.r(e),n.d(e,{diagram:()=>S});var i=n(704),o=n(421),a=n(7577),s=n(2800),c=n(1894);let u=t=>t.append("circle").attr("class","start-state").attr("r",(0,o.g)().state.sizeUnit).attr("cx",(0,o.g)().state.padding+(0,o.g)().state.sizeUnit).attr("cy",(0,o.g)().state.padding+(0,o.g)().state.sizeUnit),d=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",(0,o.g)().state.textHeight).attr("class","divider").attr("x2",2*(0,o.g)().state.textHeight).attr("y1",0).attr("y2",0),l=(t,e)=>{let n=t.append("text").attr("x",2*(0,o.g)().state.padding).attr("y",(0,o.g)().state.textHeight+2*(0,o.g)().state.padding).attr("font-size",(0,o.g)().state.fontSize).attr("class","state-title").text(e.id),r=n.node().getBBox();return t.insert("rect",":first-child").attr("x",(0,o.g)().state.padding).attr("y",(0,o.g)().state.padding).attr("width",r.width+2*(0,o.g)().state.padding).attr("height",r.height+2*(0,o.g)().state.padding).attr("rx",(0,o.g)().state.radius),n},h=(t,e)=>{let n=function(t,e,n){let r=t.append("tspan").attr("x",2*(0,o.g)().state.padding).text(e);n||r.attr("dy",(0,o.g)().state.textHeight)},r=t.append("text").attr("x",2*(0,o.g)().state.padding).attr("y",(0,o.g)().state.textHeight+1.3*(0,o.g)().state.padding).attr("font-size",(0,o.g)().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),i=r.height,a=t.append("text").attr("x",(0,o.g)().state.padding).attr("y",i+.4*(0,o.g)().state.padding+(0,o.g)().state.dividerMargin+(0,o.g)().state.textHeight).attr("class","state-description"),s=!0,c=!0;e.descriptions.forEach(function(t){s||(n(a,t,c),c=!1),s=!1});let u=t.append("line").attr("x1",(0,o.g)().state.padding).attr("y1",(0,o.g)().state.padding+i+(0,o.g)().state.dividerMargin/2).attr("y2",(0,o.g)().state.padding+i+(0,o.g)().state.dividerMargin/2).attr("class","descr-divider"),d=a.node().getBBox(),l=Math.max(d.width,r.width);return u.attr("x2",l+3*(0,o.g)().state.padding),t.insert("rect",":first-child").attr("x",(0,o.g)().state.padding).attr("y",(0,o.g)().state.padding).attr("width",l+2*(0,o.g)().state.padding).attr("height",d.height+i+2*(0,o.g)().state.padding).attr("rx",(0,o.g)().state.radius),t},f=(t,e,n)=>{let r;let i=(0,o.g)().state.padding,a=2*(0,o.g)().state.padding,s=t.node().getBBox(),c=s.width,u=s.x,d=t.append("text").attr("x",0).attr("y",(0,o.g)().state.titleShift).attr("font-size",(0,o.g)().state.fontSize).attr("class","state-title").text(e.id),l=d.node().getBBox().width+a,h=Math.max(l,c);h===c&&(h+=a);let f=t.node().getBBox();e.doc,r=u-i,l>c&&(r=(c-h)/2+i),Math.abs(u-f.x)<i&&l>c&&(r=u-(l-c)/2);let g=1-(0,o.g)().state.textHeight;return t.insert("rect",":first-child").attr("x",r).attr("y",g).attr("class",n?"alt-composit":"composit").attr("width",h).attr("height",f.height+(0,o.g)().state.textHeight+(0,o.g)().state.titleShift+1).attr("rx","0"),d.attr("x",r+i),l<=c&&d.attr("x",u+(h-a)/2-l/2+i),t.insert("rect",":first-child").attr("x",r).attr("y",(0,o.g)().state.titleShift-(0,o.g)().state.textHeight-(0,o.g)().state.padding).attr("width",h).attr("height",3*(0,o.g)().state.textHeight).attr("rx",(0,o.g)().state.radius),t.insert("rect",":first-child").attr("x",r).attr("y",(0,o.g)().state.titleShift-(0,o.g)().state.textHeight-(0,o.g)().state.padding).attr("width",h).attr("height",f.height+3+2*(0,o.g)().state.textHeight).attr("rx",(0,o.g)().state.radius),t},g=t=>(t.append("circle").attr("class","end-state-outer").attr("r",(0,o.g)().state.sizeUnit+(0,o.g)().state.miniPadding).attr("cx",(0,o.g)().state.padding+(0,o.g)().state.sizeUnit+(0,o.g)().state.miniPadding).attr("cy",(0,o.g)().state.padding+(0,o.g)().state.sizeUnit+(0,o.g)().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",(0,o.g)().state.sizeUnit).attr("cx",(0,o.g)().state.padding+(0,o.g)().state.sizeUnit+2).attr("cy",(0,o.g)().state.padding+(0,o.g)().state.sizeUnit+2)),p=(t,e)=>{let n=(0,o.g)().state.forkWidth,r=(0,o.g)().state.forkHeight;if(e.parentId){let t=n;n=r,r=t}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",(0,o.g)().state.padding).attr("y",(0,o.g)().state.padding)},v=(t,e,n,r)=>{let i=0,a=r.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>"),c=(s=s.replace(/\n/g,"<br/>")).split(o.k.lineBreakRegex),u=1.25*(0,o.g)().state.noteMargin;for(let t of c){let r=t.trim();if(r.length>0){let t=a.append("tspan");t.text(r),0===u&&(u+=t.node().getBBox().height),i+=u,t.attr("x",e+(0,o.g)().state.noteMargin),t.attr("y",n+i+1.25*(0,o.g)().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},y=(t,e)=>{e.attr("class","state-note");let n=e.append("rect").attr("x",0).attr("y",(0,o.g)().state.padding),{textWidth:r,textHeight:i}=v(t,0,0,e.append("g"));return n.attr("height",i+2*(0,o.g)().state.noteMargin),n.attr("width",r+2*(0,o.g)().state.noteMargin),n},b=function(t,e){let n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");"start"===e.type&&u(i),"end"===e.type&&g(i),("fork"===e.type||"join"===e.type)&&p(i,e),"note"===e.type&&y(e.note.text,i),"divider"===e.type&&d(i),"default"===e.type&&0===e.descriptions.length&&l(i,e),"default"===e.type&&e.descriptions.length>0&&h(i,e);let a=i.node().getBBox();return r.width=a.width+2*(0,o.g)().state.padding,r.height=a.height+2*(0,o.g)().state.padding,r},m=0,_=function(t,e,n){e.points=e.points.filter(t=>!Number.isNaN(t.y));let r=e.points,a=(0,c.l)().x(function(t){return t.x}).y(function(t){return t.y}).curve(o.F),s=t.append("path").attr("d",a(r)).attr("id","edge"+m).attr("class","transition"),u="";if((0,o.g)().state.arrowMarkerAbsolute&&(u=(u=(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),s.attr("marker-end","url("+u+"#"+function(t){switch(t){case i.d.relationType.AGGREGATION:return"aggregation";case i.d.relationType.EXTENSION:return"extension";case i.d.relationType.COMPOSITION:return"composition";case i.d.relationType.DEPENDENCY:return"dependency"}}(i.d.relationType.DEPENDENCY)+"End)"),void 0!==n.title){let r=t.append("g").attr("class","stateLabel"),{x:i,y:a}=o.B.calcLabelPosition(e.points),s=o.k.getRows(n.title),c=0,u=[],d=0,l=0;for(let t=0;t<=s.length;t++){let e=r.append("text").attr("text-anchor","middle").text(s[t]).attr("x",i).attr("y",a+c),n=e.node().getBBox();d=Math.max(d,n.width),l=Math.min(l,n.x),o.l.info(n.x,i,a+c),0===c&&(c=e.node().getBBox().height,o.l.info("Title height",c,a)),u.push(e)}let h=c*s.length;if(s.length>1){let t=(s.length-1)*c*.5;u.forEach((e,n)=>e.attr("y",a+n*c-t)),h=c*s.length}let f=r.node().getBBox();r.insert("rect",":first-child").attr("class","box").attr("x",i-d/2-(0,o.g)().state.padding/2).attr("y",a-h/2-(0,o.g)().state.padding/2-3.5).attr("width",d+(0,o.g)().state.padding).attr("height",h+(0,o.g)().state.padding),o.l.info(f)}m++},x={},w=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},k=t=>t?t.length*r.fontSizeFactor:1,E=(t,e,n,i,c,u,d)=>{let l=new a.G({compound:!0,multigraph:!0}),h,g=!0;for(h=0;h<t.length;h++)if("relation"===t[h].stmt){g=!1;break}n?l.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:g?1:r.edgeLengthFactor,nodeSep:g?1:50,isMultiGraph:!0}):l.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:g?1:r.edgeLengthFactor,nodeSep:g?1:50,ranker:"tight-tree",isMultiGraph:!0}),l.setDefaultEdgeLabel(function(){return{}}),d.db.extract(t);let p=d.db.getStates(),v=d.db.getRelations();for(let t of Object.keys(p)){let o;let a=p[t];if(n&&(a.parentId=n),a.doc){let t=e.append("g").attr("id",a.id).attr("class","stateGroup");o=E(a.doc,t,a.id,!i,c,u,d);{let e=(t=f(t,a,i)).node().getBBox();o.width=e.width,o.height=e.height+r.padding/2,x[a.id]={y:r.compositTitleSize}}}else o=b(e,a);if(a.note){let t=b(e,{descriptions:[],id:a.id+"-note",note:a.note,type:"note"});"left of"===a.note.position?(l.setNode(o.id+"-note",t),l.setNode(o.id,o)):(l.setNode(o.id,o),l.setNode(o.id+"-note",t)),l.setParent(o.id,o.id+"-group"),l.setParent(o.id+"-note",o.id+"-group")}else l.setNode(o.id,o)}o.l.debug("Count=",l.nodeCount(),l);let y=0;v.forEach(function(t){y++,o.l.debug("Setting edge",t),l.setEdge(t.id1,t.id2,{relation:t,width:k(t.title),height:r.labelHeight*o.k.getRows(t.title).length,labelpos:"c"},"id"+y)}),(0,s.l)(l),o.l.debug("Graph after layout",l.nodes());let m=e.node();l.nodes().forEach(function(t){void 0!==t&&void 0!==l.node(t)?(o.l.warn("Node "+t+": "+JSON.stringify(l.node(t))),c.select("#"+m.id+" #"+t).attr("transform","translate("+(l.node(t).x-l.node(t).width/2)+","+(l.node(t).y+(x[t]?x[t].y:0)-l.node(t).height/2)+" )"),c.select("#"+m.id+" #"+t).attr("data-x-shift",l.node(t).x-l.node(t).width/2),u.querySelectorAll("#"+m.id+" #"+t+" .divider").forEach(t=>{let e=t.parentElement,n=0,r=0;e&&(e.parentElement&&(n=e.parentElement.getBBox().width),Number.isNaN(r=parseInt(e.getAttribute("data-x-shift"),10))&&(r=0)),t.setAttribute("x1",0-r+8),t.setAttribute("x2",n-r-8)})):o.l.debug("No Node "+t+": "+JSON.stringify(l.node(t)))});let w=m.getBBox();l.edges().forEach(function(t){void 0!==t&&void 0!==l.edge(t)&&(o.l.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(l.edge(t))),_(e,l.edge(t),l.edge(t).relation))}),w=m.getBBox();let S={id:n||"root",label:n||"root",width:0,height:0};return S.width=w.width+2*r.padding,S.height=w.height+2*r.padding,o.l.debug("Doc rendered",S,l),S},S={parser:i.p,db:i.d,renderer:{setConf:function(){},draw:function(t,e,n,i){let a;r=(0,o.g)().state;let s=(0,o.g)().securityLevel;"sandbox"===s&&(a=(0,o.d)("#i"+e));let c="sandbox"===s?(0,o.d)(a.nodes()[0].contentDocument.body):(0,o.d)("body"),u="sandbox"===s?a.nodes()[0].contentDocument:document;o.l.debug("Rendering diagram "+t);let d=c.select(`[id='${e}']`);w(d),E(i.db.getRootDoc(),d,void 0,!1,c,u,i);let l=r.padding,h=d.node().getBBox(),f=h.width+2*l,g=h.height+2*l;(0,o.e)(d,g,1.75*f,r.useMaxWidth),d.attr("viewBox",`${h.x-r.padding}  ${h.y-r.padding} `+f+" "+g)}},styles:i.s,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,i.d.clear()}}}}]);