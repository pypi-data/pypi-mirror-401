"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[405],{1854:(e,t,n)=>{n.d(t,{a:()=>r});function r(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}},1894:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(1854),i=n(6142),a=n(421);function s(e){return e[0]}function l(e){return e[1]}function o(e,t){var n=(0,i.c)(!0),o=null,u=a.n,c=null,d=(0,i.w)(h);function h(i){var a,s,l,h=(i=(0,r.a)(i)).length,f=!1;for(null==o&&(c=u(l=d())),a=0;a<=h;++a)!(a<h&&n(s=i[a],a,i))===f&&((f=!f)?c.lineStart():c.lineEnd()),f&&c.point(+e(s,a,i),+t(s,a,i));if(l)return c=null,l+""||null}return e="function"==typeof e?e:void 0===e?s:(0,i.c)(e),t="function"==typeof t?t:void 0===t?l:(0,i.c)(t),h.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.c)(+t),h):e},h.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.c)(+e),h):t},h.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,i.c)(!!e),h):n},h.curve=function(e){return arguments.length?(u=e,null!=o&&(c=u(o)),h):u},h.context=function(e){return arguments.length?(null==e?o=c=null:c=u(o=e),h):o},h}},2405:(e,t,n)=>{n.r(t),n.d(t,{diagram:()=>W});var r=n(421),i=n(3201),a=n(9258),s=n(7577),l=n(7882),o=n(3073),u=n(8296);function c(e,t,n,r,i,a,s){try{var l=e[a](s),o=l.value}catch(e){n(e);return}l.done?t(o):Promise.resolve(o).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){c(a,r,i,s,l,"next",e)}function l(e){c(a,r,i,s,l,"throw",e)}s(void 0)})}}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var p,g,y=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,7],n=[1,13],r=[1,14],i=[1,15],a=[1,19],s=[1,16],l=[1,17],o=[1,18],u=[8,30],c=[8,21,28,29,30,31,32,40,44,47],d=[1,23],p=[1,24],g=[8,15,16,21,28,29,30,31,32,40,44,47],y=[8,15,16,21,27,28,29,30,31,32,40,44,47],x=[1,49],b={trace:function(){},yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:function(e,t,n,r,i,a,s){var l=a.length-1;switch(i){case 4:r.getLogger().debug("Rule: separator (NL) ");break;case 5:r.getLogger().debug("Rule: separator (Space) ");break;case 6:r.getLogger().debug("Rule: separator (EOF) ");break;case 7:r.getLogger().debug("Rule: hierarchy: ",a[l-1]),r.setHierarchy(a[l-1]);break;case 8:r.getLogger().debug("Stop NL ");break;case 9:r.getLogger().debug("Stop EOF ");break;case 10:r.getLogger().debug("Stop NL2 ");break;case 11:r.getLogger().debug("Stop EOF2 ");break;case 12:r.getLogger().debug("Rule: statement: ",a[l]),"number"==typeof a[l].length?this.$=a[l]:this.$=[a[l]];break;case 13:r.getLogger().debug("Rule: statement #2: ",a[l-1]),this.$=[a[l-1]].concat(a[l]);break;case 14:r.getLogger().debug("Rule: link: ",a[l],e),this.$={edgeTypeStr:a[l],label:""};break;case 15:r.getLogger().debug("Rule: LABEL link: ",a[l-3],a[l-1],a[l]),this.$={edgeTypeStr:a[l],label:a[l-1]};break;case 18:let o=parseInt(a[l]),u=r.generateId();this.$={id:u,type:"space",label:"",width:o,children:[]};break;case 23:r.getLogger().debug("Rule: (nodeStatement link node) ",a[l-2],a[l-1],a[l]," typestr: ",a[l-1].edgeTypeStr);let c=r.edgeStrToEdgeData(a[l-1].edgeTypeStr);this.$=[{id:a[l-2].id,label:a[l-2].label,type:a[l-2].type,directions:a[l-2].directions},{id:a[l-2].id+"-"+a[l].id,start:a[l-2].id,end:a[l].id,label:a[l-1].label,type:"edge",directions:a[l].directions,arrowTypeEnd:c,arrowTypeStart:"arrow_open"},{id:a[l].id,label:a[l].label,type:r.typeStr2Type(a[l].typeStr),directions:a[l].directions}];break;case 24:r.getLogger().debug("Rule: nodeStatement (abc88 node size) ",a[l-1],a[l]),this.$={id:a[l-1].id,label:a[l-1].label,type:r.typeStr2Type(a[l-1].typeStr),directions:a[l-1].directions,widthInColumns:parseInt(a[l],10)};break;case 25:r.getLogger().debug("Rule: nodeStatement (node) ",a[l]),this.$={id:a[l].id,label:a[l].label,type:r.typeStr2Type(a[l].typeStr),directions:a[l].directions,widthInColumns:1};break;case 26:r.getLogger().debug("APA123",this?this:"na"),r.getLogger().debug("COLUMNS: ",a[l]),this.$={type:"column-setting",columns:"auto"===a[l]?-1:parseInt(a[l])};break;case 27:r.getLogger().debug("Rule: id-block statement : ",a[l-2],a[l-1]),r.generateId(),this.$=f(h({},a[l-2]),{type:"composite",children:a[l-1]});break;case 28:r.getLogger().debug("Rule: blockStatement : ",a[l-2],a[l-1],a[l]);let d=r.generateId();this.$={id:d,type:"composite",label:"",children:a[l-1]};break;case 29:r.getLogger().debug("Rule: node (NODE_ID separator): ",a[l]),this.$={id:a[l]};break;case 30:r.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",a[l-1],a[l]),this.$={id:a[l-1],label:a[l].label,typeStr:a[l].typeStr,directions:a[l].directions};break;case 31:r.getLogger().debug("Rule: dirList: ",a[l]),this.$=[a[l]];break;case 32:r.getLogger().debug("Rule: dirList: ",a[l-1],a[l]),this.$=[a[l-1]].concat(a[l]);break;case 33:r.getLogger().debug("Rule: nodeShapeNLabel: ",a[l-2],a[l-1],a[l]),this.$={typeStr:a[l-2]+a[l],label:a[l-1]};break;case 34:r.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",a[l-3],a[l-2]," #3:",a[l-1],a[l]),this.$={typeStr:a[l-3]+a[l],label:a[l-2],directions:a[l-1]};break;case 35:case 36:this.$={type:"classDef",id:a[l-1].trim(),css:a[l].trim()};break;case 37:this.$={type:"applyClass",id:a[l-1].trim(),styleClass:a[l].trim()};break;case 38:this.$={type:"applyStyles",id:a[l-1].trim(),stylesStr:a[l].trim()}}},table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:n,29:r,31:i,32:a,40:s,44:l,47:o},{8:[1,20]},e(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:n,29:r,31:i,32:a,40:s,44:l,47:o}),e(c,[2,16],{14:22,15:d,16:p}),e(c,[2,17]),e(c,[2,18]),e(c,[2,19]),e(c,[2,20]),e(c,[2,21]),e(c,[2,22]),e(g,[2,25],{27:[1,25]}),e(c,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:n,29:r,31:i,32:a,40:s,44:l,47:o},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(y,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(u,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},e(g,[2,24]),{11:37,13:4,14:22,15:d,16:p,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:n,29:r,31:i,32:a,40:s,44:l,47:o},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(y,[2,30]),{18:[1,43]},{18:[1,44]},e(g,[2,23]),{18:[1,45]},{30:[1,46]},e(c,[2,28]),e(c,[2,35]),e(c,[2,36]),e(c,[2,37]),e(c,[2,38]),{37:[1,47]},{34:48,35:x},{15:[1,50]},e(c,[2,27]),e(y,[2,33]),{39:[1,51]},{34:52,35:x,39:[2,31]},{32:[2,15]},e(y,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:function(e,t){if(t.recoverable)this.trace(e);else{var n=Error(e);throw n.hash=t,n}},parse:function(e){var t=this,n=[0],r=[],i=[null],a=[],s=this.table,l="",o=0,u=0,c=a.slice.call(arguments,1),d=Object.create(this.lexer),h={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(h.yy[f]=this.yy[f]);d.setInput(e,h.yy),h.yy.lexer=d,h.yy.parser=this,typeof d.yylloc>"u"&&(d.yylloc={});var p=d.yylloc;a.push(p);var g=d.options&&d.options.ranges;"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,x,b,m,k,v,w,_,S={};;){if(x=n[n.length-1],this.defaultActions[x]?b=this.defaultActions[x]:((null===y||typeof y>"u")&&(y=function(){var e;return"number"!=typeof(e=r.pop()||d.lex()||1)&&(e instanceof Array&&(e=(r=e).pop()),e=t.symbols_[e]||e),e}()),b=s[x]&&s[x][y]),typeof b>"u"||!b.length||!b[0]){var L="";for(k in _=[],s[x])this.terminals_[k]&&k>2&&_.push("'"+this.terminals_[k]+"'");L=d.showPosition?"Parse error on line "+(o+1)+`:
`+d.showPosition()+`
Expecting `+_.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(L,{text:d.match,token:this.terminals_[y]||y,line:d.yylineno,loc:p,expected:_})}if(b[0]instanceof Array&&b.length>1)throw Error("Parse Error: multiple actions possible at state: "+x+", token: "+y);switch(b[0]){case 1:n.push(y),i.push(d.yytext),a.push(d.yylloc),n.push(b[1]),y=null,u=d.yyleng,l=d.yytext,o=d.yylineno,p=d.yylloc;break;case 2:if(v=this.productions_[b[1]][1],S.$=i[i.length-v],S._$={first_line:a[a.length-(v||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(v||1)].first_column,last_column:a[a.length-1].last_column},g&&(S._$.range=[a[a.length-(v||1)].range[0],a[a.length-1].range[1]]),"u">typeof(m=this.performAction.apply(S,[l,u,o,h.yy,b[1],i,a].concat(c))))return m;v&&(n=n.slice(0,-1*v*2),i=i.slice(0,-1*v),a=a.slice(0,-1*v)),n.push(this.productions_[b[1]][0]),i.push(S.$),a.push(S._$),w=s[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}};function m(){this.yy={}}return b.lexer={EOF:1,parseError:function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw Error(e)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var a in i)this[a]=i[a];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,r,i=this._currentRules(),a=0;a<i.length;a++)if((n=this._input.match(this.rules[i[a]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[a])))return e;if(!this._backtrack)return!1;t=!1;continue}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return 10;case 1:return e.getLogger().debug("Found space-block"),31;case 2:return e.getLogger().debug("Found nl-block"),31;case 3:return e.getLogger().debug("Found space-block"),29;case 4:e.getLogger().debug(".",t.yytext);break;case 5:e.getLogger().debug("_",t.yytext);break;case 6:return 5;case 7:return t.yytext=-1,28;case 8:return t.yytext=t.yytext.replace(/columns\s+/,""),e.getLogger().debug("COLUMNS (LEX)",t.yytext),28;case 9:case 77:case 78:case 100:this.pushState("md_string");break;case 10:return"MD_STR";case 11:case 35:case 80:this.popState();break;case 12:this.pushState("string");break;case 13:e.getLogger().debug("LEX: POPPING STR:",t.yytext),this.popState();break;case 14:return e.getLogger().debug("LEX: STR end:",t.yytext),"STR";case 15:return t.yytext=t.yytext.replace(/space\:/,""),e.getLogger().debug("SPACE NUM (LEX)",t.yytext),21;case 16:return t.yytext="1",e.getLogger().debug("COLUMNS (LEX)",t.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:case 39:case 41:case 42:case 45:return this.popState(),e.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),e.getLogger().debug("Lex: ))"),"NODE_DEND";case 43:return this.popState(),e.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),e.getLogger().debug("Lex: -)"),"NODE_DEND";case 46:return this.popState(),e.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),e.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),e.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:case 50:return this.popState(),e.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),e.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),e.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),e.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),e.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return e.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return e.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return e.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:case 60:case 61:case 62:case 65:return e.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return e.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 63:return e.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return e.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 66:case 67:case 68:case 69:case 70:case 71:case 72:return this.pushState("NODE"),36;case 73:return e.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),e.getLogger().debug("LEX ARR START"),38;case 75:return e.getLogger().debug("Lex: NODE_ID",t.yytext),32;case 76:return e.getLogger().debug("Lex: EOF",t.yytext),8;case 79:return"NODE_DESCR";case 81:e.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:e.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return e.getLogger().debug("LEX: NODE_DESCR:",t.yytext),"NODE_DESCR";case 84:e.getLogger().debug("LEX POPPING"),this.popState();break;case 85:e.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (right): dir:",t.yytext),"DIR";case 87:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (left):",t.yytext),"DIR";case 88:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (x):",t.yytext),"DIR";case 89:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (y):",t.yytext),"DIR";case 90:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (up):",t.yytext),"DIR";case 91:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (down):",t.yytext),"DIR";case 92:return t.yytext="]>",e.getLogger().debug("Lex (ARROW_DIR end):",t.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return e.getLogger().debug("Lex: LINK","#"+t.yytext+"#"),15;case 94:case 95:case 96:return e.getLogger().debug("Lex: LINK",t.yytext),15;case 97:case 98:case 99:return e.getLogger().debug("Lex: START_LINK",t.yytext),this.pushState("LLABEL"),16;case 101:return e.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),e.getLogger().debug("Lex: LINK","#"+t.yytext+"#"),15;case 103:case 104:return this.popState(),e.getLogger().debug("Lex: LINK",t.yytext),15;case 105:return e.getLogger().debug("Lex: COLON",t.yytext),t.yytext=t.yytext.slice(1),27}},rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}},m.prototype=b,b.Parser=m,new m}();y.parser=y;let x={},b=[],m={},k="color",v="fill",w=(0,r.g)(),_={},S=e=>r.k.sanitizeText(e,w),L=function(e,t=""){void 0===_[e]&&(_[e]={id:e,styles:[],textStyles:[]});let n=_[e];null!=t&&t.split(",").forEach(e=>{let t=e.replace(/([^;]*);/,"$1").trim();if(e.match(k)){let e=t.replace(v,"bgFill").replace(k,v);n.textStyles.push(e)}n.styles.push(t)})},E=function(e,t=""){let n=x[e];null!=t&&(n.styles=t.split(","))},C=function(e,t){e.split(",").forEach(function(e){let n=x[e];if(void 0===n){let t=e.trim();x[t]={id:t,type:"na",children:[]},n=x[t]}n.classes||(n.classes=[]),n.classes.push(t)})},T=(e,t)=>{let n=e.flat(),r=[];for(let e of n){if(e.label&&(e.label=S(e.label)),"classDef"===e.type){L(e.id,e.css);continue}if("applyClass"===e.type){C(e.id,(null==e?void 0:e.styleClass)||"");continue}if("applyStyles"===e.type){null!=e&&e.stylesStr&&E(e.id,null==e?void 0:e.stylesStr);continue}if("column-setting"===e.type)t.columns=e.columns||-1;else if("edge"===e.type)m[e.id]?m[e.id]++:m[e.id]=1,e.id=m[e.id]+"-"+e.id,b.push(e);else{e.label||("composite"===e.type?e.label="":e.label=e.id);let t=!x[e.id];if(t?x[e.id]=e:("na"!==e.type&&(x[e.id].type=e.type),e.label!==e.id&&(x[e.id].label=e.label)),e.children&&T(e.children,e),"space"===e.type){let t=e.width||1;for(let n=0;n<t;n++){let t=(0,i.c)(e);t.id=t.id+"-"+n,x[t.id]=t,r.push(t)}}else t&&r.push(e)}}t.children=r},D=[],A={id:"root",type:"composite",children:[],columns:-1},F=0,I=(e,t)=>{let n=l.c,i=n(e,"r"),a=n(e,"g"),s=n(e,"b");return(0,r.A)(i,a,s,t)};function O(e,t,n=!1){var i,a,s;let l="default";((null==(i=null==e?void 0:e.classes)?void 0:i.length)||0)>0&&(l=((null==e?void 0:e.classes)||[]).join(" ")),l+=" flowchart-label";let o=0,u="",c;switch(e.type){case"round":o=5,u="rect";break;case"composite":o=0,u="composite",c=0;break;case"square":case"group":default:u="rect";break;case"diamond":u="question";break;case"hexagon":u="hexagon";break;case"block_arrow":u="block_arrow";break;case"odd":case"rect_left_inv_arrow":u="rect_left_inv_arrow";break;case"lean_right":u="lean_right";break;case"lean_left":u="lean_left";break;case"trapezoid":u="trapezoid";break;case"inv_trapezoid":u="inv_trapezoid";break;case"circle":u="circle";break;case"ellipse":u="ellipse";break;case"stadium":u="stadium";break;case"subroutine":u="subroutine";break;case"cylinder":u="cylinder";break;case"doublecircle":u="doublecircle"}let d=(0,r.p)((null==e?void 0:e.styles)||[]),h=e.label,f=e.size||{width:0,height:0,x:0,y:0};return{labelStyle:d.labelStyle,shape:u,labelText:h,rx:o,ry:o,class:l,style:d.style,id:e.id,directions:e.directions,width:f.width,height:f.height,x:f.x,y:f.y,positioned:n,intersect:void 0,type:e.type,padding:null!=c?c:(null==(s=null==(a=(0,r._)())?void 0:a.block)?void 0:s.padding)||0}}function $(e,t,n){return z.apply(this,arguments)}function z(){return(z=d(function*(e,t,n){let r=O(t,n,!1);if("group"===r.type)return;let i=yield(0,a.a)(e,r),s=i.node().getBBox(),l=n.getBlock(r.id);l.size={width:s.width,height:s.height,x:0,y:0,node:i},n.setBlock(l),i.remove()})).apply(this,arguments)}function j(e,t,n){return B.apply(this,arguments)}function B(){return(B=d(function*(e,t,n){let r=O(t,n,!0);"space"!==n.getBlock(r.id).type&&(yield(0,a.a)(e,r),t.intersect=null==r?void 0:r.intersect,(0,a.p)(r))})).apply(this,arguments)}function M(e,t,n,r){return N.apply(this,arguments)}function N(){return(N=d(function*(e,t,n,r){for(let i of t)yield r(e,i,n),i.children&&(yield M(e,i.children,n,r))})).apply(this,arguments)}function P(){return(P=d(function*(e,t,n){yield M(e,t,n,$)})).apply(this,arguments)}function R(){return(R=d(function*(e,t,n){yield M(e,t,n,j)})).apply(this,arguments)}function H(){return(H=d(function*(e,t,n,r,i){let l=new s.G({multigraph:!0,compound:!0});for(let e of(l.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8}),n))e.size&&l.setNode(e.id,{width:e.size.width,height:e.size.height,intersect:e.intersect});for(let n of t)if(n.start&&n.end){let t=r.getBlock(n.start),s=r.getBlock(n.end);if(null!=t&&t.size&&null!=s&&s.size){let r=t.size,o=s.size,u=[{x:r.x,y:r.y},{x:r.x+(o.x-r.x)/2,y:r.y+(o.y-r.y)/2},{x:o.x,y:o.y}];yield(0,a.c)(e,{v:n.start,w:n.end,name:n.id},f(h({},n),{arrowTypeEnd:n.arrowTypeEnd,arrowTypeStart:n.arrowTypeStart,points:u,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),void 0,"block",l,i),n.label&&(yield(0,a.b)(e,f(h({},n),{label:n.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:n.arrowTypeEnd,arrowTypeStart:n.arrowTypeStart})),yield(0,a.d)(f(h({},n),{x:u[1].x,y:u[1].y}),{originalPath:u}))}}})).apply(this,arguments)}let Y=(null==(g=null==(p=(0,r.g)())?void 0:p.block)?void 0:g.padding)||8,U=e=>{let t=0,n=0;for(let i of e.children){let{width:a,height:s,x:l,y:o}=i.size||{width:0,height:0,x:0,y:0};r.l.debug("getMaxChildSize abc95 child:",i.id,"width:",a,"height:",s,"x:",l,"y:",o,i.type),"space"!==i.type&&(a>t&&(t=a/(e.widthInColumns||1)),s>n&&(n=s))}return{width:t,height:n}},W={parser:y,db:{getConfig:()=>(0,r._)().block,typeStr2Type:function(e){switch(r.l.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return r.l.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}},edgeTypeStr2Type:function(e){return(r.l.debug("typeStr2Type",e),"=="===e)?"thick":"normal"},edgeStrToEdgeData:function(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}},getLogger:()=>console,getBlocksFlat:()=>[...Object.values(x)],getBlocks:()=>D||[],getEdges:()=>b,setHierarchy:e=>{A.children=e,T(e,A),D=A.children},getBlock:e=>x[e],setBlock:e=>{x[e.id]=e},getColumns:e=>{let t=x[e];return t?t.columns?t.columns:t.children?t.children.length:-1:-1},getClasses:function(){return _},clear:()=>{r.l.debug("Clear called"),(0,r.E)(),x={root:A={id:"root",type:"composite",children:[],columns:-1}},D=[],_={},b=[],m={}},generateId:()=>(F++,"id-"+Math.random().toString(36).substr(2,12)+"-"+F)},renderer:{draw:function(){var e=d(function*(e,t,n,i){let s;let{securityLevel:l,block:c}=(0,r._)(),d=i.db;"sandbox"===l&&(s=(0,r.d)("#i"+t));let h="sandbox"===l?(0,r.d)(s.nodes()[0].contentDocument.body):(0,r.d)("body"),f="sandbox"===l?h.select(`[id="${t}"]`):(0,r.d)(`[id="${t}"]`);(0,a.i)(f,["point","circle","cross"],i.type,t);let p=d.getBlocks(),g=d.getBlocksFlat(),y=d.getEdges(),x=f.insert("g").attr("class","block");yield function(e,t,n){return P.apply(this,arguments)}(x,p,d);let b=function(e){let t=e.getBlock("root");if(!t)return;(function e(t,n,i=0,a=0){var s,l,o,u,c,d,h,f,p,g,y;r.l.debug("setBlockSizes abc95 (start)",t.id,null==(s=null==t?void 0:t.size)?void 0:s.x,"block width =",null==t?void 0:t.size,"sieblingWidth",i),null!=(l=null==t?void 0:t.size)&&l.width||(t.size={width:i,height:a,x:0,y:0});let x=0,b=0;if((null==(o=t.children)?void 0:o.length)>0){for(let r of t.children)e(r,n);let s=U(t);for(let e of(x=s.width,b=s.height,r.l.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",x,b),t.children))e.size&&(r.l.debug(`abc95 Setting size of children of ${t.id} id=${e.id} ${x} ${b} ${e.size}`),e.size.width=x*(e.widthInColumns||1)+Y*((e.widthInColumns||1)-1),e.size.height=b,e.size.x=0,e.size.y=0,r.l.debug(`abc95 updating size of ${t.id} children child:${e.id} maxWidth:${x} maxHeight:${b}`));for(let r of t.children)e(r,n,x,b);let l=t.columns||-1,o=0;for(let e of t.children)o+=e.widthInColumns||1;let f=t.children.length;l>0&&l<o&&(f=l),t.widthInColumns;let p=Math.ceil(o/f),g=f*(x+Y)+Y,y=p*(b+Y)+Y;if(g<i){r.l.debug(`Detected to small siebling: abc95 ${t.id} sieblingWidth ${i} sieblingHeight ${a} width ${g}`),g=i,y=a;let e=(i-f*Y-Y)/f,n=(a-p*Y-Y)/p;for(let i of(r.l.debug("Size indata abc88",t.id,"childWidth",e,"maxWidth",x),r.l.debug("Size indata abc88",t.id,"childHeight",n,"maxHeight",b),r.l.debug("Size indata abc88 xSize",f,"padding",Y),t.children))i.size&&(i.size.width=e,i.size.height=n,i.size.x=0,i.size.y=0)}if(r.l.debug(`abc95 (finale calc) ${t.id} xSize ${f} ySize ${p} columns ${l}${t.children.length} width=${Math.max(g,(null==(u=t.size)?void 0:u.width)||0)}`),g<((null==(c=null==t?void 0:t.size)?void 0:c.width)||0)){g=(null==(d=null==t?void 0:t.size)?void 0:d.width)||0;let e=l>0?Math.min(t.children.length,l):t.children.length;if(e>0){let n=(g-e*Y-Y)/e;for(let e of(r.l.debug("abc95 (growing to fit) width",t.id,g,null==(h=t.size)?void 0:h.width,n),t.children))e.size&&(e.size.width=n)}}t.size={width:g,height:y,x:0,y:0}}r.l.debug("setBlockSizes abc94 (done)",t.id,null==(f=null==t?void 0:t.size)?void 0:f.x,null==(p=null==t?void 0:t.size)?void 0:p.width,null==(g=null==t?void 0:t.size)?void 0:g.y,null==(y=null==t?void 0:t.size)?void 0:y.height)})(t,e,0,0),function e(t,n){var i,a,s,l,o,u,c,d,h,f,p,g,y,x,b,m,k;r.l.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${null==(i=null==t?void 0:t.size)?void 0:i.x} y: ${null==(a=null==t?void 0:t.size)?void 0:a.y} width: ${null==(s=null==t?void 0:t.size)?void 0:s.width}`);let v=t.columns||-1;if(r.l.debug("layoutBlocks columns abc95",t.id,"=>",v,t),t.children&&t.children.length>0){let n=(null==(o=null==(l=null==t?void 0:t.children[0])?void 0:l.size)?void 0:o.width)||0,i=t.children.length*n+(t.children.length-1)*Y;r.l.debug("widthOfChildren 88",i,"posX");let a=0;r.l.debug("abc91 block?.size?.x",t.id,null==(u=null==t?void 0:t.size)?void 0:u.x);let s=null!=(c=null==t?void 0:t.size)&&c.x?(null==(d=null==t?void 0:t.size)?void 0:d.x)+(-(null==(h=null==t?void 0:t.size)?void 0:h.width)/2||0):-Y,b=0;for(let n of t.children){if(!n.size)continue;let{width:i,height:l}=n.size,{px:o,py:u}=function(e,t){if(0===e||!Number.isInteger(e))throw Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(1===e)return{px:0,py:t};let n=Math.floor(t/e);return{px:t%e,py:n}}(v,a);if(u!=b&&(b=u,s=null!=(f=null==t?void 0:t.size)&&f.x?(null==(p=null==t?void 0:t.size)?void 0:p.x)+(-(null==(g=null==t?void 0:t.size)?void 0:g.width)/2||0):-Y,r.l.debug("New row in layout for block",t.id," and child ",n.id,b)),r.l.debug(`abc89 layout blocks (child) id: ${n.id} Pos: ${a} (px, py) ${o},${u} (${null==(y=null==t?void 0:t.size)?void 0:y.x},${null==(x=null==t?void 0:t.size)?void 0:x.y}) parent: ${t.id} width: ${i}${Y}`),t.size){let e=i/2;n.size.x=s+Y+e,r.l.debug(`abc91 layout blocks (calc) px, pyid:${n.id} startingPos=X${s} new startingPosX${n.size.x} ${e} padding=${Y} width=${i} halfWidth=${e} => x:${n.size.x} y:${n.size.y} ${n.widthInColumns} (width * (child?.w || 1)) / 2 ${i*((null==n?void 0:n.widthInColumns)||1)/2}`),s=n.size.x+e,n.size.y=t.size.y-t.size.height/2+u*(l+Y)+l/2+Y,r.l.debug(`abc88 layout blocks (calc) px, pyid:${n.id}startingPosX${s}${Y}${e}=>x:${n.size.x}y:${n.size.y}${n.widthInColumns}(width * (child?.w || 1)) / 2${i*((null==n?void 0:n.widthInColumns)||1)/2}`)}n.children&&e(n),a+=(null==n?void 0:n.widthInColumns)||1,r.l.debug("abc88 columnsPos",n,a)}}r.l.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${null==(b=null==t?void 0:t.size)?void 0:b.x} y: ${null==(m=null==t?void 0:t.size)?void 0:m.y} width: ${null==(k=null==t?void 0:t.size)?void 0:k.width}`)}(t),r.l.debug("getBlocks",JSON.stringify(t,null,2));let{minX:n,minY:i,maxX:a,maxY:s}=function e(t,{minX:n,minY:r,maxX:i,maxY:a}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&"root"!==t.id){let{x:e,y:s,width:l,height:o}=t.size;e-l/2<n&&(n=e-l/2),s-o/2<r&&(r=s-o/2),e+l/2>i&&(i=e+l/2),s+o/2>a&&(a=s+o/2)}if(t.children)for(let s of t.children)({minX:n,minY:r,maxX:i,maxY:a}=e(s,{minX:n,minY:r,maxX:i,maxY:a}));return{minX:n,minY:r,maxX:i,maxY:a}}(t);return{x:n,y:i,width:a-n,height:s-i}}(d);if(yield function(e,t,n){return R.apply(this,arguments)}(x,p,d),yield function(e,t,n,r,i){return H.apply(this,arguments)}(x,y,g,d,t),b){let e=Math.max(1,Math.round(.125*(b.width/b.height))),t=b.height+e+10,n=b.width+10,{useMaxWidth:i}=c;(0,r.e)(f,t,n,!!i),r.l.debug("Here Bounds",b,b),f.attr("viewBox",`${b.x-5} ${b.y-5} ${b.width+10} ${b.height+10}`)}(0,o.o)(u.s)});return function(t,n,r,i){return e.apply(this,arguments)}}(),getClasses:function(e,t){return t.db.getClasses()}},styles:e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${I(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${I(e.mainBkg,.5)};
    fill: ${I(e.clusterBkg,.5)};
    stroke: ${I(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`}},3073:(e,t,n)=>{n.d(t,{o:()=>function e(){var t=new i,n=[],a=[],s=l;function o(e){let r=t.get(e);if(void 0===r){if(s!==l)return s;t.set(e,r=n.push(e)-1)}return a[r%a.length]}return o.domain=function(e){if(!arguments.length)return n.slice();for(let r of(n=[],t=new i,e))t.has(r)||t.set(r,n.push(r)-1);return o},o.range=function(e){return arguments.length?(a=Array.from(e),o):a.slice()},o.unknown=function(e){return arguments.length?(s=e,o):s},o.copy=function(){return e(n,a).unknown(s)},r.i.apply(o,arguments),o}});var r=n(7672);class i extends Map{get(e){return super.get(a(this,e))}has(e){return super.has(a(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}constructor(e,t=s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,n]of e)this.set(t,n)}}function a({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function s(e){return null!==e&&"object"==typeof e?e.valueOf():e}let l=Symbol("implicit")},3201:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(7577);function i(e){return(0,r.c)(e,4)}},6142:(e,t,n)=>{n.d(t,{c:()=>o,w:()=>u});let r=Math.PI,i=2*r,a=i-1e-6;function s(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class l{moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,i,a){if(e=+e,t=+t,n=+n,i=+i,(a=+a)<0)throw Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,o=n-e,u=i-t,c=s-e,d=l-t,h=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>1e-6){if(Math.abs(d*o-u*c)>1e-6&&a){let f=n-s,p=i-l,g=o*o+u*u,y=Math.sqrt(g),x=Math.sqrt(h),b=a*Math.tan((r-Math.acos((g+h-(f*f+p*p))/(2*y*x)))/2),m=b/x,k=b/y;Math.abs(m-1)>1e-6&&this._append`L${e+m*c},${t+m*d}`,this._append`A${a},${a},0,0,${+(d*f>c*p)},${this._x1=e+k*o},${this._y1=t+k*u}`}else this._append`L${this._x1=e},${this._y1=t}`}}arc(e,t,n,s,l,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw Error(`negative radius: ${n}`);let u=n*Math.cos(s),c=n*Math.sin(s),d=e+u,h=t+c,f=1^o,p=o?s-l:l-s;null===this._x1?this._append`M${d},${h}`:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-h)>1e-6)&&this._append`L${d},${h}`,n&&(p<0&&(p=p%i+i),p>a?this._append`A${n},${n},0,1,${f},${e-u},${t-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=h}`:p>1e-6&&this._append`A${n},${n},0,${+(p>=r)},${f},${this._x1=e+n*Math.cos(l)},${this._y1=t+n*Math.sin(l)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?s:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return s;let n=Math.pow(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}}function o(e){return function(){return e}}function u(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{let e=Math.floor(n);if(!(e>=0))throw RangeError(`invalid digits: ${n}`);t=e}return e},()=>new l(t)}},6982:(e,t,n)=>{n.d(t,{a:()=>ez,c:()=>eO});var r=n(421);let i={};function a(e,t,n){if(e&&"object"==typeof e){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return s(e.children,t,n)}return Array.isArray(e)?s(e,t,n):""}function s(e,t,n){let r=[],i=-1;for(;++i<e.length;)r[i]=a(e[i],t,n);return r.join("")}function l(e,t,n,r){let i=e.length,a=0,s;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)(s=Array.from(r)).unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)(s=r.slice(a,a+1e4)).unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function o(e,t){return e.length>0?(l(e,e.length,0,t),e):t}let u={}.hasOwnProperty,c=w(/[A-Za-z]/),d=w(/[\dA-Za-z]/),h=w(/[#-'*+\--9=?A-Z^-~]/);function f(e){return null!==e&&(e<32||127===e)}let p=w(/\d/),g=w(/[\dA-Fa-f]/),y=w(/[!-/:-@[-`{-~]/);function x(e){return null!==e&&e<-2}function b(e){return null!==e&&(e<0||32===e)}function m(e){return -2===e||-1===e||32===e}let k=w(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),v=w(/\s/);function w(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function _(e,t,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,a=0;return function(r){return m(r)?(e.enter(n),function r(s){return m(s)&&a++<i?(e.consume(s),r):(e.exit(n),t(s))}(r)):t(r)}}let S={tokenize:function(e){let t;let n=e.attempt(this.parser.constructs.contentInitial,function(t){if(null===t){e.consume(t);return}return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_(e,n,"linePrefix")},function(n){return e.enter("paragraph"),function n(r){let i=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=i),t=i,function t(r){if(null===r){e.exit("chunkText"),e.exit("paragraph"),e.consume(r);return}return x(r)?(e.consume(r),e.exit("chunkText"),n):(e.consume(r),t)}(r)}(n)});return n}},L={tokenize:function(e){let t=this,n=[],r=0,i,a,s;return o;function o(i){if(r<n.length){let a=n[r];return t.containerState=a[1],e.attempt(a[0].continuation,u,c)(i)}return c(i)}function u(e){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&m();let n=t.events.length,a=n,s;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){s=t.events[a][1].end;break}b(r);let o=n;for(;o<t.events.length;)t.events[o][1].end=Object.assign({},s),o++;return l(t.events,a+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(a){if(r===n.length){if(!i)return f(a);if(i.currentConstruct&&i.currentConstruct.concrete)return g(a);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(E,d,h)(a)}function d(e){return i&&m(),b(r),f(e)}function h(e){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,g(e)}function f(n){return t.containerState={},e.attempt(E,p,g)(n)}function p(e){return r++,n.push([t.currentConstruct,t.containerState]),f(e)}function g(n){if(null===n){i&&m(),b(0),e.consume(n);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),function n(i){if(null===i){y(e.exit("chunkFlow"),!0),b(0),e.consume(i);return}return x(i)?(e.consume(i),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(i),n)}(n)}function y(e,n){let o=t.sliceStream(e);if(n&&o.push(null),e.previous=a,a&&(a.next=e),a=e,i.defineSkip(e.start),i.write(o),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<s&&(!i.events[e][1].end||i.events[e][1].end.offset>s))return;let n=t.events.length,a=n,o,u;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){if(o){u=t.events[a][1].end;break}o=!0}for(b(r),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},u),e++;l(t.events,a+1,0,t.events.slice(n)),t.events.length=e}}function b(r){let i=n.length;for(;i-- >r;){let r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function m(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}},E={tokenize:function(e,t,n){return _(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function C(e){return null===e||b(e)||v(e)?1:k(e)?2:void 0}function T(e,t,n){let r=[],i=-1;for(;++i<e.length;){let a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}let D={name:"attention",tokenize:function(e,t){let n;let r=this.parser.constructs.attentionMarkers.null,i=this.previous,a=C(i);return function(s){return n=s,e.enter("attentionSequence"),function s(l){if(l===n)return e.consume(l),s;let o=e.exit("attentionSequence"),u=C(l),c=!u||2===u&&a||r.includes(l),d=!a||2===a&&u||r.includes(i);return o._open=!!(42===n?c:c&&(a||!d)),o._close=!!(42===n?d:d&&(u||!c)),t(l)}(s)}},resolveAll:function(e,t){let n=-1,r,i,a,s,u,c,d,h;for(;++n<e.length;)if("enter"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._close){for(r=n;r--;)if("exit"===e[r][0]&&"attentionSequence"===e[r][1].type&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;let f=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);A(f,-c),A(p,c),s={type:c>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},u={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},a={type:c>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},u.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},u.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=o(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=o(d,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),d=o(d,T(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=o(d,[["exit",a,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=o(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,l(e,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<e.length;)"attentionSequence"===e[n][1].type&&(e[n][1].type="data");return e}};function A(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}let F={tokenize:function(e,t,n){return function(t){return m(t)?_(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||x(e)?t(e):n(e)}},partial:!0},I={name:"blockQuote",tokenize:function(e,t,n){let r=this;return function(t){if(62===t){let n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return m(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){let r=this;return function(t){return m(t)?_(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):i(t)};function i(r){return e.attempt(I,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}},O={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return y(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}},$=document.createElement("i");function z(e){let t="&"+e+";";$.innerHTML=t;let n=$.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}let j={name:"characterReference",tokenize:function(e,t,n){let r=this,i=0,a,s;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),l};function l(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),o):(e.enter("characterReferenceValue"),a=31,s=d,u(t))}function o(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=g,u):(e.enter("characterReferenceValue"),a=7,s=p,u(t))}function u(l){if(59===l&&i){let i=e.exit("characterReferenceValue");return s!==d||z(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(l),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(l)}return s(l)&&i++<a?(e.consume(l),u):n(l)}}},B={tokenize:function(e,t,n){let r=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},M={name:"codeFenced",tokenize:function(e,t,n){let r=this,i={tokenize:function(e,t,n){let i=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(t){return e.enter("codeFencedFence"),m(t)?_(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):o(t)}function o(t){return t===l?(e.enter("codeFencedFenceSequence"),function t(r){return r===l?(i++,e.consume(r),t):i>=s?(e.exit("codeFencedFenceSequence"),m(r)?_(e,u,"whitespace")(r):u(r)):n(r)}(t)):n(t)}function u(r){return null===r||x(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},a=0,s=0,l;return function(t){return function(t){let i=r.events[r.events.length-1];return a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,l=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),function t(r){return r===l?(s++,e.consume(r),t):s<3?n(r):(e.exit("codeFencedFenceSequence"),m(r)?_(e,o,"whitespace")(r):o(r))}(t)}(t)};function o(i){return null===i||x(i)?(e.exit("codeFencedFence"),r.interrupt?t(i):e.check(B,c,p)(i)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),function t(r){return null===r||x(r)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),o(r)):m(r)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_(e,u,"whitespace")(r)):96===r&&r===l?n(r):(e.consume(r),t)}(i))}function u(t){return null===t||x(t)?o(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(r){return null===r||x(r)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),o(r)):96===r&&r===l?n(r):(e.consume(r),t)}(t))}function c(t){return e.attempt(i,p,d)(t)}function d(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),h}function h(t){return a>0&&m(t)?_(e,f,"linePrefix",a+1)(t):f(t)}function f(t){return null===t||x(t)?e.check(B,c,p)(t):(e.enter("codeFlowValue"),function t(n){return null===n||x(n)?(e.exit("codeFlowValue"),f(n)):(e.consume(n),t)}(t))}function p(n){return e.exit("codeFenced"),t(n)}},concrete:!0},N={name:"codeIndented",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("codeIndented"),_(e,i,"linePrefix",5)(t)};function i(t){let i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?function t(n){return null===n?a(n):x(n)?e.attempt(P,t,a)(n):(e.enter("codeFlowValue"),function n(r){return null===r||x(r)?(e.exit("codeFlowValue"),t(r)):(e.consume(r),n)}(n))}(t):n(t)}function a(n){return e.exit("codeIndented"),t(n)}}},P={tokenize:function(e,t,n){let r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):x(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):_(e,a,"linePrefix",5)(t)}function a(e){let a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):x(e)?i(e):n(e)}},partial:!0};function R(e){let t={},n=-1,r,i,a,s,o,u,c;for(;++n<e.length;){for(;(n in t);)n=t[n];if(r=e[n],n&&"chunkFlow"===r[1].type&&"listItemPrefix"===e[n-1][1].type&&((a=0)<(u=r[1]._tokenizer.events).length&&"lineEndingBlank"===u[a][1].type&&(a+=2),a<u.length&&"content"===u[a][1].type))for(;++a<u.length&&"content"!==u[a][1].type;)"chunkText"===u[a][1].type&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===r[0])r[1].contentType&&(Object.assign(t,function(e,t){let n=e[t][1],r=e[t][2],i=t-1,a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,u=[],c={},d,h,f=-1,p=n,g=0,y=0,x=[0];for(;p;){for(;e[++i][1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),h&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<o.length;)"exit"===o[f][0]&&"enter"===o[f-1][0]&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(y=f+1,x.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),f=x.length;f--;){let t=o.slice(x[f],x[f+1]),n=a.pop();u.unshift([n,n+t.length-1]),l(e,n,2,t)}for(f=-1;++f<u.length;)c[g+u[f][0]]=g+u[f][1],g+=u[f][1]-u[f][0]-1;return c}(e,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&("lineEnding"===(s=e[a])[1].type||"lineEndingBlank"===s[1].type);)"enter"===s[0]&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),(o=e.slice(i,n)).unshift(r),l(e,i,n-i+1,o))}}return!c}let H={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):x(t)?e.check(Y,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return R(e),e}},Y={tokenize:function(e,t,n){let r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_(e,i,"linePrefix")};function i(i){if(null===i||x(i))return n(i);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};function U(e,t,n,r,i,a,s,l,o){let u=o||Number.POSITIVE_INFINITY,c=0;return function(t){return 60===t?(e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),d):null===t||32===t||41===t||f(t)?n(t):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(t))};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(l),d(t)):null===t||60===t||x(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function g(i){return!c&&(null===i||41===i||b(i))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(i)):c<u&&40===i?(e.consume(i),c++,g):41===i?(e.consume(i),c--,g):null===i||32===i||40===i||f(i)?n(i):(e.consume(i),92===i?y:g)}function y(t){return 40===t||41===t||92===t?(e.consume(t),g):g(t)}}function W(e,t,n,r,i,a){let s=this,l=0,o;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),u};function u(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):93===d?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):x(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||x(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),o||(o=!m(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function X(e,t,n,r,i,a){let s;return function(t){return 34===t||39===t||40===t?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),s=40===t?41:t,l):n(t)};function l(n){return n===s?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),o(n))}function o(t){return t===s?(e.exit(a),l(s)):null===t?n(t):x(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_(e,o,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===s||null===t||x(t)?(e.exit("chunkString"),o(t)):(e.consume(t),92===t?c:u)}function c(t){return t===s||92===t?(e.consume(t),u):u(t)}}function q(e,t){let n;return function r(i){return x(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):m(i)?_(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function V(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let K={tokenize:function(e,t,n){return function(t){return b(t)?q(e,r)(t):n(t)};function r(t){return X(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return m(t)?_(e,a,"whitespace")(t):a(t)}function a(e){return null===e||x(e)?t(e):n(e)}},partial:!0},Q=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Z=["pre","script","style","textarea"],G={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(F,t,n)}},partial:!0},J={tokenize:function(e,t,n){let r=this;return function(t){return x(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},ee={name:"labelEnd",tokenize:function(e,t,n){let r=this,i=r.events.length,a,s;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){a=r.events[i][1];break}return function(t){return a?a._inactive?c(t):(s=r.parser.defined.includes(V(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),l):n(t)};function l(t){return 40===t?e.attempt(et,u,s?u:c)(t):91===t?e.attempt(en,u,s?o:c)(t):s?u(t):c(t)}function o(t){return e.attempt(er,u,c)(t)}function u(e){return t(e)}function c(e){return a._balanced=!0,n(e)}},resolveTo:function(e,t){let n=e.length,r=0,i,a,s,u;for(;n--;)if(i=e[n][1],a){if("link"===i.type||"labelLink"===i.type&&i._inactive)break;"enter"===e[n][0]&&"labelLink"===i.type&&(i._inactive=!0)}else if(s){if("enter"===e[n][0]&&("labelImage"===i.type||"labelLink"===i.type)&&!i._balanced&&(a=n,"labelLink"!==i.type)){r=2;break}}else"labelEnd"===i.type&&(s=n);let c={type:"labelLink"===e[a][1].type?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},h={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return u=o(u=[["enter",c,t],["enter",d,t]],e.slice(a+1,a+r+3)),u=o(u,[["enter",h,t]]),u=o(u,T(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),u=o(u,[["exit",h,t],e[s-2],e[s-1],["exit",d,t]]),u=o(u,e.slice(s+1)),u=o(u,[["exit",c,t]]),l(e,a,e.length,u),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){let n=e[t][1];("labelImage"===n.type||"labelLink"===n.type||"labelEnd"===n.type)&&(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},et={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return b(t)?q(e,i)(t):i(t)}function i(t){return 41===t?u(t):U(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return b(t)?q(e,l)(t):u(t)}function s(e){return n(e)}function l(t){return 34===t||39===t||40===t?X(e,o,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function o(t){return b(t)?q(e,u)(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},en={tokenize:function(e,t,n){let r=this;return function(t){return W.call(r,e,i,a,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(V(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},er={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}},ei={name:"labelStartImage",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:ee.resolveAll},ea={name:"labelStartLink",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:ee.resolveAll},es={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_(e,t,"linePrefix")}}},el={name:"thematicBreak",tokenize:function(e,t,n){let r=0,i;return function(a){return e.enter("thematicBreak"),i=a,function a(s){return s===i?(e.enter("thematicBreakSequence"),function t(n){return n===i?(e.consume(n),r++,t):(e.exit("thematicBreakSequence"),m(n)?_(e,a,"whitespace")(n):a(n))}(s)):r>=3&&(null===s||x(s))?(e.exit("thematicBreak"),t(s)):n(s)}(a)}}},eo={name:"list",tokenize:function(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){let i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:p(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(el,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),function t(i){return p(i)&&++s<10?(e.consume(i),t):(!r.interrupt||s<2)&&(r.containerState.marker?i===r.containerState.marker:41===i||46===i)?(e.exit("listItemValue"),l(i)):n(i)}(t)}return n(t)};function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(F,r.interrupt?n:o,e.attempt(eu,c,u))}function o(e){return r.containerState.initialBlankLine=!0,a++,c(e)}function u(t){return m(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),c):n(t)}function c(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(F,function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_(e,t,"listItemIndent",r.containerState.size+1)(n)},function(n){return r.containerState.furtherBlankLines||!m(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ec,t,i)(n))});function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,_(e,e.attempt(eo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},eu={tokenize:function(e,t,n){let r=this;return _(e,function(e){let i=r.events[r.events.length-1];return!m(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},ec={tokenize:function(e,t,n){let r=this;return _(e,function(e){let i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)},partial:!0},ed={name:"setextUnderline",tokenize:function(e,t,n){let r;let i=this;return function(t){let s=i.events.length,l;for(;s--;)if("lineEnding"!==i.events[s][1].type&&"linePrefix"!==i.events[s][1].type&&"content"!==i.events[s][1].type){l="paragraph"===i.events[s][1].type;break}return!i.parser.lazy[i.now().line]&&(i.interrupt||l)?(e.enter("setextHeadingLine"),r=t,e.enter("setextHeadingLineSequence"),function t(n){return n===r?(e.consume(n),t):(e.exit("setextHeadingLineSequence"),m(n)?_(e,a,"lineSuffix")(n):a(n))}(t)):n(t)};function a(r){return null===r||x(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n=e.length,r,i,a;for(;n--;)if("enter"===e[n][0]){if("content"===e[n][1].type){r=n;break}"paragraph"===e[n][1].type&&(i=n)}else"content"===e[n][1].type&&e.splice(n,1),a||"definition"!==e[n][1].type||(a=n);let s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}},eh={tokenize:function(e){let t=this,n=e.attempt(F,function(r){if(null===r){e.consume(r);return}return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,_(e,e.attempt(this.parser.constructs.flow,r,e.attempt(H,r)),"linePrefix")));return n;function r(r){if(null===r){e.consume(r);return}return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n}}},ef={resolveAll:ex()},ep=ey("string"),eg=ey("text");function ey(e){return{tokenize:function(t){let n=this,r=this.parser.constructs[e],i=t.attempt(r,a,s);return a;function a(e){return o(e)?i(e):s(e)}function s(e){if(null===e){t.consume(e);return}return t.enter("data"),t.consume(e),l}function l(e){return o(e)?(t.exit("data"),i(e)):(t.consume(e),l)}function o(e){if(null===e)return!0;let t=r[e],i=-1;if(t)for(;++i<t.length;){let e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:ex("text"===e?eb:void 0)}}function ex(e){return function(t,n){let r=-1,i;for(;++r<=t.length;)void 0===i?t[r]&&"data"===t[r][1].type&&(i=r,r++):t[r]&&"data"===t[r][1].type||(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function eb(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){let r=e[n-1][1],i=t.sliceStream(r),a=i.length,s=-1,l=0,o;for(;a--;){let e=i[a];if("string"==typeof e){for(s=e.length;32===e.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===e)o=!0,l++;else if(-1!==e){a++;break}}if(l){let i={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}let em=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:{91:{name:"definition",tokenize:function(e,t,n){let r;let i=this;return function(t){return e.enter("definition"),W.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function a(t){return r=V(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return b(t)?q(e,l)(t):l(t)}function l(t){return U(e,o,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function o(t){return e.attempt(K,u,u)(t)}function u(t){return m(t)?_(e,c,"whitespace")(t):c(t)}function c(a){return null===a||x(a)?(e.exit("definition"),i.parser.defined.push(r),t(a)):n(a)}}}},disable:{null:[]},document:{42:eo,43:eo,45:eo,48:eo,49:eo,50:eo,51:eo,52:eo,53:eo,54:eo,55:eo,56:eo,57:eo,62:I},flow:{35:{name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(i){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),function i(a){return 35===a&&r++<6?(e.consume(a),i):null===a||b(a)?(e.exit("atxHeadingSequence"),function n(r){return 35===r?(e.enter("atxHeadingSequence"),function t(r){return 35===r?(e.consume(r),t):(e.exit("atxHeadingSequence"),n(r))}(r)):null===r||x(r)?(e.exit("atxHeading"),t(r)):m(r)?_(e,n,"whitespace")(r):(e.enter("atxHeadingText"),function t(r){return null===r||35===r||b(r)?(e.exit("atxHeadingText"),n(r)):(e.consume(r),t)}(r))}(a)):n(a)}(i)}},resolve:function(e,t){let n=e.length-2,r=3,i,a;return"whitespace"===e[3][1].type&&(r+=2),n-2>r&&"whitespace"===e[n][1].type&&(n-=2),"atxHeadingSequence"===e[n][1].type&&(r===n-1||n-4>r&&"whitespace"===e[n-2][1].type)&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},l(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}},42:el,45:[ed,el],60:{name:"htmlFlow",tokenize:function(e,t,n){let r,i,a,s,l;let o=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u};function u(s){return 33===s?(e.consume(s),h):47===s?(e.consume(s),i=!0,g):63===s?(e.consume(s),r=3,o.interrupt?t:B):c(s)?(e.consume(s),a=String.fromCharCode(s),y):n(s)}function h(i){return 45===i?(e.consume(i),r=2,f):91===i?(e.consume(i),r=5,s=0,p):c(i)?(e.consume(i),r=4,o.interrupt?t:B):n(i)}function f(r){return 45===r?(e.consume(r),o.interrupt?t:B):n(r)}function p(r){let i="CDATA[";return r===i.charCodeAt(s++)?(e.consume(r),s===i.length?o.interrupt?t:D:p):n(r)}function g(t){return c(t)?(e.consume(t),a=String.fromCharCode(t),y):n(t)}function y(s){if(null===s||47===s||62===s||b(s)){let l=47===s,u=a.toLowerCase();return!l&&!i&&Z.includes(u)?(r=1,o.interrupt?t(s):D(s)):Q.includes(a.toLowerCase())?(r=6,l?(e.consume(s),k):o.interrupt?t(s):D(s)):(r=7,o.interrupt&&!o.parser.lazy[o.now().line]?n(s):i?function t(n){return m(n)?(e.consume(n),t):C(n)}(s):v(s))}return 45===s||d(s)?(e.consume(s),a+=String.fromCharCode(s),y):n(s)}function k(r){return 62===r?(e.consume(r),o.interrupt?t:D):n(r)}function v(t){return 47===t?(e.consume(t),C):58===t||95===t||c(t)?(e.consume(t),w):m(t)?(e.consume(t),v):C(t)}function w(t){return 45===t||46===t||58===t||95===t||d(t)?(e.consume(t),w):_(t)}function _(t){return 61===t?(e.consume(t),S):m(t)?(e.consume(t),_):v(t)}function S(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,L):m(t)?(e.consume(t),S):function t(n){return null===n||34===n||39===n||47===n||60===n||61===n||62===n||96===n||b(n)?_(n):(e.consume(n),t)}(t)}function L(t){return t===l?(e.consume(t),l=null,E):null===t||x(t)?n(t):(e.consume(t),L)}function E(e){return 47===e||62===e||m(e)?v(e):n(e)}function C(t){return 62===t?(e.consume(t),T):n(t)}function T(t){return null===t||x(t)?D(t):m(t)?(e.consume(t),T):n(t)}function D(t){return 45===t&&2===r?(e.consume(t),O):60===t&&1===r?(e.consume(t),$):62===t&&4===r?(e.consume(t),M):63===t&&3===r?(e.consume(t),B):93===t&&5===r?(e.consume(t),j):x(t)&&(6===r||7===r)?(e.exit("htmlFlowData"),e.check(G,N,A)(t)):null===t||x(t)?(e.exit("htmlFlowData"),A(t)):(e.consume(t),D)}function A(t){return e.check(J,F,N)(t)}function F(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),I}function I(t){return null===t||x(t)?A(t):(e.enter("htmlFlowData"),D(t))}function O(t){return 45===t?(e.consume(t),B):D(t)}function $(t){return 47===t?(e.consume(t),a="",z):D(t)}function z(t){if(62===t){let n=a.toLowerCase();return Z.includes(n)?(e.consume(t),M):D(t)}return c(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),z):D(t)}function j(t){return 93===t?(e.consume(t),B):D(t)}function B(t){return 62===t?(e.consume(t),M):45===t&&2===r?(e.consume(t),B):D(t)}function M(t){return null===t||x(t)?(e.exit("htmlFlowData"),N(t)):(e.consume(t),M)}function N(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&!("enter"===e[t][0]&&"htmlFlow"===e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},61:ed,95:el,96:M,126:M},flowInitial:{[-2]:N,[-1]:N,32:N},insideSpan:{null:[D,ef]},string:{38:j,92:O},text:{[-5]:es,[-4]:es,[-3]:es,33:ei,38:j,42:D,60:[{name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return c(t)?(e.consume(t),a):l(t)}function a(t){return 43===t||45===t||46===t||d(t)?(r=1,function t(n){return 58===n?(e.consume(n),r=0,s):(43===n||45===n||46===n||d(n))&&r++<32?(e.consume(n),t):(r=0,l(n))}(t)):l(t)}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||f(r)?n(r):(e.consume(r),s)}function l(t){return 64===t?(e.consume(t),o):h(t)?(e.consume(t),l):n(t)}function o(i){return d(i)?function i(a){return 46===a?(e.consume(a),r=0,o):62===a?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(a),e.exit("autolinkMarker"),e.exit("autolink"),t):function t(a){if((45===a||d(a))&&r++<63){let n=45===a?t:i;return e.consume(a),n}return n(a)}(a)}(i):n(i)}}},{name:"htmlText",tokenize:function(e,t,n){let r,i,a;let s=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),o):47===t?(e.consume(t),E):63===t?(e.consume(t),S):c(t)?(e.consume(t),T):n(t)}function o(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),i=0,g):c(t)?(e.consume(t),w):n(t)}function u(t){return 45===t?(e.consume(t),p):n(t)}function h(t){return null===t?n(t):45===t?(e.consume(t),f):x(t)?(a=h,j(t)):(e.consume(t),h)}function f(t){return 45===t?(e.consume(t),p):h(t)}function p(e){return 62===e?z(e):45===e?f(e):h(e)}function g(t){let r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),i===r.length?y:g):n(t)}function y(t){return null===t?n(t):93===t?(e.consume(t),k):x(t)?(a=y,j(t)):(e.consume(t),y)}function k(t){return 93===t?(e.consume(t),v):y(t)}function v(t){return 62===t?z(t):93===t?(e.consume(t),v):y(t)}function w(t){return null===t||62===t?z(t):x(t)?(a=w,j(t)):(e.consume(t),w)}function S(t){return null===t?n(t):63===t?(e.consume(t),L):x(t)?(a=S,j(t)):(e.consume(t),S)}function L(e){return 62===e?z(e):S(e)}function E(t){return c(t)?(e.consume(t),C):n(t)}function C(t){return 45===t||d(t)?(e.consume(t),C):function t(n){return x(n)?(a=t,j(n)):m(n)?(e.consume(n),t):z(n)}(t)}function T(t){return 45===t||d(t)?(e.consume(t),T):47===t||62===t||b(t)?D(t):n(t)}function D(t){return 47===t?(e.consume(t),z):58===t||95===t||c(t)?(e.consume(t),A):x(t)?(a=D,j(t)):m(t)?(e.consume(t),D):z(t)}function A(t){return 45===t||46===t||58===t||95===t||d(t)?(e.consume(t),A):function t(n){return 61===n?(e.consume(n),F):x(n)?(a=t,j(n)):m(n)?(e.consume(n),t):D(n)}(t)}function F(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,I):x(t)?(a=F,j(t)):m(t)?(e.consume(t),F):(e.consume(t),O)}function I(t){return t===r?(e.consume(t),r=void 0,$):null===t?n(t):x(t)?(a=I,j(t)):(e.consume(t),I)}function O(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||b(t)?D(t):(e.consume(t),O)}function $(e){return 47===e||62===e||b(e)?D(e):n(e)}function z(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function j(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),B}function B(t){return m(t)?_(e,M,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):M(t)}function M(t){return e.enter("htmlTextData"),a(t)}}}],91:ea,92:[{name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return x(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}},O],93:ee,95:D,96:{name:"codeText",tokenize:function(e,t,n){let r=0,i,a;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),function t(n){return 96===n?(e.consume(n),r++,t):(e.exit("codeTextSequence"),s(n))}(t)};function s(o){return null===o?n(o):32===o?(e.enter("space"),e.consume(o),e.exit("space"),s):96===o?(a=e.enter("codeTextSequence"),i=0,function n(s){return 96===s?(e.consume(s),i++,n):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(s)):(a.type="codeTextData",l(s))}(o)):x(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(o))}function l(t){return null===t||32===t||96===t||x(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}},resolve:function(e){let t=e.length-4,n=3,r,i;if(("lineEnding"===e[3][1].type||"space"===e[n][1].type)&&("lineEnding"===e[t][1].type||"space"===e[t][1].type)){for(r=n;++r<t;)if("codeTextData"===e[r][1].type){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)void 0===i?r!==t&&"lineEnding"!==e[r][1].type&&(i=r):(r===t||"lineEnding"===e[r][1].type)&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}}}},Symbol.toStringTag,{value:"Module"})),ek=/[\0\t\n\r]/g;function ev(e,t){let n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"":String.fromCharCode(n)}let ew=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function e_(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){let e=n.charCodeAt(1),t=120===e||88===e;return ev(n.slice(t?2:1),t?16:10)}return z(n)||e}function eS(e){return e&&"object"==typeof e?"position"in e||"type"in e?eE(e.position):"start"in e||"end"in e?eE(e):"line"in e||"column"in e?eL(e):"":""}function eL(e){return eC(e&&e.line)+":"+eC(e&&e.column)}function eE(e){return eL(e&&e.start)+"-"+eL(e&&e.end)}function eC(e){return e&&"number"==typeof e?e:1}let eT={}.hasOwnProperty,eD=function(e,t,n){let r,s,c,d;return"string"!=typeof t&&(n=t,t=void 0),(function(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(v),autolinkProtocol:f,autolinkEmail:f,atxHeading:l(b),blockQuote:l(function(){return{type:"blockquote",children:[]}}),characterEscape:f,characterReference:f,codeFenced:l(x),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(x,o),codeText:l(function(){return{type:"inlineCode",value:""}},o),codeTextData:f,data:f,codeFlowValue:f,definition:l(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:l(m),hardBreakTrailing:l(m),htmlFlow:l(k,o),htmlFlowData:f,htmlText:l(k,o),htmlTextData:f,image:l(function(){return{type:"image",title:null,url:"",alt:null}}),label:o,link:l(v),listItem:l(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){n.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),n.expectingFirstListItemValue=void 0)},listOrdered:l(w,function(){n.expectingFirstListItemValue=!0}),listUnordered:l(w),paragraph:l(function(){return{type:"paragraph",children:[]}}),reference:function(){n.referenceType="collapsed"},referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(b),strong:l(function(){return{type:"strong",children:[]}}),thematicBreak:l(function(){return{type:"thematicBreak"}})},exit:{atxHeading:c(),atxHeadingSequence:function(e){let t=this.stack[this.stack.length-1];if(!t.depth){let n=this.sliceSerialize(e).length;t.depth=n}},autolink:c(),autolinkEmail:function(e){p.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){p.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:c(),characterEscapeValue:p,characterReferenceMarkerHexadecimal:y,characterReferenceMarkerNumeric:y,characterReferenceValue:function(e){let t;let r=this.sliceSerialize(e),i=n.characterReferenceType;i?(t=ev(r,"characterReferenceMarkerNumeric"===i?10:16),n.characterReferenceType=void 0):t=z(r);let a=this.stack.pop();a.value+=t,a.position.end=eA(e.end)},codeFenced:c(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n.flowCodeInside=void 0}),codeFencedFence:function(){n.flowCodeInside||(this.buffer(),n.flowCodeInside=!0)},codeFencedFenceInfo:function(){let e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){let e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:p,codeIndented:c(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:c(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:p,data:p,definition:c(),definitionDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=V(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:c(),hardBreakEscape:c(g),hardBreakTrailing:c(g),htmlFlow:c(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:p,htmlText:c(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:p,image:c(function(){let e=this.stack[this.stack.length-1];if(n.inReference){let t=n.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;n.referenceType=void 0}),label:function(){let e=this.stack[this.stack.length-1],t=this.resume(),r=this.stack[this.stack.length-1];if(n.inReference=!0,"link"===r.type){let t=e.children;r.children=t}else r.alt=t},labelText:function(e){let t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=t.replace(ew,e_),n.identifier=V(t).toLowerCase()},lineEnding:function(e){let r=this.stack[this.stack.length-1];if(n.atHardBreak){r.children[r.children.length-1].position.end=eA(e.end),n.atHardBreak=void 0;return}!n.setextHeadingSlurpLineEnding&&t.canContainEols.includes(r.type)&&(f.call(this,e),p.call(this,e))},link:c(function(){let e=this.stack[this.stack.length-1];if(n.inReference){let t=n.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;n.referenceType=void 0}),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:function(e){let t=this.resume(),r=this.stack[this.stack.length-1];r.label=t,r.identifier=V(this.sliceSerialize(e)).toLowerCase(),n.referenceType="full"},resourceDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){n.inReference=void 0},setextHeading:c(function(){n.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2},setextHeadingText:function(){n.setextHeadingSlurpLineEnding=!0},strong:c(),thematicBreak:c()}};(function e(t,n){let r=-1;for(;++r<n.length;){let i=n[r];Array.isArray(i)?e(t,i):function(e,t){let n;for(n in t)if(eT.call(t,n)){if("canContainEols"===n){let r=t[n];r&&e[n].push(...r)}else if("transforms"===n){let r=t[n];r&&e[n].push(...r)}else if("enter"===n||"exit"===n){let r=t[n];r&&Object.assign(e[n],r)}}}(t,i)}})(t,(e||{}).mdastExtensions||[]);let n={};return function(e){let n={type:"root",children:[]},i={stack:[n],tokenStack:[],config:t,enter:u,exit:d,buffer:o,resume:h,setData:r,getData:s},a=[],l=-1;for(;++l<e.length;)("listOrdered"===e[l][1].type||"listUnordered"===e[l][1].type)&&("enter"===e[l][0]?a.push(l):l=function(e,t,n){let r=t-1,i=-1,a=!1,s,l,o,u;for(;++r<=n;){let t=e[r];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?i++:i--,u=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!s||u||i||o||(o=r),u=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(u=void 0),!i&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===i&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(s){let i=r;for(l=void 0;i--;){let t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;l&&(e[l][1].type="lineEndingBlank",a=!0),t[1].type="lineEnding",l=i}else if(!("linePrefix"===t[1].type||"blockQuotePrefix"===t[1].type||"blockQuotePrefixWhitespace"===t[1].type||"blockQuoteMarker"===t[1].type||"listItemIndent"===t[1].type))break}o&&(!l||o<l)&&(s._spread=!0),s.end=Object.assign({},l?e[l][1].start:t[1].end),e.splice(l||r,0,["exit",s,t[2]]),r++,n++}"listItemPrefix"===t[1].type&&(s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0},e.splice(r,0,["enter",s,t[2]]),r++,n++,o=void 0,u=!0)}}return e[t][1]._spread=a,n}(e,a.pop(),l));for(l=-1;++l<e.length;){let n=t[e[l][0]];eT.call(n,e[l][1].type)&&n[e[l][1].type].call(Object.assign({sliceSerialize:e[l][2].sliceSerialize},i),e[l][1])}if(i.tokenStack.length>0){let e=i.tokenStack[i.tokenStack.length-1];(e[1]||eF).call(i,void 0,e[0])}for(n.position={start:eA(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:eA(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},l=-1;++l<t.transforms.length;)n=t.transforms[l](n)||n;return n};function r(e,t){n[e]=t}function s(e){return n[e]}function l(e,t){return function(n){u.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:"fragment",children:[]})}function u(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:eA(t.start)},e}function c(e){return function(t){e&&e.call(this,t),d.call(this,t)}}function d(e,t){let n=this.stack.pop(),r=this.tokenStack.pop();if(r)r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||eF).call(this,e,r[0]));else throw Error("Cannot close `"+e.type+"` ("+eS({start:e.start,end:e.end})+"): its not open");return n.position.end=eA(e.end),n}function h(){return a(this.stack.pop(),"boolean"!=typeof i.includeImageAlt||i.includeImageAlt,"boolean"!=typeof i.includeHtml||i.includeHtml)}function f(e){let t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:eA(e.start)},t.children.push(n)),this.stack.push(n)}function p(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=eA(e.end)}function g(){n.atHardBreak=!0}function y(e){var t;t=e.type,n.characterReferenceType=t}function x(){return{type:"code",lang:null,meta:null,value:""}}function b(){return{type:"heading",depth:void 0,children:[]}}function m(){return{type:"break"}}function k(){return{type:"html",value:""}}function v(){return{type:"link",title:null,url:"",children:[]}}function w(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}})(n)(function(e){for(;!R(e););return e}((function(e){let t={defined:[],lazy:{},constructs:function(e){let t={},n=-1;for(;++n<e.length;)(function(e,t){let n;for(n in t){let r;let i=(u.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];if(a)for(r in a){u.call(i,r)||(i[r]=[]);let e=a[r];(function(e,t){let n=-1,r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);l(e,0,0,r)})(i[r],Array.isArray(e)?e:e?[e]:[])}}})(t,e[n]);return t}([em,...(e||{}).extensions||[]]),content:n(S),document:n(L),flow:n(eh),string:n(ep),text:n(eg)};return t;function n(e){return function(n){return function(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},a=[],s=[],u=[],c={consume:function(e){x(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,m()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=e},enter:function(e,t){let n=t||{};return n.type=e,n.start=p(),d.events.push(["enter",n,d]),u.push(n),n},exit:function(e){let t=u.pop();return t.end=p(),d.events.push(["exit",t,d]),t},attempt:y(function(e,t){b(e,t.from)}),check:y(g),interrupt:y(g,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:function(e,t){return function(e,t){let n,r=-1,i=[];for(;++r<e.length;){let a;let s=e[r];if("string"==typeof s)a=s;else switch(s){case -5:a="\r";break;case -4:a=`
`;break;case -3:a=`\r
`;break;case -2:a=t?" ":"	";break;case -1:if(!t&&n)continue;a=" ";break;default:a=String.fromCharCode(s)}n=-2===s,i.push(a)}return i.join("")}(f(e),t)},now:p,defineSkip:function(e){i[e.line]=e.column,m()},write:function(e){return s=o(s,e),function(){let e;for(;r._index<s.length;){let n=s[r._index];if("string"==typeof n)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<n.length;){var t;t=n.charCodeAt(r._bufferIndex),h=h(t)}else h=h(n)}}(),null!==s[s.length-1]?[]:(b(t,0),d.events=T(a,d.events,d),d.events)}},h=t.tokenize.call(d,c);return t.resolveAll&&a.push(t),d;function f(e){return function(e,t){let n;let r=t.start._index,i=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;if(r===a)n=[e[r].slice(i,s)];else{if(n=e.slice(r,a),i>-1){let e=n[0];"string"==typeof e?n[0]=e.slice(i):n.shift()}s>0&&n.push(e[a].slice(0,s))}return n}(s,e)}function p(){let{line:e,column:t,offset:n,_index:i,_bufferIndex:a}=r;return{line:e,column:t,offset:n,_index:i,_bufferIndex:a}}function g(e,t){t.restore()}function y(e,t){return function(n,i,a){let s,l,o,h;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){let t=null!==e&&n[e],r=null!==e&&n.null;return f([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(r)?r:r?[r]:[]])(e)};function f(e){return s=e,l=0,0===e.length?a:g(e[l])}function g(e){return function(n){return h=function(){let e=p(),t=d.previous,n=d.currentConstruct,i=d.events.length,a=Array.from(u);return{restore:function(){r=e,d.previous=t,d.currentConstruct=n,d.events.length=i,u=a,m()},from:i}}(),o=e,e.partial||(d.currentConstruct=e),e.name&&d.parser.constructs.disable.null.includes(e.name)?x():e.tokenize.call(t?Object.assign(Object.create(d),t):d,c,y,x)(n)}}function y(t){return e(o,h),i}function x(e){return h.restore(),++l<s.length?g(s[l]):a}}}function b(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&l(d.events,t,d.events.length-t,e.resolve(d.events.slice(t),d)),e.resolveTo&&(d.events=e.resolveTo(d.events,d))}function m(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}(t,e,n)}}})(n).document().write((r=1,s="",c=!0,function(e,t,n){let i,a,l,o,u;let h=[];for(e=s+e.toString(t),l=0,s="",c&&(65279===e.charCodeAt(0)&&l++,c=void 0);l<e.length;){if(ek.lastIndex=l,o=(i=ek.exec(e))&&void 0!==i.index?i.index:e.length,u=e.charCodeAt(o),!i){s=e.slice(l);break}if(10===u&&l===o&&d)h.push(-3),d=void 0;else switch(d&&(h.push(-5),d=void 0),l<o&&(h.push(e.slice(l,o)),r+=o-l),u){case 0:h.push(65533),r++;break;case 9:for(a=4*Math.ceil(r/4),h.push(-2);r++<a;)h.push(-1);break;case 10:h.push(-4),r=1;break;default:d=!0,r=1}l=o+1}return n&&(d&&h.push(-5),s&&h.push(s),h.push(null)),h})(e,t,!0))))};function eA(e){return{line:e.line,column:e.column,offset:e.offset}}function eF(e,t){throw e?Error("Cannot close `"+e.type+"` ("+eS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+eS({start:t.start,end:t.end})+") is open"):Error("Cannot close document, a token (`"+t.type+"`, "+eS({start:t.start,end:t.end})+") is still open")}function eI(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}function eO(e,t,n){var r;let i=e.append("text"),a=eI(i,1,t);e$(a,[{content:n,type:"normal"}]);let s=null==(r=a.node())?void 0:r.getBoundingClientRect();return s&&i.remove(),s}function e$(e,t){e.text(""),t.forEach((t,n)=>{let r=e.append("tspan").attr("font-style","emphasis"===t.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===t.type?"bold":"normal");0===n?r.text(t.content):r.text(" "+t.content)})}let ez=(e,t="",{style:n="",isTitle:i=!1,classes:a="",useHtmlLabels:s=!0,isNode:l=!0,width:o=200,addSvgBackground:u=!1}={})=>{if(r.l.info("createText",t,n,i,a,s,l,u),!s)return function(e,t,n,r=!1){let i=t.append("g"),a=i.insert("rect").attr("class","background"),s=i.append("text").attr("y","-10.1"),l=0;for(let t of n){let n=t=>(function(e,t,n){let r=e.append("text"),i=eI(r,1,1.1);e$(i,n);let a=i.node().getComputedTextLength();return r.remove(),a})(i,0,t)<=e;for(let e of n(t)?[t]:function(e,t){if(e.some(({content:e})=>e.includes(`
`)))throw Error("splitLineToFitWidth does not support newlines in the line");return function e(t,n,r=[],i=[]){var a,s;if(0===t.length)return i.length>0&&r.push(i),r.length>0?r:[];let l="";" "===t[0].content&&(l=" ",t.shift());let o=null!==(a=t.shift())&&void 0!==a?a:{content:" ",type:"normal"},u=[...i];if(""!==l&&u.push({content:l,type:"normal"}),u.push(o),n(u))return e(t,n,r,u);if(i.length>0)r.push(i),t.unshift(o);else if(o.content){let[e,i]=function e(t,n,r,i){if(0===r.length)return[{content:n.join(""),type:i},{content:"",type:i}];let[a,...s]=r,l=[...n,a];return t([{content:l.join(""),type:i}])?e(t,l,s,i):(0===n.length&&a&&(n.push(a),r.shift()),[{content:n.join(""),type:i},{content:r.join(""),type:i}])}(n,[],(s=o.content,Intl.Segmenter?[...new Intl.Segmenter().segment(s)].map(e=>e.segment):[...s]),o.type);r.push([e]),i.content&&t.unshift(i)}return e(t,n,r)}(e,t)}(t,n))e$(eI(s,l,1.1),e),l++}if(!r)return s.node();{let e=s.node().getBBox();return a.attr("x",-2).attr("y",-2).attr("width",e.width+4).attr("height",e.height+4),i.node()}}(o,e,function(e){let{children:t}=eD(function(e){let t=e.replace(/\n{2,}/g,`
`);return(0,r.b7)(t)}(e)),n=[[]],i=0;return t.forEach(e=>{"paragraph"===e.type&&e.children.forEach(e=>{(function e(t,r="normal"){"text"===t.type?t.value.split(`
`).forEach((e,t)=>{0!==t&&(i++,n.push([])),e.split(" ").forEach(e=>{e&&n[i].push({content:e,type:r})})}):("strong"===t.type||"emphasis"===t.type)&&t.children.forEach(n=>{e(n,t.type)})})(e)})}),n}(t),u);{let i=function(e){let{children:t}=eD(e);return t.map(function e(t){return"text"===t.type?t.value.replace(/\n/g,"<br/>"):"strong"===t.type?`<strong>${t.children.map(e).join("")}</strong>`:"emphasis"===t.type?`<em>${t.children.map(e).join("")}</em>`:"paragraph"===t.type?`<p>${t.children.map(e).join("")}</p>`:`Unsupported markdown: ${t.type}`}).join("")}(t);return function(e,t,n,r,i=!1){var a;let s=e.append("foreignObject"),l=s.append("xhtml:div"),o=t.label,u=t.isNode?"nodeLabel":"edgeLabel";l.html(`
    <span class="${u} ${r}" `+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+o+"</span>"),(a=t.labelStyle)&&l.attr("style",a),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("max-width",n+"px"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&l.attr("class","labelBkg");let c=l.node().getBoundingClientRect();return c.width===n&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",n+"px"),c=l.node().getBoundingClientRect()),s.style("width",c.width),s.style("height",c.height),s.node()}(e,{isNode:l,label:(0,r.b6)(i).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:n.replace("fill:","color:")},o,a,u)}}},7577:(e,t,n)=>{n.d(t,{G:()=>eD,a:()=>a,b:()=>C,c:()=>function e(t,n,r,a,s,l){var o,c=1&n,d=2&n,h=4&n;if(void 0!==o)return o;if(!(0,i.a8)(t))return t;var p=(0,i.ag)(t);if(p){if(g=t.length,y=new t.constructor(g),g&&"string"==typeof t[0]&&M.call(t,"index")&&(y.index=t.index,y.input=t.input),o=y,!c)return(0,i.aW)(t,o)}else{var g,y,x,b,m,k,v=(0,i.aU)(t),w=v==q||"[object GeneratorFunction]"==v;if((0,i.aX)(t))return(0,i.aY)(t,c);if(v==V||v==X||w&&!s){if(o=d||w?{}:(0,i.aZ)(t),!c)return d?(b=(x=o)&&(0,i.aQ)(t,(0,i.ad)(t),x),(0,i.aQ)(t,$(t),b)):(k=(m=o)&&(0,i.aQ)(t,f(t),m),(0,i.aQ)(t,O(t),k))}else{if(!K[v])return s?t:{};o=function(e,t,n){var r,a,s=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,i.aS)(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return r=n?(0,i.aS)(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,i.aT)(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(a=new e.constructor(e.source,N.exec(e))).lastIndex=e.lastIndex,a;case"[object Symbol]":return R?Object(R.call(e)):{}}}(t,v,c)}}l||(l=new i.a_);var _=l.get(t);if(_)return _;l.set(t,o),W(t)?t.forEach(function(i){o.add(e(i,n,r,i,t,l))}):Y(t)&&t.forEach(function(i,a){o.set(a,e(i,n,r,a,t,l))});var S=h?d?B:j:d?i.ad:f,L=p?void 0:S(t);return u(L||t,function(a,s){L&&(a=t[s=a]),(0,i.al)(o,s,e(a,n,r,s,t,l))}),o},d:()=>ep,e:()=>c,f:()=>eb,g:()=>ey,h:()=>ew,i:()=>eS,j:()=>s,k:()=>f,l:()=>ex,m:()=>eg,n:()=>v,o:()=>_,p:()=>ef,q:()=>k,r:()=>em,s:()=>eE,t:()=>w,v:()=>e_});var r,i=n(421);function a(e){return"symbol"==typeof e||(0,i.aJ)(e)&&"[object Symbol]"==(0,i.aK)(e)}function s(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var l=i.aL?i.aL.prototype:void 0,o=l?l.toString:void 0;function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function c(e,t,n,r){for(var i=e.length,a=n+-1;++a<i;)if(t(e[a],a,e))return a;return -1}function d(e){return e!=e}function h(e,t){return!!(null==e?0:e.length)&&(t==t?function(e,t,n){for(var r=-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}(e,t,0):c(e,d,0))>-1}function f(e){return(0,i.af)(e)?(0,i.aM)(e):(0,i.aN)(e)}var p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function y(e,t){if((0,i.ag)(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||a(e))||g.test(e)||!p.test(e)||null!=t&&e in Object(t)}var x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,m=function(e){var t=(0,i.aO)(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(x,function(e,n,r,i){t.push(r?i.replace(b,"$1"):n||e)}),t});function k(e){return null==e?"":function e(t){if("string"==typeof t)return t;if((0,i.ag)(t))return s(t,e)+"";if(a(t))return o?o.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)}function v(e,t){return(0,i.ag)(e)?e:y(e,t)?[e]:m(k(e))}function w(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function _(e,t){t=v(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[w(t[n++])];return n&&n==r?e:void 0}function S(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var L=i.aL?i.aL.isConcatSpreadable:void 0;function E(e){return(0,i.ag)(e)||(0,i.aP)(e)||!!(L&&e&&e[L])}function C(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=E),i||(i=[]);++a<s;){var l=e[a];n(l)?S(i,l):r||(i[i.length]=l)}return i}function T(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function D(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}function A(){return[]}var F=Object.prototype.propertyIsEnumerable,I=Object.getOwnPropertySymbols,O=I?function(e){return null==e?[]:D(I(e=Object(e)),function(t){return F.call(e,t)})}:A,$=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)S(t,O(e)),e=(0,i.aR)(e);return t}:A;function z(e,t,n){var r=t(e);return(0,i.ag)(e)?r:S(r,n(e))}function j(e){return z(e,f,O)}function B(e){return z(e,i.ad,$)}var M=Object.prototype.hasOwnProperty,N=/\w*$/,P=i.aL?i.aL.prototype:void 0,R=P?P.valueOf:void 0,H=i.aV&&i.aV.isMap,Y=H?(0,i.am)(H):function(e){return(0,i.aJ)(e)&&"[object Map]"==(0,i.aU)(e)},U=i.aV&&i.aV.isSet,W=U?(0,i.am)(U):function(e){return(0,i.aJ)(e)&&"[object Set]"==(0,i.aU)(e)},X="[object Arguments]",q="[object Function]",V="[object Object]",K={};function Q(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i.a$;++t<n;)this.add(e[t])}function Z(e,t){return e.has(t)}function G(e,t,n,r,i,a){var s=1&n,l=e.length,o=t.length;if(l!=o&&!(s&&o>l))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=2&n?new Q:void 0;for(a.set(e,t),a.set(t,e);++d<l;){var p=e[d],g=t[d];if(r)var y=s?r(g,p,d,t,e,a):r(p,g,d,e,t,a);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}(t,function(e,t){if(!Z(f,t)&&(p===e||i(p,e,n,r,a)))return f.push(t)})){h=!1;break}}else if(!(p===g||i(p,g,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}function J(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function ee(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}K[X]=K["[object Array]"]=K["[object ArrayBuffer]"]=K["[object DataView]"]=K["[object Boolean]"]=K["[object Date]"]=K["[object Float32Array]"]=K["[object Float64Array]"]=K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Map]"]=K["[object Number]"]=K[V]=K["[object RegExp]"]=K["[object Set]"]=K["[object String]"]=K["[object Symbol]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0,K["[object Error]"]=K[q]=K["[object WeakMap]"]=!1,Q.prototype.add=Q.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Q.prototype.has=function(e){return this.__data__.has(e)};var et=i.aL?i.aL.prototype:void 0,en=et?et.valueOf:void 0,er=Object.prototype.hasOwnProperty,ei="[object Arguments]",ea="[object Array]",es="[object Object]",el=Object.prototype.hasOwnProperty;function eo(e,t,n,r,a){return e===t||(null!=e&&null!=t&&((0,i.aJ)(e)||(0,i.aJ)(t))?function(e,t,n,r,a,s){var l=(0,i.ag)(e),o=(0,i.ag)(t),u=l?ea:(0,i.aU)(e),c=o?ea:(0,i.aU)(t);u=u==ei?es:u,c=c==ei?es:c;var d=u==es,h=c==es,f=u==c;if(f&&(0,i.aX)(e)){if(!(0,i.aX)(t))return!1;l=!0,d=!1}if(f&&!d)return s||(s=new i.a_),l||(0,i.b1)(e)?G(e,t,n,r,a,s):function(e,t,n,r,a,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new i.b0(e),new i.b0(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,i.ae)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=J;case"[object Set]":var u=1&r;if(o||(o=ee),e.size!=t.size&&!u)break;var c=l.get(e);if(c)return c==t;r|=2,l.set(e,t);var d=G(o(e),o(t),r,a,s,l);return l.delete(e),d;case"[object Symbol]":if(en)return en.call(e)==en.call(t)}return!1}(e,t,u,n,r,a,s);if(!(1&n)){var p=d&&el.call(e,"__wrapped__"),g=h&&el.call(t,"__wrapped__");if(p||g){var y=p?e.value():e,x=g?t.value():t;return s||(s=new i.a_),a(y,x,n,r,s)}}return!!f&&(s||(s=new i.a_),function(e,t,n,r,i,a){var s=1&n,l=j(e),o=l.length;if(o!=j(t).length&&!s)return!1;for(var u=o;u--;){var c=l[u];if(!(s?c in t:er.call(t,c)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=s;++u<o;){var g=e[c=l[u]],y=t[c];if(r)var x=s?r(y,g,c,t,e,a):r(g,y,c,e,t,a);if(!(void 0===x?g===y||i(g,y,n,r,a):x)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var b=e.constructor,m=t.constructor;b!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m)&&(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,a,s))}(e,t,n,r,eo,a):e!=e&&t!=t)}function eu(e){return e==e&&!(0,i.a8)(e)}function ec(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function ed(e,t){return null!=e&&t in Object(e)}function eh(e,t,n){t=v(t,e);for(var r=-1,a=t.length,s=!1;++r<a;){var l=w(t[r]);if(!(s=null!=e&&n(e,l)))break;e=e[l]}return s||++r!=a?s:!!(a=null==e?0:e.length)&&(0,i.b2)(a)&&(0,i.ak)(l,a)&&((0,i.ag)(e)||(0,i.aP)(e))}function ef(e,t){return null!=e&&eh(e,t,ed)}function ep(e){var t,n,r,a;return"function"==typeof e?e:null==e?i.aj:"object"==typeof e?(0,i.ag)(e)?(t=e[0],n=e[1],y(t)&&eu(n)?ec(w(t),n):function(e){var r,i=void 0===(r=null==e?void 0:_(e,t))?void 0:r;return void 0===i&&i===n?ef(e,t):eo(n,i,3)}):1==(r=function(e){for(var t=f(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,eu(i)]}return t}(e)).length&&r[0][2]?ec(r[0][0],r[0][1]):function(t){return t===e||function(e,t,n,r){var a=n.length,s=a;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var o=(l=n[a])[0],u=e[o],c=l[1];if(l[2]){if(void 0===u&&!(o in e))return!1}else{var d,h=new i.a_;if(!(void 0===d?eo(c,u,3,void 0,h):d))return!1}}return!0}(t,0,r)}:y(e)?(a=w(e),function(e){return null==e?void 0:e[a]}):function(t){return _(t,e)}}function eg(e,t){return e&&(0,i.ah)(e,t,f)}var ey=(r=eg,function(e,t){if(null==e)return e;if(!(0,i.af)(e))return r(e,t);for(var n=e.length,a=-1,s=Object(e);++a<n&&!1!==t(s[a],a,s););return e});function ex(e){return"function"==typeof e?e:i.aj}function eb(e,t){return((0,i.ag)(e)?u:ey)(e,ex(t))}function em(e,t){return((0,i.ag)(e)?D:function(e,t){var n=[];return ey(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n})(e,ep(t))}var ek=Object.prototype.hasOwnProperty;function ev(e,t){return null!=e&&ek.call(e,t)}function ew(e,t){return null!=e&&eh(e,t,ev)}function e_(e){return null==e?[]:s(f(e),function(t){return e[t]})}function eS(e){return void 0===e}function eL(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function eE(e,t,n){var r=(0,i.ag)(e)?T:eL,a=arguments.length<3;return r(e,ep(t),n,a,ey)}var eC=i.b3&&1/ee(new i.b3([,-0]))[1]==1/0?function(e){return new i.b3(e)}:function(){},eT=(0,i.ab)(function(e){return function(e,t,n){var r=-1,i=h,a=e.length,s=!0,l=[],o=l;if(a>=200){var u=eC(e);if(u)return ee(u);s=!1,i=Z,o=new Q}else o=l;e:for(;++r<a;){var c=e[r],d=c;if(c=0!==c?c:0,s&&d==d){for(var f=o.length;f--;)if(o[f]===d)continue e;l.push(c)}else i(o,d,void 0)||(o!==l&&o.push(d),l.push(c))}return l}(C(e,1,i.b4,!0))});class eD{isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return(0,i.z)(e)||(e=(0,i.an)(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return f(this._nodes)}sources(){var e=this;return em(this.nodes(),function(t){return(0,i.b5)(e._in[t])})}sinks(){var e=this;return em(this.nodes(),function(t){return(0,i.b5)(e._out[t])})}setNodes(e,t){var n=arguments,r=this;return eb(e,function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this}setNode(e,t){return ew(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this}node(e){return this._nodes[e]}hasNode(e){return ew(this._nodes,e)}removeNode(e){var t=this;if(ew(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],eb(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),eb(f(this._in[e]),n),delete this._in[e],delete this._preds[e],eb(f(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(eS(t))t="\0";else{t+="";for(var n=t;!eS(n);n=this.parent(n))if(n===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}}children(e){if(eS(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return f(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return f(t)}successors(e){var t=this._sucs[e];if(t)return f(t)}neighbors(e){var t=this.predecessors(e);if(t)return eT(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;eb(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),eb(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};return this._isCompound&&eb(t.nodes(),function(e){t.setParent(e,function e(i){var a=n.parent(i);return void 0===a||t.hasNode(a)?(r[i]=a,a):a in r?r[a]:e(a)}(e))}),t}setDefaultEdgeLabel(e){return(0,i.z)(e)||(e=(0,i.an)(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return e_(this._edgeObjs)}setPath(e,t){var n=this,r=arguments;return eE(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this}setEdge(){var e,t,n,r,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2==arguments.length&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,eS(n)||(n=""+n);var s=eI(this._isDirected,e,t,n);if(ew(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!eS(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(e,t,n);var l=function(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}var l={v:i,w:a};return r&&(l.name=r),l}(this._isDirected,e,t,n);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[s]=l,eA(this._preds[t],e),eA(this._sucs[e],t),this._in[t][s]=l,this._out[e][s]=l,this._edgeCount++,this}edge(e,t,n){var r=1==arguments.length?eO(this._isDirected,arguments[0]):eI(this._isDirected,e,t,n);return this._edgeLabels[r]}hasEdge(e,t,n){var r=1==arguments.length?eO(this._isDirected,arguments[0]):eI(this._isDirected,e,t,n);return ew(this._edgeLabels,r)}removeEdge(e,t,n){var r=1==arguments.length?eO(this._isDirected,arguments[0]):eI(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],eF(this._preds[t],e),eF(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var r=e_(n);return t?em(r,function(e){return e.v===t}):r}}outEdges(e,t){var n=this._out[e];if(n){var r=e_(n);return t?em(r,function(e){return e.w===t}):r}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}constructor(e={}){this._isDirected=!ew(e,"directed")||e.directed,this._isMultigraph=!!ew(e,"multigraph")&&e.multigraph,this._isCompound=!!ew(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=(0,i.an)(void 0),this._defaultEdgeLabelFn=(0,i.an)(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}}function eA(e,t){e[t]?e[t]++:e[t]=1}function eF(e,t){--e[t]||delete e[t]}function eI(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(eS(r)?"\0":r)}function eO(e,t){return eI(e,t.v,t.w,t.name)}eD.prototype._nodeCount=0,eD.prototype._edgeCount=0},7672:(e,t,n)=>{n.d(t,{i:()=>r});function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}},7882:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(421);let i=(e,t)=>r.aH.lang.round(r.aI.parse(e)[t])},8296:(e,t,n)=>{n.d(t,{s:()=>r});let r=function(e){for(var t=e.length/6|0,n=Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")},9258:(e,t,n)=>{n.d(t,{a:()=>H,b:()=>er,c:()=>eu,d:()=>ea,e:()=>p,f:()=>c,g:()=>X,h:()=>U,i:()=>u,j:()=>en,k:()=>Q,l:()=>d,m:()=>Z,p:()=>W,s:()=>Y,u:()=>h});var r=n(421),i=n(6982),a=n(1894);function s(e,t,n,r,i,a,s){try{var l=e[a](s),o=l.value}catch(e){n(e);return}l.done?t(o):Promise.resolve(o).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function l(e){s(a,r,i,l,o,"next",e)}function o(e){s(a,r,i,l,o,"throw",e)}l(void 0)})}}let o={extension:(e,t,n)=>{r.l.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},point:(e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},u=(e,t,n,r)=>{t.forEach(t=>{o[t](e,n,r)})},c=(e,t,n,i)=>{let a=e||"";if("object"==typeof a&&(a=a[0]),(0,r.r)((0,r.g)().flowchart.htmlLabels))return a=a.replace(/\\n|\n/g,"<br />"),r.l.debug("vertexText"+a),function(e){var t;let n=(0,r.d)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=n.append("xhtml:div"),a=e.label,s=e.isNode?"nodeLabel":"edgeLabel";return i.html('<span class="'+s+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+a+"</span>"),(t=e.labelStyle)&&i.attr("style",t),i.style("display","inline-block"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),n.node()}({isNode:i,label:(0,r.b6)(a).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")});{let e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));for(let t of"string"==typeof a?a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?a:[]){let r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x","0"),n?r.setAttribute("class","title-row"):r.setAttribute("class","row"),r.textContent=t.trim(),e.appendChild(r)}return e}},d=function(){var e=l(function*(e,t,n,a){let s,l,o;let u=t.useHtmlLabels||(0,r.r)((0,r.g)().flowchart.htmlLabels);s=n||"node default";let d=e.insert("g").attr("class",s).attr("id",t.domId||t.id),h=d.insert("g").attr("class","label").attr("style",t.labelStyle);l=void 0===t.labelText?"":"string"==typeof t.labelText?t.labelText:t.labelText[0];let f=h.node(),p=(o="markdown"===t.labelType?(0,i.a)(h,(0,r.i)((0,r.b6)(l),(0,r.g)()),{useHtmlLabels:u,width:t.width||(0,r.g)().flowchart.wrappingWidth,classes:"markdown-node-label"}):f.appendChild(c((0,r.i)((0,r.b6)(l),(0,r.g)()),t.labelStyle,!1,a))).getBBox(),g=t.padding/2;if((0,r.r)((0,r.g)().flowchart.htmlLabels)){let e=o.children[0],t=(0,r.d)(o),n=e.getElementsByTagName("img");if(n){let e=""===l.replace(/<img[^>]*>/g,"").trim();yield Promise.all([...n].map(t=>new Promise(n=>{function i(){if(t.style.display="flex",t.style.flexDirection="column",e){let e=5*parseInt((0,r.g)().fontSize?(0,r.g)().fontSize:window.getComputedStyle(document.body).fontSize,10)+"px";t.style.minWidth=e,t.style.maxWidth=e}else t.style.width="100%";n(t)}setTimeout(()=>{t.complete&&i()}),t.addEventListener("error",i),t.addEventListener("load",i)})))}p=e.getBoundingClientRect(),t.attr("width",p.width),t.attr("height",p.height)}return u?h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):h.attr("transform","translate(0, "+-p.height/2+")"),t.centerLabel&&h.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.insert("rect",":first-child"),{shapeSvg:d,bbox:p,halfPadding:g,label:h}});return function(t,n,r,i){return e.apply(this,arguments)}}(),h=(e,t)=>{let n=t.node().getBBox();e.width=n.width,e.height=n.height};function f(e,t,n,r){return e.insert("polygon",":first-child").attr("points",r.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}let p=(e,t)=>{var n,r,i=e.x,a=e.y,s=t.x-i,l=t.y-a,o=e.width/2,u=e.height/2;return Math.abs(l)*o>Math.abs(s)*u?(l<0&&(u=-u),n=0===l?0:u*s/l,r=u):(s<0&&(o=-o),n=o,r=0===s?0:o*l/s),{x:i+n,y:a+r}},g={circle:function(e,t,n){var r,i,a,s,l,o,u;return r=e.x,i=e.y,a=r-n.x,l=Math.sqrt(t*t*(s=i-n.y)*s+t*t*a*a),o=Math.abs(t*t*a/l),n.x<r&&(o=-o),u=Math.abs(t*t*s/l),n.y<i&&(u=-u),{x:r+o,y:i+u}},polygon:function(e,t,n){var r=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach(function(e){s=Math.min(s,e.x),l=Math.min(l,e.y)}):(s=Math.min(s,t.x),l=Math.min(l,t.y));for(var o=r-e.width/2-s,u=i-e.height/2-l,c=0;c<t.length;c++){var d=t[c],h=t[c<t.length-1?c+1:0],f=function(e,t,n,r){var i,a,s,l,o,u,c,d,h,f,p,g,y;if(i=t.y-e.y,s=e.x-t.x,o=t.x*e.y-e.x*t.y,h=i*n.x+s*n.y+o,f=i*r.x+s*r.y+o,!(0!==h&&0!==f&&h*f>0)&&(a=r.y-n.y,l=n.x-r.x,u=r.x*n.y-n.x*r.y,c=a*e.x+l*e.y+u,d=a*t.x+l*t.y+u,!(0!==c&&0!==d&&c*d>0)&&0!=(p=i*l-a*s)))return g=Math.abs(p/2),{x:(y=s*u-l*o)<0?(y-g)/p:(y+g)/p,y:(y=a*o-i*u)<0?(y-g)/p:(y+g)/p}}(e,n,{x:o+d.x,y:u+d.y},{x:o+h.x,y:u+h.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(e,t){var r=e.x-n.x,i=e.y-n.y,a=Math.sqrt(r*r+i*i),s=t.x-n.x,l=t.y-n.y,o=Math.sqrt(s*s+l*l);return a<o?-1:a===o?0:1}),a[0]):e},rect:p},y=function(){var e=l(function*(e,t){t.useHtmlLabels||(0,r.g)().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:n,bbox:i,halfPadding:a}=yield d(e,t,"node "+t.classes,!0);r.l.info("Classes = ",t.classes);let s=n.insert("rect",":first-child");return s.attr("rx",t.rx).attr("ry",t.ry).attr("x",-i.width/2-a).attr("y",-i.height/2-a).attr("width",i.width+t.padding).attr("height",i.height+t.padding),h(t,s),t.intersect=function(e){return g.rect(t,e)},n});return function(t,n){return e.apply(this,arguments)}}(),x=e=>{let t=new Set;for(let n of e)switch(n){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(n)}return t},b=(e,t,n)=>{let r=x(e),i=t.height+2*n.padding,a=i/2,s=t.width+2*a+n.padding,l=n.padding/2;return r.has("right")&&r.has("left")&&r.has("up")&&r.has("down")?[{x:0,y:0},{x:a,y:0},{x:s/2,y:2*l},{x:s-a,y:0},{x:s,y:0},{x:s,y:-i/3},{x:s+2*l,y:-i/2},{x:s,y:-2*i/3},{x:s,y:-i},{x:s-a,y:-i},{x:s/2,y:-i-2*l},{x:a,y:-i},{x:0,y:-i},{x:0,y:-2*i/3},{x:-2*l,y:-i/2},{x:0,y:-i/3}]:r.has("right")&&r.has("left")&&r.has("up")?[{x:a,y:0},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}]:r.has("right")&&r.has("left")&&r.has("down")?[{x:0,y:0},{x:a,y:-i},{x:s-a,y:-i},{x:s,y:0}]:r.has("right")&&r.has("up")&&r.has("down")?[{x:0,y:0},{x:s,y:-a},{x:s,y:-i+a},{x:0,y:-i}]:r.has("left")&&r.has("up")&&r.has("down")?[{x:s,y:0},{x:0,y:-a},{x:0,y:-i+a},{x:s,y:-i}]:r.has("right")&&r.has("left")?[{x:a,y:0},{x:a,y:-l},{x:s-a,y:-l},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:s-a,y:-i+l},{x:a,y:-i+l},{x:a,y:-i},{x:0,y:-i/2}]:r.has("up")&&r.has("down")?[{x:s/2,y:0},{x:0,y:-l},{x:a,y:-l},{x:a,y:-i+l},{x:0,y:-i+l},{x:s/2,y:-i},{x:s,y:-i+l},{x:s-a,y:-i+l},{x:s-a,y:-l},{x:s,y:-l}]:r.has("right")&&r.has("up")?[{x:0,y:0},{x:s,y:-a},{x:0,y:-i}]:r.has("right")&&r.has("down")?[{x:0,y:0},{x:s,y:0},{x:0,y:-i}]:r.has("left")&&r.has("up")?[{x:s,y:0},{x:0,y:-a},{x:s,y:-i}]:r.has("left")&&r.has("down")?[{x:s,y:0},{x:0,y:0},{x:s,y:-i}]:r.has("right")?[{x:a,y:-l},{x:a,y:-l},{x:s-a,y:-l},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:s-a,y:-i+l},{x:a,y:-i+l},{x:a,y:-i+l}]:r.has("left")?[{x:a,y:0},{x:a,y:-l},{x:s-a,y:-l},{x:s-a,y:-i+l},{x:a,y:-i+l},{x:a,y:-i},{x:0,y:-i/2}]:r.has("up")?[{x:a,y:-l},{x:a,y:-i+l},{x:0,y:-i+l},{x:s/2,y:-i},{x:s,y:-i+l},{x:s-a,y:-i+l},{x:s-a,y:-l}]:r.has("down")?[{x:s/2,y:0},{x:0,y:-l},{x:a,y:-l},{x:a,y:-i+l},{x:s-a,y:-i+l},{x:s-a,y:-l},{x:s,y:-l}]:[{x:0,y:0}]},m=e=>e?" "+e:"",k=(e,t)=>`node default${m(e.classes)} ${m(e.class)}`,v=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:i}=yield d(e,t,k(t),!0),a=i.width+t.padding+(i.height+t.padding),s=[{x:a/2,y:0},{x:a,y:-a/2},{x:a/2,y:-a},{x:0,y:-a/2}];r.l.info("Question main (Circle)");let l=f(n,a,a,s);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return r.l.warn("Intersect called"),g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.height+t.padding,a=i/4,s=r.width+2*a+t.padding,l=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}],o=f(n,s,i,l);return o.attr("style",t.style),h(t,o),t.intersect=function(e){return g.polygon(t,l,e)},n});return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,void 0,!0),i=r.height+2*t.padding,a=i/2,s=r.width+2*a+t.padding,l=b(t.directions,r,t),o=f(n,s,i,l);return o.attr("style",t.style),h(t,o),t.intersect=function(e){return g.polygon(t,l,e)},n});return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=r.height+t.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return f(n,i,a,s).attr("style",t.style),t.width=i+a,t.height=a,t.intersect=function(e){return g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=r.height+t.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],l=f(n,i,a,s);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=r.height+t.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],l=f(n,i,a,s);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=r.height+t.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],l=f(n,i,a,s);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=r.height+t.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],l=f(n,i,a,s);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=r.height+t.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],l=f(n,i,a,s);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=i/2,s=a/(2.5+i/50),l=r.height+s+t.padding,o=n.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d","M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+l+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-l).attr("transform","translate("+-i/2+","+-(l/2+s)+")");return h(t,o),t.intersect=function(e){let n=g.rect(t,e),r=n.x-t.x;if(0!=a&&(Math.abs(r)<t.width/2||Math.abs(r)==t.width/2&&Math.abs(n.y-t.y)>t.height/2-s)){let i=s*s*(1-r*r/(a*a));0!=i&&(i=Math.sqrt(i)),i=s-i,e.y-t.y>0&&(i=-i),n.y+=i}return n},n});return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:i,halfPadding:a}=yield d(e,t,"node "+t.classes+" "+t.class,!0),s=n.insert("rect",":first-child"),l=t.positioned?t.width:i.width+t.padding,o=t.positioned?t.height:i.height+t.padding,u=t.positioned?-l/2:-i.width/2-a,c=t.positioned?-o/2:-i.height/2-a;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",c).attr("width",l).attr("height",o),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&($(s,t.props.borders,l,o),e.delete("borders")),e.forEach(e=>{r.l.warn(`Unknown node property ${e}`)})}return h(t,s),t.intersect=function(e){return g.rect(t,e)},n});return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:i,halfPadding:a}=yield d(e,t,"node "+t.classes,!0),s=n.insert("rect",":first-child"),l=t.positioned?t.width:i.width+t.padding,o=t.positioned?t.height:i.height+t.padding,u=t.positioned?-l/2:-i.width/2-a,c=t.positioned?-o/2:-i.height/2-a;if(s.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",c).attr("width",l).attr("height",o),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&($(s,t.props.borders,l,o),e.delete("borders")),e.forEach(e=>{r.l.warn(`Unknown node property ${e}`)})}return h(t,s),t.intersect=function(e){return g.rect(t,e)},n});return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=l(function*(e,t){let{shapeSvg:n}=yield d(e,t,"label",!0);r.l.trace("Classes = ",t.class);let i=n.insert("rect",":first-child");if(i.attr("width",0).attr("height",0),n.attr("class","label edgeLabel"),t.props){let e=new Set(Object.keys(t.props));t.props.borders&&($(i,t.props.borders,0,0),e.delete("borders")),e.forEach(e=>{r.l.warn(`Unknown node property ${e}`)})}return h(t,i),t.intersect=function(e){return g.rect(t,e)},n});return function(t,n){return e.apply(this,arguments)}}();function $(e,t,n,i){let a=[],s=e=>{a.push(e,0)},l=e=>{a.push(0,e)};t.includes("t")?(r.l.debug("add top border"),s(n)):l(n),t.includes("r")?(r.l.debug("add right border"),s(i)):l(i),t.includes("b")?(r.l.debug("add bottom border"),s(n)):l(n),t.includes("l")?(r.l.debug("add left border"),s(i)):l(i),e.attr("stroke-dasharray",a.join(" "))}let z=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.height+t.padding,a=r.width+i/4+t.padding,s=n.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return h(t,s),t.intersect=function(e){return g.rect(t,e)},n});return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:i,halfPadding:a}=yield d(e,t,k(t),!0),s=n.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+a).attr("width",i.width+t.padding).attr("height",i.height+t.padding),r.l.info("Circle main"),h(t,s),t.intersect=function(e){return r.l.info("Circle intersect",t,i.width/2+a,e),g.circle(t,i.width/2+a,e)},n});return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:i,halfPadding:a}=yield d(e,t,k(t),!0),s=n.insert("g",":first-child"),l=s.insert("circle"),o=s.insert("circle");return s.attr("class",t.class),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+a+5).attr("width",i.width+t.padding+10).attr("height",i.height+t.padding+10),o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+a).attr("width",i.width+t.padding).attr("height",i.height+t.padding),r.l.info("DoubleCircle main"),h(t,l),t.intersect=function(e){return r.l.info("DoubleCircle intersect",t,i.width/2+a+5,e),g.circle(t,i.width/2+a+5,e)},n});return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=l(function*(e,t){let{shapeSvg:n,bbox:r}=yield d(e,t,k(t),!0),i=r.width+t.padding,a=r.height+t.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],l=f(n,i,a,s);return l.attr("style",t.style),h(t,l),t.intersect=function(e){return g.polygon(t,s,e)},n});return function(t,n){return e.apply(this,arguments)}}(),N=(e,t,n)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,a=10;return"LR"===n&&(i=10,a=70),h(t,r.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join")),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(e){return g.rect(t,e)},r},P={rhombus:v,composite:I,question:v,rect:F,labelRect:O,rectWithTitle:(e,t)=>{let n;n=t.classes?"node "+t.classes:"node default";let i=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=i.insert("rect",":first-child"),s=i.insert("line"),l=i.insert("g").attr("class","label"),o=t.labelText.flat?t.labelText.flat():t.labelText,u="";u="object"==typeof o?o[0]:o,r.l.info("Label text abc79",u,o,"object"==typeof o);let d=l.node().appendChild(c(u,t.labelStyle,!0,!0)),f={width:0,height:0};if((0,r.r)((0,r.g)().flowchart.htmlLabels)){let e=d.children[0],t=(0,r.d)(d);f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}r.l.info("Text 2",o);let p=o.slice(1,o.length),y=d.getBBox(),x=l.node().appendChild(c(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if((0,r.r)((0,r.g)().flowchart.htmlLabels)){let e=x.children[0],t=(0,r.d)(x);f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}let b=t.padding/2;return(0,r.d)(x).attr("transform","translate( "+(f.width>y.width?0:(y.width-f.width)/2)+", "+(y.height+b+5)+")"),(0,r.d)(d).attr("transform","translate( "+(f.width<y.width?0:-(y.width-f.width)/2)+", 0)"),f=l.node().getBBox(),l.attr("transform","translate("+-f.width/2+", "+(-f.height/2-b+3)+")"),a.attr("class","outer title-state").attr("x",-f.width/2-b).attr("y",-f.height/2-b).attr("width",f.width+t.padding).attr("height",f.height+t.padding),s.attr("class","divider").attr("x1",-f.width/2-b).attr("x2",f.width/2+b).attr("y1",-f.height/2-b+y.height+b).attr("y2",-f.height/2-b+y.height+b),h(t,a),t.intersect=function(e){return g.rect(t,e)},i},choice:(e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);return n.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(e){return e.x+","+e.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(e){return g.circle(t,14,e)},n},circle:j,doublecircle:B,stadium:z,hexagon:w,block_arrow:_,rect_left_inv_arrow:S,lean_right:L,lean_left:E,trapezoid:C,inv_trapezoid:T,rect_right_inv_arrow:D,cylinder:A,start:(e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),h(t,r),t.intersect=function(e){return g.circle(t,7,e)},n},end:(e,t)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),h(t,i),t.intersect=function(e){return g.circle(t,7,e)},n},note:y,subroutine:M,fork:N,join:N,class_box:(e,t)=>{let n;let i=t.padding/2;n=t.classes?"node "+t.classes:"node default";let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=a.insert("rect",":first-child"),l=a.insert("line"),o=a.insert("line"),u=0,d=4,f=a.insert("g").attr("class","label"),p=0,y=t.classData.annotations&&t.classData.annotations[0],x=t.classData.annotations[0]?""+t.classData.annotations[0]+"":"",b=f.node().appendChild(c(x,t.labelStyle,!0,!0)),m=b.getBBox();if((0,r.r)((0,r.g)().flowchart.htmlLabels)){let e=b.children[0],t=(0,r.d)(b);m=e.getBoundingClientRect(),t.attr("width",m.width),t.attr("height",m.height)}t.classData.annotations[0]&&(d+=m.height+4,u+=m.width);let k=t.classData.label;void 0!==t.classData.type&&""!==t.classData.type&&((0,r.g)().flowchart.htmlLabels?k+="&lt;"+t.classData.type+"&gt;":k+="<"+t.classData.type+">");let v=f.node().appendChild(c(k,t.labelStyle,!0,!0));(0,r.d)(v).attr("class","classTitle");let w=v.getBBox();if((0,r.r)((0,r.g)().flowchart.htmlLabels)){let e=v.children[0],t=(0,r.d)(v);w=e.getBoundingClientRect(),t.attr("width",w.width),t.attr("height",w.height)}d+=w.height+4,w.width>u&&(u=w.width);let _=[];t.classData.members.forEach(e=>{let n=e.getDisplayDetails(),i=n.displayText;(0,r.g)().flowchart.htmlLabels&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let a=f.node().appendChild(c(i,n.cssStyle?n.cssStyle:t.labelStyle,!0,!0)),s=a.getBBox();if((0,r.r)((0,r.g)().flowchart.htmlLabels)){let e=a.children[0],t=(0,r.d)(a);s=e.getBoundingClientRect(),t.attr("width",s.width),t.attr("height",s.height)}s.width>u&&(u=s.width),d+=s.height+4,_.push(a)}),d+=8;let S=[];if(t.classData.methods.forEach(e=>{let n=e.getDisplayDetails(),i=n.displayText;(0,r.g)().flowchart.htmlLabels&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let a=f.node().appendChild(c(i,n.cssStyle?n.cssStyle:t.labelStyle,!0,!0)),s=a.getBBox();if((0,r.r)((0,r.g)().flowchart.htmlLabels)){let e=a.children[0],t=(0,r.d)(a);s=e.getBoundingClientRect(),t.attr("width",s.width),t.attr("height",s.height)}s.width>u&&(u=s.width),d+=s.height+4,S.push(a)}),d+=8,y){let e=(u-m.width)/2;(0,r.d)(b).attr("transform","translate( "+(-1*u/2+e)+", "+-1*d/2+")"),p=m.height+4}let L=(u-w.width)/2;return(0,r.d)(v).attr("transform","translate( "+(-1*u/2+L)+", "+(-1*d/2+p)+")"),p+=w.height+4,l.attr("class","divider").attr("x1",-u/2-i).attr("x2",u/2+i).attr("y1",-d/2-i+8+p).attr("y2",-d/2-i+8+p),p+=8,_.forEach(e=>{var t;(0,r.d)(e).attr("transform","translate( "+-u/2+", "+(-1*d/2+p+4)+")");let n=null==e?void 0:e.getBBox();p+=(null!==(t=null==n?void 0:n.height)&&void 0!==t?t:0)+4}),p+=8,o.attr("class","divider").attr("x1",-u/2-i).attr("x2",u/2+i).attr("y1",-d/2-i+8+p).attr("y2",-d/2-i+8+p),p+=8,S.forEach(e=>{var t;(0,r.d)(e).attr("transform","translate( "+-u/2+", "+(-1*d/2+p)+")");let n=null==e?void 0:e.getBBox();p+=(null!==(t=null==n?void 0:n.height)&&void 0!==t?t:0)+4}),s.attr("style",t.style).attr("class","outer title-state").attr("x",-u/2-i).attr("y",-(d/2)-i).attr("width",u+t.padding).attr("height",d+t.padding),h(t,s),t.intersect=function(e){return g.rect(t,e)},a}},R={},H=function(){var e=l(function*(e,t,n){let i,a;if(t.link){let s;"sandbox"===(0,r.g)().securityLevel?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s),a=yield P[t.shape](i,t,n)}else i=a=yield P[t.shape](e,t,n);return t.tooltip&&a.attr("title",t.tooltip),t.class&&a.attr("class","node default "+t.class),i.attr("data-node","true"),i.attr("data-id",t.id),R[t.id]=i,t.haveCallback&&R[t.id].attr("class",R[t.id].attr("class")+" clickable"),i});return function(t,n,r){return e.apply(this,arguments)}}(),Y=(e,t)=>{R[t.id]=e},U=()=>{R={}},W=e=>{let t=R[e.id];r.l.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},X=({flowchart:e})=>{var t,n,r,i;let a=null!==(r=null==(t=null==e?void 0:e.subGraphTitleMargin)?void 0:t.top)&&void 0!==r?r:0,s=null!==(i=null==(n=null==e?void 0:e.subGraphTitleMargin)?void 0:n.bottom)&&void 0!==i?i:0;return{subGraphTitleTopMargin:a,subGraphTitleBottomMargin:s,subGraphTitleTotalMargin:a+s}},q={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};function V(e,t){if(void 0===e||void 0===t)return{angle:0,deltaX:0,deltaY:0};e=K(e),t=K(t);let[n,r]=[e.x,e.y],[i,a]=[t.x,t.y],s=i-n,l=a-r;return{angle:Math.atan(l/s),deltaX:s,deltaY:l}}let K=e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,Q=e=>({x:function(t,n,r){let i=0;if(0===n&&Object.hasOwn(q,e.arrowTypeStart)){let{angle:t,deltaX:n}=V(r[0],r[1]);i=q[e.arrowTypeStart]*Math.cos(t)*(n>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(q,e.arrowTypeEnd)){let{angle:t,deltaX:n}=V(r[r.length-1],r[r.length-2]);i=q[e.arrowTypeEnd]*Math.cos(t)*(n>=0?1:-1)}return K(t).x+i},y:function(t,n,r){let i=0;if(0===n&&Object.hasOwn(q,e.arrowTypeStart)){let{angle:t,deltaY:n}=V(r[0],r[1]);i=q[e.arrowTypeStart]*Math.abs(Math.sin(t))*(n>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(q,e.arrowTypeEnd)){let{angle:t,deltaY:n}=V(r[r.length-1],r[r.length-2]);i=q[e.arrowTypeEnd]*Math.abs(Math.sin(t))*(n>=0?1:-1)}return K(t).y+i}}),Z=(e,t,n,r,i)=>{t.arrowTypeStart&&J(e,"start",t.arrowTypeStart,n,r,i),t.arrowTypeEnd&&J(e,"end",t.arrowTypeEnd,n,r,i)},G={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},J=(e,t,n,i,a,s)=>{let l=G[n];if(!l){r.l.warn(`Unknown arrow type: ${n}`);return}e.attr(`marker-${t}`,`url(${i}#${a}_${s}-${l}${"start"===t?"Start":"End"})`)},ee={},et={},en=()=>{ee={},et={}},er=(e,t)=>{let n;let a=(0,r.r)((0,r.g)().flowchart.htmlLabels),s="markdown"===t.labelType?(0,i.a)(e,t.label,{style:t.labelStyle,useHtmlLabels:a,addSvgBackground:!0}):c(t.label,t.labelStyle),l=e.insert("g").attr("class","edgeLabel"),o=l.insert("g").attr("class","label");o.node().appendChild(s);let u=s.getBBox();if(a){let e=s.children[0],t=(0,r.d)(s);u=e.getBoundingClientRect(),t.attr("width",u.width),t.attr("height",u.height)}if(o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),ee[t.id]=l,t.width=u.width,t.height=u.height,t.startLabelLeft){let r=c(t.startLabelLeft,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=a.node().appendChild(r);let s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),et[t.id]||(et[t.id]={}),et[t.id].startLeft=i,ei(n,t.startLabelLeft)}if(t.startLabelRight){let r=c(t.startLabelRight,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=i.node().appendChild(r),a.node().appendChild(r);let s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),et[t.id]||(et[t.id]={}),et[t.id].startRight=i,ei(n,t.startLabelRight)}if(t.endLabelLeft){let r=c(t.endLabelLeft,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=a.node().appendChild(r);let s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.node().appendChild(r),et[t.id]||(et[t.id]={}),et[t.id].endLeft=i,ei(n,t.endLabelLeft)}if(t.endLabelRight){let r=c(t.endLabelRight,t.labelStyle),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");n=a.node().appendChild(r);let s=r.getBBox();a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.node().appendChild(r),et[t.id]||(et[t.id]={}),et[t.id].endRight=i,ei(n,t.endLabelRight)}return s};function ei(e,t){(0,r.g)().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}let ea=(e,t)=>{r.l.debug("Moving label abc88 ",e.id,e.label,ee[e.id],t);let n=t.updatedPath?t.updatedPath:t.originalPath,{subGraphTitleTotalMargin:i}=X((0,r.g)());if(e.label){let a=ee[e.id],s=e.x,l=e.y;if(n){let i=r.B.calcLabelPosition(n);r.l.debug("Moving label "+e.label+" from (",s,",",l,") to (",i.x,",",i.y,") abc88"),t.updatedPath&&(s=i.x,l=i.y)}a.attr("transform",`translate(${s}, ${l+i/2})`)}if(e.startLabelLeft){let t=et[e.id].startLeft,i=e.x,a=e.y;if(n){let t=r.B.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);i=t.x,a=t.y}t.attr("transform",`translate(${i}, ${a})`)}if(e.startLabelRight){let t=et[e.id].startRight,i=e.x,a=e.y;if(n){let t=r.B.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);i=t.x,a=t.y}t.attr("transform",`translate(${i}, ${a})`)}if(e.endLabelLeft){let t=et[e.id].endLeft,i=e.x,a=e.y;if(n){let t=r.B.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);i=t.x,a=t.y}t.attr("transform",`translate(${i}, ${a})`)}if(e.endLabelRight){let t=et[e.id].endRight,i=e.x,a=e.y;if(n){let t=r.B.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);i=t.x,a=t.y}t.attr("transform",`translate(${i}, ${a})`)}},es=(e,t)=>{let n=e.x,r=e.y,i=Math.abs(t.x-n),a=Math.abs(t.y-r),s=e.width/2,l=e.height/2;return i>=s||a>=l},el=(e,t,n)=>{r.l.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let i=e.x,a=e.y,s=Math.abs(i-n.x),l=e.width/2,o=n.x<t.x?l-s:l+s,u=e.height/2,c=Math.abs(t.y-n.y),d=Math.abs(t.x-n.x);if(Math.abs(a-t.y)*l>Math.abs(i-t.x)*u){let e=n.y<t.y?t.y-u-a:a-u-t.y;o=d*e/c;let i={x:n.x<t.x?n.x+o:n.x-d+o,y:n.y<t.y?n.y+c-e:n.y-c+e};return 0===o&&(i.x=t.x,i.y=t.y),0===d&&(i.x=t.x),0===c&&(i.y=t.y),r.l.debug(`abc89 topp/bott calc, Q ${c}, q ${e}, R ${d}, r ${o}`,i),i}{let e=c*(o=n.x<t.x?t.x-l-i:i-l-t.x)/d,a=n.x<t.x?n.x+d-o:n.x-d+o,s=n.y<t.y?n.y+e:n.y-e;return r.l.debug(`sides calc abc89, Q ${c}, q ${e}, R ${d}, r ${o}`,{_x:a,_y:s}),0===o&&(a=t.x,s=t.y),0===d&&(a=t.x),0===c&&(s=t.y),{x:a,y:s}}},eo=(e,t)=>{r.l.debug("abc88 cutPathAtIntersect",e,t);let n=[],i=e[0],a=!1;return e.forEach(e=>{if(es(t,e)||a)i=e,a||n.push(e);else{let r=el(t,i,e),s=!1;n.forEach(e=>{s=s||e.x===r.x&&e.y===r.y}),n.some(e=>e.x===r.x&&e.y===r.y)||n.push(r),a=!0}}),n},eu=function(e,t,n,i,s,l,o){let u,c=n.points;r.l.debug("abc88 InsertEdge: edge=",n,"e=",t);let d=!1,h=l.node(t.v);var f=l.node(t.w);null!=f&&f.intersect&&null!=h&&h.intersect&&((c=c.slice(1,n.points.length-1)).unshift(h.intersect(c[0])),c.push(f.intersect(c[c.length-1]))),n.toCluster&&(r.l.debug("to cluster abc88",i[n.toCluster]),c=eo(n.points,i[n.toCluster].node),d=!0),n.fromCluster&&(r.l.debug("from cluster abc88",i[n.fromCluster]),c=eo(c.reverse(),i[n.fromCluster].node).reverse(),d=!0);let p=c.filter(e=>!Number.isNaN(e.y)),g=r.F;n.curve&&("graph"===s||"flowchart"===s)&&(g=n.curve);let{x:y,y:x}=Q(n),b=(0,a.l)().x(y).y(x).curve(g);switch(n.thickness){case"normal":u="edge-thickness-normal";break;case"thick":case"invisible":u="edge-thickness-thick";break;default:u=""}switch(n.pattern){case"solid":u+=" edge-pattern-solid";break;case"dotted":u+=" edge-pattern-dotted";break;case"dashed":u+=" edge-pattern-dashed"}let m=e.append("path").attr("d",b(p)).attr("id",n.id).attr("class"," "+u+(n.classes?" "+n.classes:"")).attr("style",n.style),k="";((0,r.g)().flowchart.arrowMarkerAbsolute||(0,r.g)().state.arrowMarkerAbsolute)&&(k=(k=(k=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),Z(m,n,k,o,s);let v={};return d&&(v.updatedPath=c),v.originalPath=n.points,v}}}]);