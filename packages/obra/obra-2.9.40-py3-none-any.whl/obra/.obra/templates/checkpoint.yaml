# Checkpoint Template
# Used by: Behavior 6 - Checkpoint Documentation
# Location: .obra/checkpoints/{session_id}_{timestamp}.yaml
#
# Create checkpoints:
# - After each Story/milestone completion
# - When context usage reaches 60%
# - Before risky operations
# - Every 30 minutes of active work

session_id: "SESSION_ID"              # Obra session ID (required)
timestamp: "YYYY-MM-DDTHH:MM:SSZ"     # ISO 8601 checkpoint time (required)
completed: "Story N - Story Title"    # Most recently completed milestone (required)
deliverables:                         # List of files created/modified (required)
  - path/to/file1.py
  - path/to/file2.py
  - tests/test_file.py
next_objective: "Story N+1 - Title"   # What should happen next (required)
context_usage: "NN%"                  # Estimated context consumption (required)
resume_command: "obra resume SESSION_ID"  # Command to resume session (required)
notes: |                              # Additional context for continuation (optional)
  Brief description of completed work.
  Key decisions made.
  Any important context for the next session.

# Example Checkpoint:
#
# session_id: "abc123"
# timestamp: "2025-12-20T15:00:00Z"
# completed: "Story 2 - Add JWT Authentication"
# deliverables:
#   - src/auth/jwt.py
#   - src/auth/middleware.py
#   - src/auth/models.py
#   - tests/test_jwt.py
#   - tests/test_auth_integration.py
# next_objective: "Story 3 - Add password reset with email verification"
# context_usage: "52%"
# resume_command: "obra resume abc123"
# notes: |
#   JWT implementation complete with RS256 signing.
#   Access tokens: 15 min expiry
#   Refresh tokens: 7 day expiry with rotation
#   All tests passing (12/12)
