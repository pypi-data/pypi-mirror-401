[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "molass"
version = "0.8.1"

dependencies = [
  "numpy",
  "scipy",
  "matplotlib",
  "tqdm",
  "pybaselines>=1.2.0",
  "molass_legacy>=0.5.0",
  "statsmodels",
  "scikit-learn",
  "toml",
  "psutil",
  "seaborn",
  "numba",
  "numba",
  "ruptures",
  "learnsaxs",
  "mrcfile",
]

requires-python = ">=3.12,<3.14"

authors = [
  {name = "Molass Community"},
]

maintainers = [
  {name = "Molass Community"}
]

description = "Matrix Optimization with Low-rank factorization for Automated analysis of SEC-SAXS"
readme = "README.md"
license = { text = "GNU General Public License v3.0" }

keywords = ["SEC-SAXS"]
classifiers = [
  "Development Status :: 2 - Pre-Alpha",
  "Programming Language :: Python",
  "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
]

[project.optional-dependencies]
excel = [
  "pywin32"
]
testing = [
  "pytest",
  "pytest-cov",
  "pytest-env",
  "pytest-order",
]

[project.urls]
Repository = "https://github.com/biosaxs-dev/molass-library"

[tool.pytest.ini_options]
python_files = ["test_*.py", "*_test.py", "*.py"]
pythonpath = [
  ".",
  "../molass-legacy",
]
env = [
    "MOLASS_ENABLE_PLOTS=false",
    "MOLASS_SAVE_PLOTS=false"
]
filterwarnings = [
    "ignore::SyntaxWarning",
    "ignore::DeprecationWarning",
    "ignore:.*non-interactive.*:UserWarning",
]

[tool.coverage.run]
branch = true
parallel = true
source = ["molass"]
concurrency = ["multiprocessing"]