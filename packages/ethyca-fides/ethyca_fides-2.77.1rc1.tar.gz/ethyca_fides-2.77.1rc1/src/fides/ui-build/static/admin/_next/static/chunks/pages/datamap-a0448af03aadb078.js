(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9738],{58095:function(e,t,n){var l=n(8817);e.exports=function(e,t){return!!(null==e?0:e.length)&&l(e,t,0)>-1}},21796:function(e){e.exports=function(e,t,n){for(var l=-1,r=null==e?0:e.length;++l<r;)if(n(t,e[l]))return!0;return!1}},8817:function(e,t,n){var l=n(95372),r=n(1129),i=n(58263);e.exports=function(e,t,n){return t==t?i(e,t,n):l(e,r,n)}},1129:function(e){e.exports=function(e){return e!=e}},92198:function(e,t,n){var l=n(52485),r=n(58095),i=n(21796),s=n(65581),o=n(47111),a=n(43735);e.exports=function(e,t,n){var d=-1,u=r,c=e.length,x=!0,h=[],f=h;if(n)x=!1,u=i;else if(c>=200){var g=t?null:o(e);if(g)return a(g);x=!1,u=s,f=new l}else f=t?[]:h;e:for(;++d<c;){var p=e[d],m=t?t(p):p;if(p=n||0!==p?p:0,x&&m==m){for(var j=f.length;j--;)if(f[j]===m)continue e;t&&f.push(m),h.push(p)}else u(f,m,n)||(f!==h&&f.push(m),h.push(p))}return h}},47111:function(e,t,n){var l=n(46151),r=n(50344),i=n(43735),s=l&&1/i(new l([,-0]))[1]==1/0?function(e){return new l(e)}:r;e.exports=s},58263:function(e){e.exports=function(e,t,n){for(var l=n-1,r=e.length;++l<r;)if(e[l]===t)return l;return -1}},50344:function(e){e.exports=function(){}},83766:function(e,t,n){var l=n(92198);e.exports=function(e){return e&&e.length?l(e):[]}},53910:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datamap",function(){return n(18839)}])},99811:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var l=n(27378);class r{updateTableInstance(e){this.tableInstance=e}constructor(e=null){this.tableInstance=e,this.updateTableInstance=this.updateTableInstance.bind(this)}}let i=l.createContext(new r);t.Z=i},18839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var l=n(24246),r=n(27378),i=n(45938),s=n(77213),o=n(58754),a=n(49617),d=n(65218),u=n.n(d),c=n(16134),x=n(35258),h=n(92222),f=n(59003),g=n(30002),p=n(28079),m=n(49600),j=n(99811);let v=e=>{var t;let{column:n}=e,{tableInstance:l}=(0,r.useContext)(j.Z),i=r.useMemo(()=>Array.from(n.getFacetedUniqueValues().keys()),[n]),s=r.useMemo(()=>{let e={};return i.forEach(t=>{e[t]=!1}),e},[i]);return{filterValue:null!==(t=n.getFilterValue())&&void 0!==t?t:s,clearFilterOptions:()=>{let e={};i.forEach(t=>{e[t]=!1}),n.setFilterValue(e)},toggleFilterOption:(e,t)=>{var r;let i={...null!==(r=n.getFilterValue())&&void 0!==r?r:s,[e]:t};Object.values(i).every(e=>!e)?null==l||l.setColumnFilters(null==l?void 0:l.getState().columnFilters.filter(e=>e.id!==n.id)):n.setFilterValue(i)},options:i,header:n.columnDef.header}};var y=n(57072);let w=(0,h.Cl)(),b={multifield:(e,t,n)=>n[e.original[t]]},C=()=>{let e=(0,c.T)(),{updateTableInstance:t}=(0,r.useContext)(j.Z),n=(0,c.C)(m.eo),{data:l,isLoading:i}=(0,m.Ex)({organizationName:"default_organization"});(0,y.MO)(),(0,p.fd)(),(0,g.te)();let s=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(l){let{columns:t,rows:n}=l;e((0,m.dd)(t)),s.current||(s.current=!0,0===n.length?e((0,m.ym)(!0)):e((0,m.ym)(!1)))}},[l,e]);let o=(0,r.useMemo)(()=>l?l.rows:[],[l]),a=(0,r.useMemo)(()=>(n||[]).map(e=>{let{text:t,value:n}=e;return w.accessor(e=>e[n],{id:n,header:t,cell:e=>{let{getValue:t}=e,n=t();return Array.isArray(n)?n.join(", "):n},filterFn:b.multifield})}),[n]),d=(0,f.b7)({columns:a,data:o,filterFns:b,getCoreRowModel:(0,h.sC)(),getFilteredRowModel:(0,h.vL)(),getFacetedRowModel:(0,h.o6)(),getFacetedUniqueValues:(0,h.JG)(),manualPagination:!0,columnResizeMode:"onChange"});return(0,r.useEffect)(()=>t(d),[d,t]),{...d,isLoading:i}};var k=n(83766),F=n.n(k),S=n(25980),I=n(46238),M=n(47935),O=n(22968);let _=e=>{var t,n,r;let{option:i,columnId:s,filterValue:o,toggleFilterOption:d}=e,u=(0,c.C)(y.L5),x=s===O.Ux&&null!==(n=null===(t=u.get(i))||void 0===t?void 0:t.name)&&void 0!==n?n:i;return(0,l.jsx)(a.XZJ,{value:i,width:"193px",height:"20px",mb:"25px",isChecked:null!==(r=o[i])&&void 0!==r&&r,onChange:e=>{let{target:t}=e;d(i,t.checked)},_focusWithin:{bg:"gray.100"},colorScheme:"complimentary",children:(0,l.jsx)(a.xvT,{fontSize:"sm",lineHeight:5,height:"20px",width:"170px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:x})},i)};var N=e=>{let{column:t}=e,{filterValue:n,toggleFilterOption:i,options:s}=v({column:t}),[o,d]=(0,r.useState)(!1),u=o?s:s.slice(0,15),c=s.length>15;return(0,l.jsx)(a.UQy,{width:"100%",allowToggle:!0,children:(0,l.jsxs)(a.Qdk,{border:"0px",children:[(0,l.jsx)(a.X6q,{height:"56px",children:(0,l.jsxs)(a.KFZ,{height:"100%",children:[(0,l.jsx)(a.xuv,{flex:"1",alignItems:"center",justifyContent:"center",textAlign:"left",children:t.columnDef.header}),(0,l.jsx)(a.XEm,{})]})}),(0,l.jsxs)(a.Hk3,{children:[(0,l.jsx)(a.MIq,{columns:3,children:u.map(e=>(0,l.jsx)(_,{columnId:t.id,option:e,filterValue:n,toggleFilterOption:i},e))}),!o&&c?(0,l.jsx)(a.wpx,{type:"text",onClick:()=>{d(!0)},children:"View more"}):null,o&&c?(0,l.jsx)(a.wpx,{type:"text",onClick:()=>{d(!1)},children:"View less"}):null]})]})},t.id)};let T=e=>{let{heading:t,children:n}=e;return(0,l.jsxs)(a.xuv,{padding:"24px 8px 8px 24px",children:[(0,l.jsx)(a.X6q,{size:"md",lineHeight:6,fontWeight:"bold",mb:2,children:t}),n]})};var V=e=>{let t,{isOpen:n,onClose:i}=e,{tableInstance:s}=(0,r.useContext)(j.Z),o=null==s?void 0:s.getHeaderGroups(),d=(e,t)=>e.filter(e=>e.id===t).map(e=>(0,l.jsx)(N,{column:e.column},t)),u=(0,r.useMemo)(()=>(null==o?void 0:o[0].headers)||[],[o]);return(0,l.jsxs)(a.u_l,{isOpen:n,onClose:i,isCentered:!0,size:"2xl",children:[(0,l.jsx)(a.ZAr,{}),(0,l.jsxs)(a.hzk,{children:[(0,l.jsx)(a.xBx,{children:"Filters"}),(0,l.jsx)(a.olH,{}),(0,l.jsx)(a.izJ,{}),(0,l.jsx)(a.fef,{maxH:"85vh",padding:"0px",overflowX:"auto",children:(t=[O.vy,O.Ux,O.OL],u.some(e=>t.indexOf(e.id)>-1))?(0,l.jsxs)(T,{heading:"Privacy attributes",children:[d(u,O.vy),d(u,O.Ux),d(u,O.OL)]}):null}),(0,l.jsx)(a.mzw,{children:(0,l.jsxs)(a.xuv,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,l.jsx)(a.wpx,{onClick:()=>{null==s||s.resetColumnFilters()},className:"mr-3 grow",children:"Reset Filters"}),(0,l.jsx)(a.wpx,{onClick:i,type:"primary",className:"grow",children:"Done"})]})})]})]})};let Z=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,a.qY0)();return{isFilterModalOpen:e,onFilterModalOpen:t,onFilterModalClose:n}};var z=()=>{let{isFilterModalOpen:e,onFilterModalOpen:t,onFilterModalClose:n}=Z(),{tableInstance:i}=(0,r.useContext)(j.Z),{systemsCount:s,dictionaryService:o}=(0,S.hz)(),d=null==i?void 0:i.getRowModel(),u=(0,r.useMemo)(()=>{let e=(null==d?void 0:d.rows)||[];return F()(null==e?void 0:e.map(e=>e.original["system.fides_key"]))},[d]);if(!i)return null;let c=u.length,x=i.getState().columnFilters.length;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.kCb,{justifyContent:"flex-end",flexDirection:"row",alignItems:"center",flexWrap:"wrap",rowGap:4,columnGap:4,children:[(0,l.jsx)(a.kCb,{flexGrow:1,children:(0,l.jsx)(M.HO,{globalFilter:i.getState().globalFilter,setGlobalFilter:i.setGlobalFilter})}),(0,l.jsxs)(a.kCb,{children:[s>0?(0,l.jsxs)(a.kCb,{alignItems:"center",borderRadius:"md",gap:1,marginRight:4,children:[(0,l.jsxs)(a.xvT,{fontSize:"xs",children:[c," of ",s," systems displayed"]}),o?(0,l.jsx)(I.b,{label:"Note that Global Vendor List (GVL) and Additional Consent (AC) systems are not currently included in these reports"}):null]}):null,(0,l.jsxs)(a.wpx,{"aria-label":"Open Filter Settings",onClick:t,children:["Filter",x>0?(0,l.jsx)(a.j8w,{className:"ml-2",children:x}):null]})]})]}),(0,l.jsx)(V,{isOpen:e,onClose:n})]})},E=n(38943),R=n(77830),G=()=>(0,l.jsx)(a.M5Y,{flex:1,"data-testid":"get-started-modal",backgroundColor:"gray.100",children:(0,l.jsx)(a.xuv,{backgroundColor:"white",p:10,borderRadius:"6px",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.06)",maxWidth:{base:"80%",lg:"60%",xl:"50%"},maxHeight:"90%",textAlign:"center",children:(0,l.jsxs)(a.Kqy,{spacing:4,children:[(0,l.jsx)(a.xvT,{color:"gray.700",fontWeight:"600",children:"Privacy engineering can seem like an endlessly complex confluence of legal and data engineering terminology—fear not—Fides is here to simplify this."}),(0,l.jsx)(a.xvT,{children:"Start by scanning your infrastructure. The scanner will connect to your infrastructure to automatically scan and create a list of all systems available and then classify each system containing PII."}),(0,l.jsx)(a.xvT,{children:"Let's get started!"}),(0,l.jsx)(a.xuv,{children:(0,l.jsx)(a.wpx,{href:R.xo,role:"link",type:"primary",className:"w-fit","data-testid":"add-systems-btn",children:"Add Systems"})})]})})});let A=u()(()=>Promise.all([n.e(105),n.e(1096),n.e(454),n.e(1533),n.e(2088),n.e(4259),n.e(1975)]).then(n.bind(n,34849)),{loadableGenerated:{webpack:()=>[34849]},ssr:!1,loading:()=>(0,l.jsx)(a.M5Y,{width:"100%",flex:"1",children:(0,l.jsx)(a.$jN,{})})}),P=()=>{let e=(0,c.C)(E.Xt),{attemptAction:t}=(0,i.oI)(),[n,l]=(0,r.useState)(),s=(0,r.useCallback)(e=>{t().then(t=>{t&&l(e)})},[t,l]),o=(0,r.useCallback)(()=>{t().then(e=>{e&&n&&l(void 0)})},[t,n]);return{isGettingStarted:e,selectedSystemId:n,setSelectedSystemId:s,resetSelectedSystemId:o}};var H=()=>{let{isGettingStarted:e,setSelectedSystemId:t,selectedSystemId:n,resetSelectedSystemId:r}=P(),{isLoading:i}=C();return i?(0,l.jsx)(a.M5Y,{width:"100%",flex:"1",children:(0,l.jsx)(a.$jN,{})}):e?(0,l.jsx)(G,{}):(0,l.jsxs)(a.kCb,{direction:"column",height:"100%",children:[(0,l.jsx)(a.xuv,{marginBottom:3,marginRight:10,children:(0,l.jsx)(z,{})}),(0,l.jsxs)(a.kCb,{position:"relative",flex:1,direction:"row",overflow:"auto",borderWidth:"1px",borderStyle:"solid",borderColor:"gray.200",children:[(0,l.jsx)(a.xuv,{flex:1,minWidth:"50%",maxWidth:"100%",children:(0,l.jsx)(A,{setSelectedSystemId:t,selectedSystemId:n})}),(0,l.jsx)(x.Z,{selectedSystemId:n,resetSelectedSystemId:r})]})]})},L=()=>{let e=(0,r.useMemo)(()=>new j.m,[]);return(0,l.jsxs)(s.Z,{title:"Data lineage",mainProps:{padding:"24px 0 0 40px"},children:[(0,l.jsx)(o.Z,{style:{paddingLeft:0},heading:"Data lineage"}),(0,l.jsxs)(j.Z.Provider,{value:e,children:[(0,l.jsx)(H,{}),(0,l.jsx)(i.eB,{})]})]})}}},function(e){e.O(0,[431,7245,7476,7218,3680,2888,9774,179],function(){return e(e.s=53910)}),_N_E=e.O()}]);