(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1850],{75733:function(e){e.exports=function(e,n,t){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),(t=t>s?s:t)<0&&(t+=s),s=n>t?0:t-n>>>0,n>>>=0;for(var r=Array(s);++i<s;)r[i]=e[i+n];return r}},57535:function(e,n,t){var i=t(85638),s=t(80068),r=t(42383),o=t(11611);e.exports=function(e,n,t){if(!o(t))return!1;var a=typeof n;return("number"==a?!!(s(t)&&r(n,t.length)):"string"==a&&n in t)&&i(t[n],e)}},92875:function(e,n,t){var i=t(75733),s=t(57535),r=t(47991),o=Math.ceil,a=Math.max;e.exports=function(e,n,t){n=(t?s(e,n,t):void 0===n)?1:a(r(n),0);var l=null==e?0:e.length;if(!l||n<1)return[];for(var c=0,d=0,u=Array(o(l/n));c<l;)u[d++]=i(e,c,c+=n);return u}},94919:function(e,n,t){var i=t(91936),s=1/0;e.exports=function(e){return e?(e=i(e))===s||e===-s?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,n,t){var i=t(94919);e.exports=function(e){var n=i(e),t=n%1;return n==n?t?n-t:n:0}},98720:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection",function(){return t(22285)}])},77867:function(e,n,t){"use strict";var i=t(24246),s=t(49617);n.Z=e=>{let{connected:n,...t}=e,r="red.500";return null==n?r="gray.300":n&&(r="green.500"),(0,i.jsx)(s.xuv,{width:"12px",height:"12px",borderRadius:"6px",backgroundColor:r,...t})}},77213:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i=t(24246),s=t(49617),r=t(88038),o=t.n(r),a=t(86677);t(27378);var l=t(25980),c=t(90867),d=t(42478),u=t(77830),g=()=>{let e=(0,a.useRouter)();return(0,i.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(s.xuv,{children:[(0,i.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(s.wpx,{onClick:()=>{e.push(u.AD)},children:"Configure"})]}),(0,i.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},x=e=>{let{children:n,title:t,padded:r=!0,mainProps:u}=e,x=(0,l.hz)(),h=(0,a.useRouter)(),m="/privacy-requests"===h.pathname||"/datastore-connection"===h.pathname,p=!(x.flags.messagingConfiguration&&m),{data:f}=(0,d.JE)(void 0,{skip:p}),{data:y}=(0,c.PW)(void 0,{skip:p}),v=x.flags.messagingConfiguration&&(!f||!y)&&m;return(0,i.jsxs)(s.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,i.jsxs)(o(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(s.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...u,children:[v?(0,i.jsx)(g,{}):null,n]})]})}},58754:function(e,n,t){"use strict";var i=t(24246),s=t(49617),r=t(70788);n.Z=e=>{let{heading:n,breadcrumbItems:t,isSticky:o=!0,children:a,rightContent:l,style:c,...d}=e;return(0,i.jsxs)("div",{...d,style:o?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,i.jsxs)(s.jqI,{justify:"space-between",children:["string"==typeof n?(0,i.jsx)(s.lQT,{className:t||a?"pb-4":void 0,level:1,"data-testid":"page-heading",children:n}):n,l&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!t&&(0,i.jsx)(r.m,{className:a?"pb-4":void 0,items:t,"data-testid":"page-breadcrumb"}),a]})}},96718:function(e,n,t){"use strict";t.d(n,{z:function(){return r}});var i=t(24246),s=t(49617);let r=e=>{let{...n}=e;return(0,i.jsx)(s.WPr,{defaultActiveFirstOption:!1,maxTagCount:"responsive",allowClear:!0,styles:n.mode?void 0:{popup:{root:{width:"auto",minWidth:"200px"}}},className:"w-auto","data-testid":"filter-select",...n})}},70788:function(e,n,t){"use strict";t.d(n,{m:function(){return c}});var i=t(24246),s=t(49617),r=t(79894),o=t.n(r),a=t(27378);let{Text:l}=s.AntTypography,c=e=>{let{items:n,...t}=e,r=(0,a.useMemo)(()=>null==n?void 0:n.map((e,t)=>{let r=t===n.length-1,a={...e},c=a.onClick&&!a.href;return("string"==typeof a.title&&(a.title=(0,i.jsx)(l,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:a.title})),c)?a.title=(0,i.jsx)(s.wpx,{type:"text",size:"small",icon:a.icon,onClick:a.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:a.title}):(a.icon&&(a.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:a.icon}),a.title]})),a.href&&a.title&&(a.title=(0,i.jsx)(o(),{href:a.href,className:"ant-breadcrumb-link",children:a.title}),delete a.href)),a}),[n]);return(0,i.jsx)(s.zrq,{items:r,...t})}},41337:function(e,n,t){"use strict";t.d(n,{AZ:function(){return m},Br:function(){return f},El:function(){return h},PT:function(){return p},hY:function(){return s}});var i,s,r=t(24246),o=t(49617),a=t(27378),l=t(88337),c=t(16394),d=t(9934),u=t.n(d),g=t(14746);(i=s||(s={})).CONNECTION="connection",i.SYSTEM="system",i.STATIC="static";let x=e=>{var n,t,i,s,r,o;return{kind:"connection",connectionType:e.connection_type,name:null!==(i=e.name)&&void 0!==i?i:null,key:null!==(s=e.key)&&void 0!==s?s:null,saasType:null!==(r=null===(n=e.saas_config)||void 0===n?void 0:n.type)&&void 0!==r?r:null,websiteUrl:null!==(o=null===(t=e.secrets)||void 0===t?void 0:t.url)&&void 0!==o?o:null}},h=e=>x(e),m=e=>x(e),p=e=>{var n;return{kind:"system",identifier:e.identifier,humanReadable:e.human_readable,encodedIcon:null!==(n=e.encoded_icon)&&void 0!==n?n:null}},f=e=>({kind:"static",key:e}),y=e=>e===l.R.WEBSITE||e===l.R.TEST_WEBSITE,v=e=>{if(e)return g.LN.get(e)},j=e=>{if(!e)return;if(e.startsWith("data:")||e.startsWith("http"))return e;let n=e.endsWith(".svg")?e:"".concat(e,".svg");return g.Ny+n},C=(e,n)=>{if("system"===e.kind){if(e.encodedIcon)return"data:image/svg+xml;base64,".concat(e.encodedIcon);let n=[...g.iW].find(n=>{let[t]=n;return t.toLowerCase()===e.identifier.toLowerCase()});return n?g.Ny+n[1]:void 0}if("connection"===e.kind){if(y(e.connectionType)){if(!e.websiteUrl)return;let t=(0,c.ge)(e.websiteUrl);return(0,c.Ms)(t,(null!=n?n:32)*2)}if(e.connectionType===l.R.SAAS){let n=v(e.saasType);if(n)return g.Ny+n}let t=g.iW.get(e.connectionType);return t?g.Ny+t:void 0}if(e.key)return j(e.key)},b=e=>{if("connection"===e.kind){var n,t;return null!==(t=null!==(n=e.name)&&void 0!==n?n:e.key)&&void 0!==t?t:"connection"}return"system"===e.kind?e.humanReadable:e.key||"connection"},w=(e,n)=>"connection"===e.kind&&y(e.connectionType)?(0,r.jsx)(o.PJP.huD,{size:n}):(0,r.jsx)(o.PJP.ehp,{size:n});n.ZP=e=>{let{data:n,size:t,...i}=e,s=(0,a.useMemo)(()=>C(n,t),[n,t]),l=(0,a.useMemo)(()=>w(n,null!=t?t:32),[n,t]),c=(0,a.useMemo)(()=>b(n),[n]);return n?(0,r.jsx)(o.t3Z,{shape:"square",src:s,size:null!=t?t:32,icon:l,alt:c,...i,className:i.className?"".concat(i.className," ").concat(u().connectionTypeLogo):u().connectionTypeLogo}):null}},1226:function(e,n,t){"use strict";var i=t(24246);t(27378);var s=t(77213);n.Z=e=>{let{children:n}=e;return(0,i.jsx)(s.Z,{title:"Connections",children:n})}},15872:function(e,n,t){"use strict";var i=t(24246),s=t(49617),r=t(86677);t(27378);var o=t(77830),a=t(14207);n.Z=e=>{let{connection_key:n,showMenu:t}=e,{isOpen:l,onOpen:c,onClose:d}=(0,s.qY0)(),[u,g]=(0,a.R5)(),x=(0,r.useRouter)(),h=()=>{g.isLoading||d()};return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(s.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:c,children:(0,i.jsx)(s.xvT,{fontSize:"sm",children:"Delete"})}),!t&&(0,i.jsx)(s.wpx,{onClick:c,children:"Delete integration"}),(0,i.jsxs)(s.u_l,{isCentered:!0,isOpen:l,onClose:h,children:[(0,i.jsx)(s.ZAr,{}),(0,i.jsxs)(s.hzk,{children:[(0,i.jsx)(s.xBx,{children:"Delete integration"}),(0,i.jsx)(s.olH,{}),(0,i.jsx)(s.fef,{pb:6,children:(0,i.jsx)(s.Kqy,{direction:"column",spacing:"15px",children:(0,i.jsx)(s.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:"Deleting an integration may impact any privacy request that is currently in progress. Do you wish to proceed?"})})}),(0,i.jsxs)(s.mzw,{className:"flex gap-4",children:[(0,i.jsx)(s.wpx,{onClick:h,className:"w-1/2",children:"Cancel"}),(0,i.jsx)(s.wpx,{onClick:()=>{n&&(u(n),t||x.push(o.KH))},loading:g.isLoading,type:"primary",className:"w-1/2",children:"Delete integration"})]})]})]})]})}},73183:function(e,n,t){"use strict";var i=t(24246),s=t(49617);t(27378);var r=t(14207);n.Z=e=>{let{connection_key:n,disabled:t,name:o,access_type:a,connection_type:l,isSwitch:c}=e,{isOpen:d,onOpen:u,onClose:g}=(0,s.qY0)(),[x,h]=(0,r.XX)(),m=async()=>{await x({key:n,name:o,disabled:!t,access:a,connection_type:l}),g()},p=()=>{h.isLoading||g()};return(0,i.jsxs)(i.Fragment,{children:[c?(0,i.jsxs)(s.kCb,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(s.xvT,{fontSize:"sm",children:"Enable integration"}),(0,i.jsx)(s.rAg,{className:"ml-2",checked:!t,onChange:()=>u()})]}):(0,i.jsx)(s.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:u,children:(0,i.jsx)(s.xvT,{fontSize:"sm",children:t?"Enable":"Disable"})}),(0,i.jsxs)(s.u_l,{isCentered:!0,isOpen:d,onClose:p,children:[(0,i.jsx)(s.ZAr,{}),(0,i.jsxs)(s.hzk,{children:[(0,i.jsxs)(s.xBx,{children:[t?"Enable":"Disable"," Connection"]}),(0,i.jsx)(s.olH,{}),(0,i.jsx)(s.fef,{pb:6,children:(0,i.jsx)(s.Kqy,{direction:"column",spacing:"15px",children:(0,i.jsxs)(s.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:[t?"Enabling":"Disabling"," a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"]})})}),(0,i.jsxs)(s.mzw,{className:"flex gap-4",children:[(0,i.jsx)(s.wpx,{onClick:p,className:"w-1/2",children:"Cancel"}),(0,i.jsxs)(s.wpx,{onClick:m,loading:h.isLoading,className:"w-1/2",children:[t?"Enable":"Disable"," Connection"]})]})]})]})]})}},8627:function(e,n,t){"use strict";t.d(n,{s:function(){return a}});var i=t(24246),s=t(49617),r=t(77867),o=t(16394);let a=e=>{let{succeeded:n,timestamp:t}=e,a=t?(0,o.p6)(t):"";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{connected:n}),(0,i.jsx)(s.xvT,{color:"gray.500",fontSize:"xs",fontWeight:"semibold",lineHeight:"16px",ml:"10px",children:t?"Last tested on ".concat(a):"This connection has not been tested yet"})]})}},42478:function(e,n,t){"use strict";t.d(n,{FU:function(){return c},JE:function(){return s},Ki:function(){return u},SU:function(){return g},W:function(){return x},h9:function(){return r},jc:function(){return i},qt:function(){return l},sn:function(){return d}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:s,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:o,useGetMessagingConfigurationDetailsQuery:a,useGetMessagingConfigurationsQuery:l,useGetMessagingConfigurationByKeyQuery:c,useUpdateMessagingConfigurationByKeyMutation:d,useUpdateMessagingConfigurationSecretsByKeyMutation:u,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:x}=t(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,n,t,i)=>{let s=await i({url:"messaging/default/active"});return s.error&&404===s.error.status?{data:null}:s},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},22285:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return K}});var i=t(24246),s=t(16394),r=t(49617),o=t(27378),a=t(16134),l=t(20682),c=t(16125),d=t(14207),u=t(96718),g=()=>{let{connectionOptions:e}=(0,a.C)(l.ZZ),{connection_type:n}=(0,a.C)(d.dR),t=(0,o.useCallback)(()=>{let t=new Map;return e.forEach(e=>{let i=!1;(null==n?void 0:n.includes(e.identifier))&&(i=!0),t.set(e.human_readable,i)}),t},[e,n]),s=[...(0,o.useMemo)(()=>t(),[t])].map(e=>{let[n]=e;return{value:n,label:n}}),r=(0,a.T)();return(0,i.jsx)(u.z,{mode:"multiple",placeholder:"Connection Type",options:s,onChange:n=>{let t=e.filter(e=>n.includes(e.human_readable));r((0,d.Iw)(t.map(e=>e.identifier)))},defaultValue:(null==n?void 0:n.length)?n:[],className:"w-60","data-testid":"connection-type-filter"})},x=t(14746),h=()=>{let{disabled_status:e}=(0,c.v9)(d.dR),n=()=>{let e=new Map;return Object.values(x.QI).sort().forEach(n=>{e.set((0,s.kC)(n),{value:n})}),e},t=[...(0,o.useMemo)(()=>n(),[])].map(e=>{let[n,t]=e;return{value:t.value,label:n}}),r=(0,c.I0)();return(0,i.jsx)(u.z,{placeholder:"Status",options:t,onChange:e=>{r((0,d.Ru)(e||""))},defaultValue:(null==e?void 0:e.toString())||void 0,"data-testid":"disabled-status-filter"})},m=t(26788),p=()=>{let{system_type:e}=(0,c.v9)(d.dR),n=new Map(m.yI);n.delete("Show all");let t=[...n].map(e=>{let[n,t]=e;return{value:t.value,label:n}}),s=(0,a.T)();return(0,i.jsx)(u.z,{placeholder:"System Type",options:t,onChange:e=>{s((0,d.zq)(e||""))},defaultValue:(null==e?void 0:e.toString())||void 0,"data-testid":"system-type-filter"})},f=()=>{let{test_status:e}=(0,c.v9)(d.dR),n=()=>{let e=new Map;return Object.values(x.i0).sort().forEach(n=>{e.set((0,s.kC)(n),{value:n})}),e},t=[...(0,o.useMemo)(()=>n(),[])].map(e=>{let[n,t]=e;return{value:t.value,label:n}}),r=(0,c.I0)();return(0,i.jsx)(u.z,{placeholder:"Testing Status",options:t,onChange:e=>{r((0,d.Ri)(e||""))},defaultValue:(null==e?void 0:e.toString())||void 0,"data-testid":"testing-status-filter"})};let y=()=>{let e=(0,c.v9)(d.dR),n=(0,c.I0)();return{handleSearchChange:e=>n((0,d.qP)(e.target.value)),...e}};var v=()=>{let{handleSearchChange:e,search:n}=y();return(0,i.jsxs)(r.kCb,{minWidth:"fit-content",alignItems:"center",gap:"4",mb:6,flexWrap:"wrap",children:[(0,i.jsxs)(r.BZy,{size:"sm",minWidth:"308px",children:[(0,i.jsx)(r.Z8_,{pointerEvents:"none",children:(0,i.jsx)(r.PTu,{color:"gray.300",w:"17px",h:"17px"})}),(0,i.jsx)(r.IIB,{autoComplete:"off",autoFocus:!0,type:"search",minWidth:200,placeholder:"Search connection name or description",size:"sm",borderRadius:"md",value:n,name:"search",onChange:e})]}),(0,i.jsx)(g,{}),(0,i.jsx)(p,{}),(0,i.jsx)(f,{}),(0,i.jsx)(h,{})]})},j=e=>{let{page:n,size:t,total:s,handleNextPage:o,handlePreviousPage:a}=e,l=(n-1)*t+1,c=Math.min(s,n*t);return(0,i.jsxs)(r.kCb,{justifyContent:"space-between",mt:6,children:[(0,i.jsx)(r.xvT,{fontSize:"xs",color:"gray.600",children:s>0?(0,i.jsxs)(i.Fragment,{children:["Showing ",Number.isNaN(l)?0:l," to"," ",Number.isNaN(c)?0:c," of"," ",Number.isNaN(s)?0:s," results"]}):"0 results"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.wpx,{disabled:n<=1,onClick:a,className:"mr-2",children:"Previous"}),(0,i.jsx)(r.wpx,{disabled:n*t>=s,onClick:o,children:"Next"})]})]})},C=t(92875),b=t.n(C),w=t(40542),T=t.n(w),k=t(79894),_=t.n(k),N=t(77830),S=t(15872),M=t(73183),z=e=>{let{connection_key:n,disabled:t,connection_type:s,access_type:o,name:a}=e;return(0,i.jsxs)(r.v2r,{children:[(0,i.jsx)(r.j2t,{as:r.zxk,size:"xs",bg:"white","data-testid":"connection-menu-btn",children:(0,i.jsx)(r.nXP,{color:"gray.700",w:18,h:18})}),(0,i.jsx)(r.h_i,{children:(0,i.jsxs)(r.qyq,{fontSize:"sm",shadow:"xl","data-testid":"connection-menu-".concat(a),children:[(0,i.jsx)(r.sNh,{as:_(),href:"".concat(N.JR,"/").concat(encodeURIComponent(n)),_focus:{color:"complimentary.500",bg:"gray.100"},"data-testid":"configure-btn",children:"Configure"}),(0,i.jsx)(M.Z,{connection_key:n,disabled:t,connection_type:s,access_type:o,name:a,isSwitch:!1}),(0,i.jsx)(S.Z,{showMenu:!0,connection_key:n})]})})]})},E=e=>{let{disabled:n}=e;return(0,i.jsx)(r.j8w,{color:n?"marble":"success",className:"mr-1 text-center",children:n?"DISABLED":"ACTIVE"})},q=t(41337),P=t(8627),I=e=>{var n;let{connectionData:t}=e,[c,u]=(0,d.h2)(),{connectionOptions:g}=(0,a.C)(l.ZZ),x=(0,o.useMemo)(()=>{let e=g.find(e=>e.identifier===t.connection_type||t.saas_config&&e.identifier===t.saas_config.type);return e?(0,q.PT)(e):(0,q.El)(t)},[t,g]);return(0,i.jsxs)(r.xuv,{width:"100%",height:136,p:"18px 16px 16px 16px","data-testid":"connection-grid-item-".concat(t.name),children:[(0,i.jsxs)(r.kCb,{justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(q.ZP,{data:x}),(0,i.jsx)(r.xvT,{color:"gray.900",fontSize:"md",fontWeight:"medium",m:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:t.name}),(0,i.jsx)(r.LZC,{}),(0,i.jsx)(E,{disabled:!!t.disabled}),(0,i.jsx)(z,{connection_key:t.key,disabled:!!t.disabled,name:null!==(n=t.name)&&void 0!==n?n:t.key,connection_type:t.connection_type,access_type:t.access})]}),(0,i.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:t.description?t.description:(0,i.jsx)("br",{})}),(0,i.jsxs)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:["Edited on ",(0,s.p6)(t.updated_at)]}),(0,i.jsxs)(r.kCb,{mt:"0px",justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(P.s,{succeeded:t.last_test_succeeded,timestamp:t.last_test_timestamp||""}),(0,i.jsx)(r.LZC,{}),(0,i.jsx)(r.wpx,{size:"small",onClick:()=>{c(t.key)},loading:u.isLoading||u.isFetching,children:"Test"})]})]})};let Z=()=>{let e=(0,c.I0)(),n=(0,a.C)(d.dR);return{...n,handleNextPage:()=>{e((0,d.YA)(n.page+1))},handlePreviousPage:()=>{e((0,d.YA)(n.page-1))}}};var R=e=>{let{items:n=[],total:t=0}=e,{page:s,size:o,handleNextPage:a,handlePreviousPage:l}=Z(),c=b()(n,3);return(0,i.jsxs)(i.Fragment,{children:[c.map((e,n,t)=>{let{length:s}=t;return(0,i.jsx)(r.xuv,{className:T()["grid-row"],borderBottomWidth:s>1&&n===s-1&&3===e.length?"0.5px":void 0,"data-testid":"connection-grid",children:(0,i.jsx)(r.MIq,{columns:3,children:e.map(e=>(0,i.jsx)(r.xuv,{className:T()["grid-item"],children:(0,i.jsx)(I,{connectionData:e})},e.key))})},JSON.stringify(e))}),(0,i.jsx)(j,{page:s,size:o,total:t,handleNextPage:a,handlePreviousPage:l})]})},W=e=>{let{hasFilters:n}=e;return(0,i.jsxs)(r.kCb,{bg:"gray.50",width:"100%",height:"340px",justifyContent:"center",alignItems:"center",flexDirection:"column","data-testid":"connections-empty-state",children:[(0,i.jsx)(r.xvT,{color:"black",fontSize:"x-large",lineHeight:"32px",fontWeight:"600",mb:"7px",children:n?"No connections found":"All of your connections have been linked!"}),(0,i.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",lineHeight:"20px",mb:"11px",children:n?"Modify your search parameters":"You are ready to upgrade Fides"})]})},A=t(25980),D=t(58754),L=t(86677),B=()=>{let e=(0,L.useRouter)();return(0,i.jsx)(r.wpx,{onClick:()=>e.push(m.Ss[1].href),type:"primary",children:"Create new connection"})},F=()=>{let e=(0,A.hz)();return(0,i.jsx)(D.Z,{heading:"Unlinked Connections",rightContent:e.flags.standaloneConnections&&(0,i.jsx)(B,{}),children:(0,i.jsx)(r.xuv,{maxWidth:"450px",children:(0,i.jsxs)(r.xvT,{fontSize:"sm",children:["Connections are now created in the"," ",(0,i.jsx)(r.rUS,{color:"complimentary.500",href:N.xo,children:"system configuration"})," ","section. You can link existing connections to a new or existing system."]})})})},O=()=>{var e;let n=(0,o.useRef)(!1),t=(0,a.T)(),{connectionOptions:c}=(0,a.C)(l.ZZ),u=(0,a.C)(d.dR),[g,x]=(0,o.useState)(u),h=(0,o.useRef)((0,s.Ds)(e=>x(e),250)),{data:m}=(0,l.$I)({search:""},{skip:c.length>0}),{data:p,isFetching:f,isLoading:y,isSuccess:j}=(0,d.AZ)(g),C=(null==p?void 0:null===(e=p.items)||void 0===e?void 0:e.length)>0,b=!!u.search||!!u.connection_type||!!u.system_type||!!u.disabled_status||!!u.test_status;return(0,o.useEffect)(()=>{t((0,d.um)(!0))},[t]),(0,o.useEffect)(()=>(n.current=!0,0===c.length&&(null==m?void 0:m.items)&&t((0,l.fP)(m.items)),h.current(u),()=>{n.current=!1}),[c.length,null==m?void 0:m.items,t,u]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F,{}),n.current&&(0,i.jsx)(v,{}),(f||y)&&(0,i.jsx)(r.M5Y,{children:(0,i.jsx)(r.$jN,{})}),n.current&&j&&(C?(0,i.jsx)(R,{items:null==p?void 0:p.items,total:null==p?void 0:p.total}):(0,i.jsx)(W,{hasFilters:b}))]})},H=t(1226),K=()=>(0,i.jsx)(H.Z,{children:(0,i.jsx)(O,{})})},9934:function(e){e.exports={connectionTypeLogo:"ConnectionTypeLogo_connectionTypeLogo__dOKpm"}},40542:function(e){e.exports={"grid-row":"ConnectionGrid_grid-row__Cv_Zf","grid-item":"ConnectionGrid_grid-item__xP7eK"}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=98720)}),_N_E=e.O()}]);