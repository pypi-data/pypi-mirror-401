"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{77213:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(24246),a=n(49617),r=n(88038),o=n.n(r),s=n(86677);n(27378);var u=n(25980),l=n(90867),d=n(42478),c=n(77830),g=()=>{let e=(0,s.useRouter)();return(0,i.jsx)(a.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(a.xuv,{children:[(0,i.jsxs)(a.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(a.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(a.wpx,{onClick:()=>{e.push(c.AD)},children:"Configure"})]}),(0,i.jsxs)(a.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},T=e=>{let{children:t,title:n,padded:r=!0,mainProps:c}=e,T=(0,u.hz)(),y=(0,s.useRouter)(),m="/privacy-requests"===y.pathname||"/datastore-connection"===y.pathname,E=!(T.flags.messagingConfiguration&&m),{data:f}=(0,d.JE)(void 0,{skip:E}),{data:p}=(0,l.PW)(void 0,{skip:E}),_=T.flags.messagingConfiguration&&(!f||!p)&&m;return(0,i.jsxs)(a.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(o(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(a.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[_?(0,i.jsx)(g,{}):null,t]})]})}},58754:function(e,t,n){var i=n(24246),a=n(49617),r=n(70788);t.Z=e=>{let{heading:t,breadcrumbItems:n,isSticky:o=!0,children:s,rightContent:u,style:l,...d}=e;return(0,i.jsxs)("div",{...d,style:o?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...l}:{paddingBottom:"24px",...l},children:[(0,i.jsxs)(a.jqI,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(a.lQT,{className:n||s?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,u&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:u})]}),!!n&&(0,i.jsx)(r.m,{className:s?"pb-4":void 0,items:n,"data-testid":"page-breadcrumb"}),s]})}},19904:function(e,t,n){n.d(t,{Tg:function(){return o}});var i=n(24246),a=n(16134),r=n(31793);let o=e=>(0,a.C)(r.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return o(t)?(0,i.jsx)(i.Fragment,{children:n}):null}},20987:function(e,t,n){var i,a,r,o;n.d(t,{H:function(){return i},J:function(){return a}}),(r=i||(i={})).STRING="string",r.STRING_ARRAY="string[]",(o=a||(a={})).SYSTEM="system",o.DATA_USE="data use",o.DATA_CATEGORY="data category",o.DATA_SUBJECT="data subject",o.PRIVACY_DECLARATION="privacy declaration"},70788:function(e,t,n){n.d(t,{m:function(){return l}});var i=n(24246),a=n(49617),r=n(79894),o=n.n(r),s=n(27378);let{Text:u}=a.AntTypography,l=e=>{let{items:t,...n}=e,r=(0,s.useMemo)(()=>null==t?void 0:t.map((e,n)=>{let r=n===t.length-1,s={...e},l=s.onClick&&!s.href;return("string"==typeof s.title&&(s.title=(0,i.jsx)(u,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:s.title})),l)?s.title=(0,i.jsx)(a.wpx,{type:"text",size:"small",icon:s.icon,onClick:s.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:s.title}):(s.icon&&(s.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:s.icon}),s.title]})),s.href&&s.title&&(s.title=(0,i.jsx)(o(),{href:s.href,className:"ant-breadcrumb-link",children:s.title}),delete s.href)),s}),[t]);return(0,i.jsx)(a.zrq,{items:r,...n})}},8917:function(e,t,n){n.d(t,{P3:function(){return u},TY:function(){return s},Uv:function(){return a},uP:function(){return o}});var i,a,r=n(20987);let o=new Map([[r.J.SYSTEM,"system:information"],[r.J.DATA_USE,"taxonomy:data use"],[r.J.DATA_CATEGORY,"taxonomy:data category"],[r.J.DATA_SUBJECT,"taxonomy:data subject"],[r.J.PRIVACY_DECLARATION,"system:data use"]]);(i=a||(a={})).SINGLE_SELECT="singleSelect",i.MULTIPLE_SELECT="multipleSelect",i.OPEN_TEXT="openText";let s=[{label:"Single select",value:"singleSelect"},{label:"Multiple select",value:"multipleSelect"},{label:"Open text",value:"openText"}],u={singleSelect:"Single-value select",multipleSelect:"Multi-value select",openText:"Open text"}},67522:function(e,t,n){var i=n(56141),a=n.n(i),r=n(20987),o=n(812),s=n(8917),u=n(32885);let l=()=>Date.now().toString()+Math.random().toString(),d=e=>e.startsWith("taxonomy:")?e.split(":",2)[1]:"system:information"===e?"system":"system:data use"===e?"privacy declaration":e;t.Z=()=>{let[e,{isLoading:t}]=(0,u.Ld)(),[n,{isLoading:i}]=(0,u.yM)(),[c]=(0,u.Nt)();return{createOrUpdate:async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,g=d(t.resource_type);if(t.field_type===s.Uv.OPEN_TEXT){let a={...t,field_type:r.H.STRING,id:i?i.id:void 0,resource_type:g};return i?await n(a):await e(a)}if(t.field_type===s.Uv.SINGLE_SELECT||t.field_type===s.Uv.MULTIPLE_SELECT){var T,y;let d;if(!i){let{options:n,...i}=t,a={name:l(),allowed_values:null!=n?n:[]},u=await c(a);if((0,o.D4)(u))return u;let d={...i,field_type:t.field_type===s.Uv.SINGLE_SELECT?r.H.STRING:r.H.STRING_ARRAY,allow_list_id:null===(T=u.data)||void 0===T?void 0:T.id,resource_type:g};return await e(d)}let{options:m,...E}=t;if(!a()(null==u?void 0:u.allowed_values,m)){let e={...u,name:null!==(y=null==u?void 0:u.name)&&void 0!==y?y:l(),id:null==u?void 0:u.id,allowed_values:null!=m?m:[]};if(d=await c(e),(0,o.D4)(d))return d}let f={...E,id:i.id,allow_list_id:d&&!(0,o.D4)(d)?d.data.id:i.allow_list_id,resource_type:g,field_type:t.field_type===s.Uv.SINGLE_SELECT?r.H.STRING:r.H.STRING_ARRAY};return await n(f)}let{value_type:m,...E}=t,f={...E,id:i?i.id:void 0,field_type:m,resource_type:g};return i?await n(f):await e(f)},isLoading:t||i}}},66006:function(e,t,n){var i=n(25980),a=n(59001),r=n(39864);t.Z=()=>{let{plus:e}=(0,i.hz)(),{data:t,isLoading:n}=(0,r.MU)(void 0,{skip:!e}),o=[{label:a.Lo.DATA_CATEGORIES,value:a.ac.DATA_CATEGORY},{label:a.Lo.DATA_USES,value:a.ac.DATA_USE},{label:a.Lo.DATA_SUBJECTS,value:a.ac.DATA_SUBJECT}];return e&&o.push({label:a.Lo.SYSTEM_GROUPS,value:a.ac.SYSTEM_GROUP}),n||(null==t?void 0:t.length)&&o.push(...t.map(e=>({label:e.name,value:e.fides_key}))),{valueTypeOptions:o}}},42478:function(e,t,n){n.d(t,{FU:function(){return l},JE:function(){return a},Ki:function(){return c},SU:function(){return g},W:function(){return T},h9:function(){return r},jc:function(){return i},qt:function(){return u},sn:function(){return d}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:a,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:o,useGetMessagingConfigurationDetailsQuery:s,useGetMessagingConfigurationsQuery:u,useGetMessagingConfigurationByKeyQuery:l,useUpdateMessagingConfigurationByKeyMutation:d,useUpdateMessagingConfigurationSecretsByKeyMutation:c,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:T}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,i)=>{let a=await i({url:"messaging/default/active"});return a.error&&404===a.error.status?{data:null}:a},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},59001:function(e,t,n){n.d(t,{Ch:function(){return u},Lo:function(){return o},_g:function(){return l},ac:function(){return r},aq:function(){return d}});var i,a,r,o,s=n(60240);let u="root";(i=r||(r={})).DATA_CATEGORY="data_category",i.DATA_USE="data_use",i.DATA_SUBJECT="data_subject",i.SYSTEM_GROUP="system_group",(a=o||(o={})).DATA_CATEGORIES="Data categories",a.DATA_USES="Data uses",a.DATA_SUBJECTS="Data subjects",a.SYSTEM_GROUPS="System groups";let l=e=>{switch(e){case"data_category":return"Data categories";case"data_use":return"Data uses";case"data_subject":return"Data subjects";case"system_group":return"System groups";default:return e}},d=e=>{switch(e){case"data_category":return{UPDATE:s.Sh.DATA_CATEGORY_UPDATE,CREATE:s.Sh.DATA_CATEGORY_CREATE,DELETE:s.Sh.DATA_CATEGORY_DELETE,READ:s.Sh.DATA_CATEGORY_READ};case"data_use":return{UPDATE:s.Sh.DATA_USE_UPDATE,CREATE:s.Sh.DATA_USE_CREATE,DELETE:s.Sh.DATA_USE_DELETE,READ:s.Sh.DATA_USE_READ};case"data_subject":return{UPDATE:s.Sh.DATA_SUBJECT_UPDATE,CREATE:s.Sh.DATA_SUBJECT_CREATE,DELETE:s.Sh.DATA_SUBJECT_DELETE,READ:s.Sh.DATA_SUBJECT_READ};case"system_group":return{UPDATE:s.Sh.SYSTEM_GROUP_UPDATE,CREATE:s.Sh.SYSTEM_GROUP_CREATE,DELETE:s.Sh.SYSTEM_GROUP_DELETE,READ:s.Sh.SYSTEM_GROUP_READ};default:return{UPDATE:s.Sh.TAXONOMY_UPDATE,CREATE:s.Sh.TAXONOMY_CREATE,DELETE:s.Sh.TAXONOMY_DELETE,READ:s.Sh.TAXONOMY_READ}}}},39864:function(e,t,n){n.d(t,{Cy:function(){return s},EO:function(){return c},Hb:function(){return l},J1:function(){return o},Jy:function(){return a},Km:function(){return d},MU:function(){return i},ci:function(){return r},d9:function(){return u},jW:function(){return g}});let{useGetCustomTaxonomiesQuery:i,useGetTaxonomyQuery:a,useLazyGetTaxonomyQuery:r,useCreateTaxonomyMutation:o,useUpdateTaxonomyMutation:s,useDeleteTaxonomyMutation:u,useCreateCustomTaxonomyMutation:l,useUpdateCustomTaxonomyMutation:d,useDeleteCustomTaxonomyMutation:c,useGetTaxonomyHistoryQuery:g}=n(78780).u.injectEndpoints({endpoints:e=>({getTaxonomy:e.query({query:e=>({url:"taxonomies/".concat(e,"/elements")}),providesTags:(e,t,n)=>[{type:"Taxonomy",id:n}],transformResponse:e=>{let t=[],n=[...e],i=n.filter(e=>null===e.parent_key);i.sort((e,t)=>e.fides_key.localeCompare(t.fides_key)),t.push(...i);let a=n.filter(e=>null!==e.parent_key);for(;a.length>0;){let e=a.filter(e=>t.some(t=>t.fides_key===e.parent_key));if(0===e.length){t.push(...a.sort((e,t)=>e.fides_key.localeCompare(t.fides_key)));break}e.sort((e,t)=>e.fides_key.localeCompare(t.fides_key)),t.push(...e),a=a.filter(t=>!e.includes(t))}return t}}),getCustomTaxonomies:e.query({query:()=>({url:"taxonomies"}),providesTags:()=>[{type:"Taxonomy"}]}),createTaxonomy:e.mutation({query:e=>{let{taxonomyType:t,...n}=e;return{url:"taxonomies/".concat(t,"/elements"),method:"POST",body:n}},invalidatesTags:(e,t,n)=>{let{taxonomyType:i}=n;return[{type:"Taxonomy",id:i},{type:"Taxonomy History",id:i}]}}),updateTaxonomy:e.mutation({query:e=>{let{taxonomyType:t,...n}=e;return{url:"taxonomies/".concat(t,"/elements/").concat(n.fides_key),method:"PUT",body:n}},invalidatesTags:(e,t,n)=>{let{taxonomyType:i}=n;return[{type:"Taxonomy",id:i},{type:"Taxonomy History",id:i}]}}),deleteTaxonomy:e.mutation({query:e=>{let{taxonomyType:t,key:n}=e;return{url:"taxonomies/".concat(t,"/elements/").concat(n),method:"DELETE"}},invalidatesTags:(e,t,n)=>{let{taxonomyType:i}=n;return[{type:"Taxonomy",id:i},{type:"Taxonomy History",id:i}]}}),createCustomTaxonomy:e.mutation({query:e=>({url:"taxonomies",method:"POST",body:e}),invalidatesTags:()=>[{type:"Taxonomy"}]}),updateCustomTaxonomy:e.mutation({query:e=>{let{fides_key:t,...n}=e;return{url:"taxonomies/".concat(t),method:"PUT",body:n}},invalidatesTags:(e,t,n)=>{let{fides_key:i}=n;return[{type:"Taxonomy"},{type:"Taxonomy History",id:i}]}}),deleteCustomTaxonomy:e.mutation({query:e=>({url:"taxonomies/".concat(e),method:"DELETE"}),invalidatesTags:()=>[{type:"Taxonomy"}]}),getTaxonomyHistory:e.query({query:e=>{let{fides_key:t,page:n,size:i}=e;return{url:"/plus/taxonomies/".concat(t,"/history"),params:{page:n,size:i}}},providesTags:(e,t,n)=>{let{fides_key:i}=n;return[{type:"Taxonomy History",id:i}]}})})})},31883:function(e,t,n){n.d(t,{Bw:function(){return i.Bw},D4:function(){return i.D4}});var i=n(19043)}}]);