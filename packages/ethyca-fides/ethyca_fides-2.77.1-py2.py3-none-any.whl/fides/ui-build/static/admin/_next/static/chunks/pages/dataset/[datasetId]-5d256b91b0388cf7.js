(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9340],{33187:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[datasetId]",function(){return i(1016)}])},58754:function(e,t,i){"use strict";var n=i(24246),o=i(49617),l=i(70788);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:s=!0,children:a,rightContent:c,style:r,...d}=e;return(0,n.jsxs)("div",{...d,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...r}:{paddingBottom:"24px",...r},children:[(0,n.jsxs)(o.jqI,{justify:"space-between",children:["string"==typeof t?(0,n.jsx)(o.lQT,{className:i||a?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,c&&(0,n.jsx)("div",{"data-testid":"page-header-right-content",children:c})]}),!!i&&(0,n.jsx)(l.m,{className:a?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),a]})}},70788:function(e,t,i){"use strict";i.d(t,{m:function(){return r}});var n=i(24246),o=i(49617),l=i(79894),s=i.n(l),a=i(27378);let{Text:c}=o.AntTypography,r=e=>{let{items:t,...i}=e,l=(0,a.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let l=i===t.length-1,a={...e},r=a.onClick&&!a.href;return("string"==typeof a.title&&(a.title=(0,n.jsx)(c,{style:{color:"inherit",maxWidth:l?void 0:400},ellipsis:!l,id:l?"breadcrumb-current-page":void 0,children:a.title})),r)?a.title=(0,n.jsx)(o.wpx,{type:"text",size:"small",icon:a.icon,onClick:a.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:a.title}):(a.icon&&(a.title=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"anticon align-text-bottom",children:a.icon}),a.title]})),a.href&&a.title&&(a.title=(0,n.jsx)(s(),{href:a.href,className:"ant-breadcrumb-link",children:a.title}),delete a.href)),a}),[t]);return(0,n.jsx)(o.zrq,{items:l,...i})}},1016:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var n=i(24246),o=i(92222),l=i(59003),s=i(49617),a=i(86677),c=i(27378),r=i(77213),d=i(77830),u=i(58754),m=i(47935),h=i(69828),p=i(41966),x=i(46628),g=i(79806),f=i(20386),j=i(63927),b=i(69435),C=e=>{let{dataset:t,collection:i,isOpen:o,onClose:l}=e,a=(0,c.useMemo)(()=>null==t?void 0:t.collections.indexOf(i),[i,null==t?void 0:t.collections]),[r]=(0,f.TG)(),d=(0,s.pmc)(),{isOpen:u,onOpen:m,onClose:h}=(0,s.qY0)(),p=async e=>{let n={...i,...e},o=(0,b.jC)(t,n,a);try{await r(o),d((0,x.t5)("Successfully modified collection"))}catch(e){d((0,x.Vo)(e))}l()},C=async()=>{if(t&&void 0!==a){let e=(0,b.qe)(t,a);try{await r(e),d((0,x.t5)("Successfully deleted collection"))}catch(e){d((0,x.Vo)(e))}l(),h()}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.ZP,{isOpen:o,onClose:l,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:(0,n.jsx)(g.zR,{title:"Collection Name: ".concat(null==i?void 0:i.name)}),footer:(0,n.jsx)(g.Gn,{onClose:l,onDelete:m,formId:j.e}),children:(0,n.jsx)(j.Z,{values:i,onSubmit:p,dataType:"collection",showDataCategories:!1})}),(0,n.jsx)(s.cVQ,{isOpen:u,onClose:h,onConfirm:C,title:"Delete Collection",message:(0,n.jsxs)(s.xvT,{children:["You are about to permanently delete the collection named"," ",(0,n.jsx)(s.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==i?void 0:i.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};let v=(0,o.Cl)(),y=()=>(0,n.jsx)(s.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,n.jsx)(s.gCW,{children:(0,n.jsx)(s.xvT,{fontSize:"md",fontWeight:"600",children:"No collections found."})})});var w=()=>{let e=(0,a.useRouter)(),t=decodeURIComponent(e.query.datasetId),{isLoading:i,data:x}=(0,p.oM)(t),g=(0,c.useMemo)(()=>(null==x?void 0:x.collections)||[],[x]),[f,j]=(0,c.useState)(!1),[b,w]=(0,c.useState)(),[R,k]=(0,c.useState)(),N=(0,c.useMemo)(()=>[v.accessor(e=>e.name,{id:"name",cell:e=>(0,n.jsx)(m.G3,{value:e.getValue(),fontWeight:"semibold"}),header:e=>(0,n.jsx)(m.Rr,{value:"Collection Name",...e}),size:180}),v.accessor(e=>e.description,{id:"description",cell:e=>(0,n.jsx)(m.G3,{value:e.getValue(),cellProps:e}),header:e=>(0,n.jsx)(m.Rr,{value:"Description",...e}),size:300,meta:{showHeaderMenu:!0}}),v.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e,i=t.original;return(0,n.jsx)(s.Ugi,{spacing:0,"data-testid":"collection-".concat(i.name),children:(0,n.jsx)(s.wpx,{size:"small",icon:(0,n.jsx)(s.dY8,{}),onClick:()=>{w(i),j(!0)},children:"Edit"})})},meta:{disableRowClick:!0}})],[]),I=(0,c.useMemo)(()=>R?g.filter(e=>e.name.toLowerCase().includes(R.toLowerCase())):g,[g,R]),M=(0,l.b7)({getCoreRowModel:(0,o.sC)(),getFilteredRowModel:(0,o.vL)(),getSortedRowModel:(0,o.tj)(),columns:N,data:I,columnResizeMode:"onChange"}),T=(0,c.useMemo)(()=>[{title:"All datasets",href:d.$m},{title:t,icon:h.Y[1]}],[t]);return(0,n.jsxs)(r.Z,{title:"Dataset - ".concat(t),children:[(0,n.jsx)(u.Z,{heading:"Datasets",breadcrumbItems:T}),i?(0,n.jsx)(m.I4,{rowHeight:36,numRows:15}):(0,n.jsxs)(s.xuv,{"data-testid":"collections-table",children:[(0,n.jsx)(m.Q$,{children:(0,n.jsx)(m.HO,{globalFilter:R,setGlobalFilter:k,placeholder:"Search",testid:"collections-search"})}),(0,n.jsx)(m.ZK,{tableInstance:M,emptyTableNotice:(0,n.jsx)(y,{}),onRowClick:i=>{e.push({pathname:d.RF,query:{datasetId:encodeURIComponent(t),collectionName:encodeURIComponent(i.name)}})}})]}),x&&b&&(0,n.jsx)(C,{dataset:x,collection:b,isOpen:f,onClose:()=>j(!1)})]})}}},function(e){e.O(0,[9226,2888,9774,179],function(){return e(e.s=33187)}),_N_E=e.O()}]);