"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5185],{51472:function(e,t,n){var r=n(24246),l=n(41725),i=n(47397),o=n(7078),a=n(18397),s=n(11055),d=n(27378),c=n(40324),u=n(46238);let x=e=>{let{item:t,label:n,draggable:a,onDeleteItem:s,onEditItem:d,tooltip:c,onRowClick:x,maxH:p=10,rowTestId:m}=e,f=(0,i.o)(),h=(0,r.jsxs)(l.ad9,{direction:"row",gap:2,maxH:p,w:"full",px:2,align:"center",role:"group",className:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:x?{bgColor:"gray.100"}:void 0,bgColor:"white",position:"relative",children:[a&&(0,r.jsx)(l.kvf,{onPointerDown:e=>f.start(e),cursor:"grab"}),(0,r.jsxs)(l.ad9,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:x?"pointer":"auto",onClick:()=>{x&&x(t)},overflow:"clip","data-testid":m,children:[(0,r.jsx)(l.Bjg,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:n}),(0,r.jsx)(u.b,{label:c})]}),(0,r.jsxs)(l.TaI,{className:"invisible absolute right-2 bg-white group-hover:visible",children:[d&&(0,r.jsx)(l.zxk,{"aria-label":"Edit",onClick:()=>d(t),icon:(0,r.jsx)(l.PJP.I8b,{}),size:"small","data-testid":"edit-".concat(m)}),s&&(0,r.jsx)(l.zxk,{"aria-label":"Delete",onClick:()=>s(t),icon:(0,r.jsx)(l.PJP.ZNm,{}),size:"small","data-testid":"delete-".concat(m)})]})]});return a?(0,r.jsx)(o.e,{value:t,dragListener:!1,dragControls:f,children:h}):h},p=e=>{let{label:t,options:n,onOptionSelected:i,baseTestId:o}=e,[a,s]=(0,d.useState)(!1),[c,u]=(0,d.useState)(void 0);return a?(0,r.jsx)(l.TJV,{w:"full",children:(0,r.jsx)(l.PhF,{labelInValue:!0,placeholder:"Select...",filterOption:(e,t)=>{var n;return(null!==(n=null==t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},value:c,options:n,onChange:e=>{i(e),s(!1),u(void 0)},className:"w-full","data-testid":"select-".concat(o),"aria-label":t})}):(0,r.jsx)(l.zxk,{onClick:()=>s(!0),"data-testid":"add-".concat(o),block:!0,icon:(0,r.jsx)(l._m_,{boxSize:4}),iconPosition:"end",children:t})};t.Z=e=>{let{label:t,tooltip:n,draggable:i,addButtonLabel:o,allItems:d,idField:m,nameField:f=m,values:h,setValues:v,canDeleteItem:g,getTooltip:j,onRowClick:b,onEditItem:y,selectOnAdd:C,getItemLabel:w,createNewValue:S,maxHeight:k=36,baseTestId:I}=e,R=e=>e instanceof Object&&m&&m in e?e[m]:e,T=d.every(e=>"string"==typeof e)?d.filter(e=>h.every(t=>t!==e)):d.filter(e=>h.every(t=>R(t)!==R(e))),_=e=>{v(h.filter(t=>t!==e).slice())},E=null!=w?w:e=>e instanceof Object&&m&&m in e?f&&f in e?e[f]:e[m]:e,z=e=>{let t=e instanceof Object&&m&&m in e?e[m]:e;return{label:E(e),value:t}},P=e=>d.every(e=>"string"==typeof e)?e.value:d.find(t=>t[m]===e.value),D=e=>{let t=S?S(e):P(e);v([t,...h.slice()]),C&&b&&b(t),C&&y&&y(t)},N={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},O=i?(0,r.jsx)(l.TJV,{as:a.E.div,layoutScroll:!0,...N,children:(0,r.jsx)(s.M,{values:h,onReorder:e=>v(e.slice()),children:h.map(e=>{let t=R(e);return(0,r.jsx)(x,{item:e,label:E(e),onDeleteItem:!g||g&&g(e)?_:void 0,onEditItem:y,onRowClick:b,draggable:!0,maxH:k,rowTestId:"".concat(I,"-row-").concat(t),tooltip:j&&j(e)?j(e):void 0},t)})})}):(0,r.jsx)(l.TJV,{...N,children:(0,r.jsx)(l.yD7,{children:h.map(e=>{let t=R(e);return(0,r.jsx)(x,{item:e,label:E(e),onRowClick:b,onDeleteItem:_,tooltip:j&&j(e)?j(e):void 0,maxH:k,rowTestId:"".concat(I,"-row-").concat(t)},t)})})});return h.length?(0,r.jsxs)(l.ad9,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,r.jsx)(c.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,(0,r.jsx)(u.b,{label:n}),O,T.length?(0,r.jsx)(p,{label:null!=o?o:"Add new",options:T.map(e=>z(e)),onOptionSelected:D,baseTestId:I}):null]}):(0,r.jsx)(p,{label:null!=o?o:"Add new",options:T.map(e=>z(e)),onOptionSelected:D,baseTestId:I})}},97181:function(e,t,n){n.d(t,{d:function(){return d}});var r=n(24246),l=n(41725),i=n(34090),o=n(27378),a=n(46238),s=n(40324);let d=e=>{let{name:t,label:n,labelProps:d,tooltip:c,isRequired:u,layout:x="inline",helperText:p,...m}=e,[f,h,{setValue:v}]=(0,i.U$)(t),g=!!(h.touched&&h.error),[j,b]=(0,o.useState)("");f.value||"tags"!==m.mode&&"multiple"!==m.mode||(f.value=[]),"tags"===m.mode&&"string"==typeof f.value&&(f.value=[f.value]);let y="tags"===m.mode?(e,t)=>e?e.value!==j||f.value.includes(j)?m.optionRender?m.optionRender(e,t):e.label:'Create "'.concat(j,'"'):void 0:m.optionRender||void 0,C=e=>{b(e),m.onSearch&&m.onSearch(e)},w=(e,t)=>{v(e),m.onChange&&m.onChange(e,t)};return"inline"===x?(0,r.jsx)(l.DTt,{isInvalid:g,isRequired:u,children:(0,r.jsxs)(l.MoG,{templateColumns:n?"1fr 3fr":"1fr",children:[n?(0,r.jsx)(s.__,{htmlFor:m.id||t,...d,children:n}):null,(0,r.jsxs)(l.kCb,{align:"center",children:[(0,r.jsxs)(l.kCb,{vertical:!0,flex:1,className:"mr-2",children:[(0,r.jsx)(l.PhF,{...f,id:m.id||t,"data-testid":"controlled-select-".concat(f.name),...m,optionRender:y,onSearch:"tags"===m.mode?C:void 0,onChange:w,value:f.value||void 0,status:g?"error":void 0}),p&&(0,r.jsx)(l.Kug,{children:p}),(0,r.jsx)(s.Bc,{isInvalid:g,message:h.error,fieldName:f.name})]}),(0,r.jsx)(a.b,{label:c,className:g?"mt-2 self-start":void 0})]})]})}):(0,r.jsx)(l.DTt,{isInvalid:g,isRequired:u,children:(0,r.jsxs)(l.s_g,{alignItems:"start",children:[(0,r.jsxs)(l.kCb,{align:"center",children:[n?(0,r.jsx)(s.__,{htmlFor:m.id||t,fontSize:"xs",my:0,mr:1,...d,children:n}):null,(0,r.jsx)(a.b,{label:c})]}),(0,r.jsx)(l.PhF,{...f,id:m.id||t,"data-testid":"controlled-select-".concat(f.name),...m,optionRender:y,onSearch:"tags"===m.mode?C:void 0,onChange:w,value:f.value||void 0,status:g?"error":void 0}),p&&(0,r.jsx)(l.Kug,{style:{marginTop:0},children:p}),(0,r.jsx)(s.Bc,{isInvalid:g,message:h.error,fieldName:f.name})]})})}},10342:function(e,t,n){var r=n(24246),l=n(41725),i=n(46238);t.Z=e=>{let{title:t,tooltip:n,children:o,...a}=e;return(0,r.jsxs)(l.TJV,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",...a,children:[(0,r.jsxs)(l.y_b,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,n?(0,r.jsx)(l.Bjg,{as:"span",mx:1,children:(0,r.jsx)(i.b,{label:n})}):void 0]}),(0,r.jsx)(l.EO$,{p:6,spacing:6,children:o})]})}},18880:function(e,t,n){var r=n(24246),l=n(41725),i=n(34090),o=n(86677),a=n(27378),s=n(16134),d=n(10342),c=n(40324),u=n(812),x=n(77830),p=n(51472),m=n(94315),f=n(60240),h=n(97181),v=n(3642);let g=()=>{var e;let t=(0,s.C)(m.Zp),n=(0,s.C)(m.G1);(0,m.cq)({page:t,size:n});let l=(0,s.C)(m.w4),{values:o,setFieldValue:a}=(0,i.u6)();return(0,r.jsx)(d.Z,{title:"Experiences",children:(0,r.jsx)(p.Z,{addButtonLabel:"Add experience",idField:"id",nameField:"name",allItems:l.map(e=>({id:e.id,name:e.name})),values:null!==(e=o.experiences)&&void 0!==e?e:[],setValues:e=>a("experiences",e),draggable:!0,baseTestId:"experience"})})};t.Z=e=>{let{property:t,handleSubmit:n}=e,s=(0,o.useRouter)(),p=()=>{s.push(x.ru)},m=(0,a.useMemo)(()=>t||{name:"",type:f.uS.WEBSITE,experiences:[],messaging_templates:[],paths:[]},[t]);return(0,r.jsx)(i.J9,{enableReinitialize:!0,initialValues:m,onSubmit:n,children:e=>{let{dirty:n,isValid:o,isSubmitting:a}=e;return(0,r.jsxs)(i.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,r.jsx)(l.TJV,{py:3,children:(0,r.jsxs)(d.Z,{title:"Property details",children:[(0,r.jsx)(c.j0,{isRequired:!0,label:"Property name",name:"name",tooltip:"Unique name to identify this property",variant:"stacked"}),(0,r.jsx)(h.d,{isRequired:!0,label:"Type",name:"type",options:(0,u.MM)(f.uS),layout:"stacked"})]})}),(0,r.jsx)(l.TJV,{py:3,children:(0,r.jsx)(g,{})}),t&&(0,r.jsx)(l.TJV,{py:3,children:(0,r.jsx)(d.Z,{title:"Advanced settings",children:(0,r.jsx)(c.Io,{label:"Property ID",name:"id",tooltip:"Automatically generated unique ID for this property, used for developer configurations",variant:"stacked",readOnly:!0})})}),(0,r.jsxs)(l.ad9,{justifyContent:"space-between",width:"100%",paddingTop:2,children:[t&&(0,r.jsx)(v.Z,{property:t,triggerComponent:(0,r.jsx)(l.zxk,{"data-testid":"delete-property-button",loading:!1,className:"mr-3",children:"Delete"})}),(0,r.jsxs)(l.ad9,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,r.jsx)(l.zxk,{onClick:p,loading:!1,className:"mr-3",children:"Cancel"}),(0,r.jsx)(l.zxk,{htmlType:"submit",type:"primary",disabled:a||!n||!o,loading:a,children:"Save"})]})]})]})}})}},31883:function(e,t,n){n.d(t,{Bw:function(){return r.Bw},D4:function(){return r.D4}});var r=n(19043)},11055:function(e,t,n){n.d(t,{M:function(){return u}});var r=n(24246),l=n(29427),i=n(27378),o=n(40976),a=n(18397),s=n(42308),d=n(25431),c=n(39556);let u=(0,i.forwardRef)(function({children:e,as:t="ul",axis:n="y",onReorder:u,values:m,...f},h){let v=(0,s.h)(()=>a.E[t]),g=[],j=(0,i.useRef)(!1);return(0,l.k)(!!m,"Reorder.Group must be provided a values prop"),(0,i.useEffect)(()=>{j.current=!1}),(0,r.jsx)(v,{...f,ref:h,ignoreStrict:!0,children:(0,r.jsx)(o.Y.Provider,{value:{axis:n,registerItem:(e,t)=>{let r=g.findIndex(t=>e===t.value);-1!==r?g[r].layout=t[n]:g.push({value:e,layout:t[n]}),g.sort(p)},updateOrder:(e,t,n)=>{if(j.current)return;let r=function(e,t,n,r){if(!r)return e;let l=e.findIndex(e=>e.value===t);if(-1===l)return e;let i=r>0?1:-1,o=e[l+i];if(!o)return e;let a=e[l],s=o.layout,u=(0,c.t)(s.min,s.max,.5);return 1===i&&a.layout.max+n>u||-1===i&&a.layout.min+n<u?(0,d.uo)(e,l,l+i):e}(g,e,t,n);g!==r&&(j.current=!0,u(r.map(x).filter(e=>-1!==m.indexOf(e))))}},children:e})})});function x(e){return e.value}function p(e,t){return e.layout.min-t.layout.min}},7078:function(e,t,n){n.d(t,{e:function(){return y}});var r=n(24246),l=n(29427),i=n(27378),o=n(40976),a=n(18397),s=n(42308),d=n(69222),c=n(67412);function u(e){let t=(0,s.h)(()=>(0,d.BX)(e)),{isStatic:n}=(0,i.useContext)(c._);if(n){let[,n]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",n),[])}return t}var x=n(13998);let p=e=>e&&"object"==typeof e&&e.mix,m=e=>p(e)?e.mix:void 0;var f=n(64306),h=n(95984);function v(e,t){let n=u(t()),r=()=>n.set(t());return r(),(0,f.L)(()=>{let t=()=>h.Wi.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),(0,h.Pn)(r)}}),n}function g(e,t){let n=(0,s.h)(()=>[]);return v(e,()=>{n.length=0;let r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}var j=n(3522);function b(e,t=0){return(0,j.i)(e)?e:u(t)}let y=(0,i.forwardRef)(function({children:e,style:t={},value:n,as:c="li",onDrag:u,layout:p=!0,...f},h){let j=(0,s.h)(()=>a.E[c]),y=(0,i.useContext)(o.Y),C={x:b(t.x),y:b(t.y)},w=function(e,t,n,r){if("function"==typeof e)return function(e){d.S1.current=[],e();let t=v(d.S1.current,e);return d.S1.current=void 0,t}(e);let l="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],l=e[1+n],i=e[2+n],o=e[3+n],a=(0,x.s)(l,i,{mixer:m(i[0]),...o});return t?a(r):a}(t,void 0,void 0);return Array.isArray(e)?g(e,l):g([e],([e])=>l(e))}([C.x,C.y],([e,t])=>e||t?1:"unset");(0,l.k)(!!y,"Reorder.Item must be a child of Reorder.Group");let{axis:S,registerItem:k,updateOrder:I}=y;return(0,r.jsx)(j,{drag:S,...f,dragSnapToOrigin:!0,style:{...t,x:C.x,y:C.y,zIndex:w},layout:p,onDrag:(e,t)=>{let{velocity:r}=t;r[S]&&I(n,C[S].get(),r[S]),u&&u(e,t)},onLayoutMeasure:e=>k(n,e),ref:h,ignoreStrict:!0,children:e})})},40976:function(e,t,n){n.d(t,{Y:function(){return r}});let r=(0,n(27378).createContext)(null)},47397:function(e,t,n){n.d(t,{o:function(){return o}});var r=n(42308);class l{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,t){this.componentControls.forEach(n=>{n.start(e.nativeEvent||e,t)})}}let i=()=>new l;function o(){return(0,r.h)(i)}}}]);