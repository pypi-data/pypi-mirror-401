"""Run {{ project_name }} controller loop agent."""

from __future__ import annotations

import asyncio
import logging

from .config import Config
from .orchestrator import {{ class_name }}Orchestrator


logging.basicConfig(level=logging.INFO)


async def _run_demo() -> None:
    config = Config.from_env()
    orchestrator = {{ class_name }}Orchestrator(config)

    response = await orchestrator.execute(
        query="Iterate and refine this answer.",
        tenant_id="demo-tenant",
        user_id="demo-user",
        session_id="demo-session",
    )
    print(f"Agent response: {response.answer}")
    print(f"Iterations completed: {response.metadata.get('iterations', 0)}")
    await orchestrator.stop()


def main() -> None:
    asyncio.run(_run_demo())


if __name__ == "__main__":
    main()
