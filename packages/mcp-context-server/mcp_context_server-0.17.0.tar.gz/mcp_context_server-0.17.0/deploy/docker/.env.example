# =============================================================================
# External PostgreSQL Configuration for MCP Context Server
# =============================================================================
# Copy this file to .env and fill in your PostgreSQL connection details.
# The .env file is ignored by git and should never be committed.
#
# Two configuration methods are supported:
#   A) Individual variables (recommended) - easier to configure and modify
#   B) Connection string - useful when provider gives you a complete URI
# =============================================================================

# -----------------------------------------------------------------------------
# IMPORTANT: Special Characters in Passwords
# -----------------------------------------------------------------------------
# If your password contains special characters ($, #, &, *, etc.), you MUST
# wrap it in SINGLE quotes (not double quotes!). Double quotes do NOT prevent
# variable interpolation.
#
# WRONG ($ will be interpreted as variable):
#   POSTGRESQL_PASSWORD="pass$word"
#
# CORRECT (single quotes disable all interpolation):
#   POSTGRESQL_PASSWORD='pass$word'
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# Option A: Individual Variables (RECOMMENDED)
# -----------------------------------------------------------------------------
# Use this for corporate PostgreSQL servers or when you control the database.
# The application will construct the connection string from these values.

POSTGRESQL_HOST=localhost
POSTGRESQL_PORT=5432
POSTGRESQL_USER=postgres
POSTGRESQL_PASSWORD='your-secure-password'
POSTGRESQL_DATABASE=mcp_context

# SSL Mode (required for cloud providers like Supabase)
# Options: disable, allow, prefer, require, verify-ca, verify-full
POSTGRESQL_SSL_MODE=prefer

# -----------------------------------------------------------------------------
# Option B: Connection String (alternative)
# -----------------------------------------------------------------------------
# Use this when your provider gives you a complete connection URI.
# If set, this overrides all individual variables above.
# NOTE: Special characters in password must be URL-encoded.
#
# Format: postgresql://user:password@host:port/database?sslmode=require
#
# POSTGRESQL_CONNECTION_STRING=postgresql://postgres:password@db.example.com:5432/mcp_context?sslmode=require

# -----------------------------------------------------------------------------
# Supabase Examples
# -----------------------------------------------------------------------------
# For Supabase, use the Session Pooler connection (supports IPv4):
#
# Individual variables:
#   POSTGRESQL_HOST=aws-0-us-east-1.pooler.supabase.com
#   POSTGRESQL_PORT=5432
#   POSTGRESQL_USER=postgres.your-project-ref
#   POSTGRESQL_PASSWORD='your-database-password'
#   POSTGRESQL_DATABASE=postgres
#   POSTGRESQL_SSL_MODE=require
#
# Or connection string (from Supabase dashboard):
#   POSTGRESQL_CONNECTION_STRING=postgres://postgres.xxxx:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:5432/postgres?sslmode=require

# -----------------------------------------------------------------------------
# Optional: Connection Pool Settings
# -----------------------------------------------------------------------------
# Adjust these if you need to tune connection pool behavior.
# Default values work well for most deployments.
#
# POSTGRESQL_POOL_MIN=2
# POSTGRESQL_POOL_MAX=20
# POSTGRESQL_POOL_TIMEOUT_S=10.0
# POSTGRESQL_COMMAND_TIMEOUT_S=60.0
