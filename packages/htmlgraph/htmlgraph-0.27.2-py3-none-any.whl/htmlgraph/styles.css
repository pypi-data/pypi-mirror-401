/**
 * HtmlGraph Default Stylesheet
 * "HTML is All You Need"
 *
 * This stylesheet provides sensible defaults for HtmlGraph nodes.
 * Customize as needed for your project.
 */

:root {
    /* Colors */
    --color-primary: #2563eb;
    --color-primary-light: #3b82f6;
    --color-success: #16a34a;
    --color-warning: #d97706;
    --color-danger: #dc2626;
    --color-info: #0891b2;

    /* Status colors */
    --status-todo: #6b7280;
    --status-in-progress: #2563eb;
    --status-blocked: #dc2626;
    --status-done: #16a34a;

    /* Priority colors */
    --priority-low: #9ca3af;
    --priority-medium: #3b82f6;
    --priority-high: #f59e0b;
    --priority-critical: #dc2626;

    /* Neutrals */
    --color-bg: #ffffff;
    --color-bg-secondary: #f9fafb;
    --color-border: #e5e7eb;
    --color-text: #1f2937;
    --color-text-secondary: #6b7280;

    /* Spacing */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;

    /* Typography */
    --font-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-mono: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, monospace;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
    :root {
        --color-bg: #111827;
        --color-bg-secondary: #1f2937;
        --color-border: #374151;
        --color-text: #f9fafb;
        --color-text-secondary: #9ca3af;
    }
}

/* Reset & Base */
*,
*::before,
*::after {
    box-sizing: border-box;
}

body {
    font-family: var(--font-sans);
    font-size: 16px;
    line-height: 1.6;
    color: var(--color-text);
    background: var(--color-bg);
    margin: 0;
    padding: var(--space-lg);
    max-width: 800px;
    margin-inline: auto;
}

/* Article (Node container) */
article {
    background: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
}

article header {
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid var(--color-border);
}

article header h1 {
    margin: 0 0 var(--space-sm) 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--color-text);
}

/* Metadata badges */
.metadata {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
}

.badge {
    display: inline-flex;
    align-items: center;
    padding: var(--space-xs) var(--space-sm);
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: 9999px;
    text-transform: uppercase;
    letter-spacing: 0.025em;
}

/* Status badges */
.status-todo {
    background: color-mix(in srgb, var(--status-todo) 15%, transparent);
    color: var(--status-todo);
}

.status-in-progress {
    background: color-mix(in srgb, var(--status-in-progress) 15%, transparent);
    color: var(--status-in-progress);
}

.status-blocked {
    background: color-mix(in srgb, var(--status-blocked) 15%, transparent);
    color: var(--status-blocked);
}

.status-done {
    background: color-mix(in srgb, var(--status-done) 15%, transparent);
    color: var(--status-done);
}

/* Priority badges */
.priority-low {
    background: color-mix(in srgb, var(--priority-low) 15%, transparent);
    color: var(--priority-low);
}

.priority-medium {
    background: color-mix(in srgb, var(--priority-medium) 15%, transparent);
    color: var(--priority-medium);
}

.priority-high {
    background: color-mix(in srgb, var(--priority-high) 15%, transparent);
    color: var(--priority-high);
}

.priority-critical {
    background: color-mix(in srgb, var(--priority-critical) 15%, transparent);
    color: var(--priority-critical);
}

/* Sections */
section {
    margin-bottom: var(--space-lg);
}

section:last-child {
    margin-bottom: 0;
}

section > h3 {
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-secondary);
    margin: 0 0 var(--space-md) 0;
}

/* Graph edges (nav) */
nav[data-graph-edges] {
    background: var(--color-bg-secondary);
    border-radius: 6px;
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
}

nav[data-graph-edges] section {
    margin-bottom: var(--space-md);
}

nav[data-graph-edges] section:last-child {
    margin-bottom: 0;
}

nav[data-graph-edges] h3 {
    font-size: 0.8125rem;
    margin-bottom: var(--space-sm);
}

nav[data-graph-edges] ul {
    list-style: none;
    margin: 0;
    padding: 0;
}

nav[data-graph-edges] li {
    margin-bottom: var(--space-xs);
}

nav[data-graph-edges] a {
    color: var(--color-primary);
    text-decoration: none;
    font-weight: 500;
}

nav[data-graph-edges] a:hover {
    text-decoration: underline;
}

nav[data-graph-edges] a[data-relationship="blocked_by"],
nav[data-graph-edges] a[data-relationship="blocks"] {
    color: var(--color-danger);
}

/* Properties (dl) */
section[data-properties] dl {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: var(--space-xs) var(--space-md);
    margin: 0;
}

section[data-properties] dt {
    font-weight: 500;
    color: var(--color-text-secondary);
}

section[data-properties] dd {
    margin: 0;
    font-family: var(--font-mono);
}

/* Steps (ol) */
section[data-steps] ol {
    list-style: none;
    margin: 0;
    padding: 0;
    counter-reset: step-counter;
}

section[data-steps] li {
    position: relative;
    padding-left: var(--space-lg);
    margin-bottom: var(--space-sm);
}

section[data-steps] li[data-completed="true"] {
    color: var(--color-text-secondary);
    text-decoration: line-through;
}

section[data-steps] li[data-completed="false"] {
    color: var(--color-text);
}

/* Content */
section[data-content] {
    color: var(--color-text);
}

section[data-content] p {
    margin: 0 0 var(--space-md) 0;
}

section[data-content] ul,
section[data-content] ol {
    margin: 0 0 var(--space-md) 0;
    padding-left: var(--space-lg);
}

section[data-content] li {
    margin-bottom: var(--space-xs);
}

section[data-content] code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    background: var(--color-bg-secondary);
    padding: var(--space-xs);
    border-radius: 3px;
}

/* Activity log */
section[data-activity-log] ol {
    list-style: none;
    margin: 0;
    padding: 0;
}

section[data-activity-log] li {
    padding: var(--space-sm) 0;
    border-bottom: 1px solid var(--color-border);
    font-size: 0.875rem;
    color: var(--color-text-secondary);
}

section[data-activity-log] li:last-child {
    border-bottom: none;
}

/* Utility classes */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}

/* Print styles */
@media print {
    body {
        background: white;
        color: black;
        padding: 0;
    }

    article {
        border: none;
        box-shadow: none;
    }

    nav[data-graph-edges] a {
        color: inherit;
    }

    nav[data-graph-edges] a::after {
        content: " (" attr(href) ")";
        font-size: 0.75em;
        color: #666;
    }
}
