[build-system]
requires = ["setuptools>=65.5.1", "wheel"]
build-backend = "setuptools.build_meta"

[tool.setuptools.packages.find]
where = ["."]
include = ["pytron*"]
namespaces = false

[project]
name = "pytron-kit"
version = "0.3.5"
description = "An Electron-like library for Python to build Cross Platform Apps"
readme = "README.md"
requires-python = ">=3.7"
license = { text = "Apache-2.0" }
keywords = ["electron", "app", "desktop", "android", "webview"]
authors = [
  { name = "Ghua8088" }
]
dependencies = [
  "watchfiles",
  "pydantic",
  "importlib-metadata; python_version < '3.8'",
  "pyinstaller",
  "Pillow",
  "pyobjc-framework-Cocoa; sys_platform == 'darwin'",
  "pyobjc-framework-WebKit; sys_platform == 'darwin'",
  "PyGObject==3.54.5; sys_platform == 'linux'",
  "rich",
  "lief",
  "nuitka",
  "zstandard",
  "comtypes; sys_platform == 'win32'",
  "cryptography",
  "keyring",
  "requests"
]
classifiers = [
  "Programming Language :: Python :: 3",
  "License :: OSI Approved :: Apache Software License",
  "Operating System :: OS Independent",
]

[tool.pytest.ini_options]
testpaths = ["tests"]
norecursedirs = [
    "template_vite",
    "android",
    "env",
    "venv",
    "build",
    "dist",
    "node_modules",
    "*/main/assets/python"
]
asyncio_mode = "auto"

[project.scripts]
pytron = "pytron.cli:main"

[tool.setuptools.package-data]
pytron = [
    "installer/*",
    "nsis-setup.exe",
    "utf8_hook.py", 
    "manifests/*",
    "dependancies/**/*", 
    "engines/**/*",
    "engines/chrome/shell/*",
    "ai_guide.md",
    "platforms/android/shell/app/src/main/assets/python/python314.zip",
    "platforms/android/shell/app/src/main/assets/python/main.py",
    "platforms/android/shell/app/src/main/cpp/*",
    "platforms/android/shell/app/src/main/cpp/include/*",
    "platforms/android/shell/app/src/main/java/com/pytron/android/MainActivity.kt",
    "platforms/android/shell/app/src/main/res/values/strings.xml",
    "platforms/android/shell/app/src/main/res/mipmap-xxhdpi/*",
    "platforms/android/shell/app/src/main/AndroidManifest.xml",
    "platforms/android/shell/app/build.gradle",
    "platforms/android/shell/app/proguard-rules.pro",
    "platforms/android/shell/gradle/wrapper/gradle-wrapper.jar",
    "platforms/android/shell/gradle/wrapper/gradle-wrapper.properties",
    "platforms/android/shell/build.gradle",
    "platforms/android/shell/gradle.properties",
    "platforms/android/shell/gradlew",
    "platforms/android/shell/gradlew.bat",
    "platforms/android/shell/settings.gradle",
    "platforms/android/shell/app/src/main/jnilibs/arm64-v8a/*",
    "pack/secure_loader/bin/*"
]