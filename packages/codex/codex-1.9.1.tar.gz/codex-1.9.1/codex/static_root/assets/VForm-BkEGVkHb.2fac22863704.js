import{_ as F,D as S,G as h,E as f,v as o,b,a as C,F as k,B as g,C as p,w as V,y as a,g as _,p as $,r as B,u as R,n as D,d as E,L as P}from"./main-DOt-U49O.js";import{k as q}from"./VDialog-C3BkCs2z.js";import{s as w,t as z}from"./VSelectionControl-D3iAHJ8o.js";import{f as L}from"./forwardRefs-DU5TZuO6.js";const N={name:"SubmitFooter",components:{ConfirmFooter:q},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...h(f,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...S(f,["clearErrors"])}},T={key:0,class:"errors"},A={key:1,class:"success"},G={key:2};function I(e,s,c,d,n,l){const u=V("ConfirmFooter");return a(),o("footer",null,[b("div",null,[e.errors&&e.errors.length>0?(a(),o("small",T,[(a(!0),o(k,null,g(e.errors,(m,i)=>(a(),o("div",{key:i},p(m),1))),128))])):e.success?(a(),o("small",A,p(e.success),1)):(a(),o("small",G,"Â "))]),C(u,{"confirm-text":l.confirmText,disabled:c.disabled,onConfirm:s[0]||(s[0]=m=>e.$emit("submit")),onCancel:s[1]||(s[1]=m=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const K=F(N,[["render",I],["__scopeId","data-v-d960409d"]]),M=$({...P(),...z()},"VForm"),O=_()({name:"VForm",props:M(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:c,emit:d}=s;const n=w(e),l=B();function u(i){i.preventDefault(),n.reset()}function m(i){const r=i,t=n.validate();r.then=t.then.bind(t),r.catch=t.catch.bind(t),r.finally=t.finally.bind(t),d("submit",r),r.defaultPrevented||t.then(v=>{let{valid:y}=v;y&&l.value?.submit()}),r.preventDefault()}return R(()=>b("form",{ref:l,class:E(["v-form",e.class]),style:D(e.style),novalidate:!0,onReset:u,onSubmit:m},[c.default?.(n)])),L(n,l)}});export{K as S,O as V};
