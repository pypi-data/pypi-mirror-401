"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .aaveposition import AavePosition, AavePositionTypedDict
from .compass_api_backend_v2_models_earn_read_response_positions_vaultposition import (
    CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPosition,
    CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPositionTypedDict,
)
from .pendleptposition import PendlePTPosition, PendlePTPositionTypedDict
from compass_api_sdk.types import BaseModel
from typing import List, Optional
from typing_extensions import NotRequired, TypedDict


class EarnPositionsResponseTypedDict(TypedDict):
    r"""Grouped positions by protocol.

    This new structure groups positions by protocol type for better organization and
    removes the need for a discriminated union in SDK consumers.
    """

    aave: NotRequired[List[AavePositionTypedDict]]
    r"""Aave V3 lending positions."""
    vaults: NotRequired[
        List[CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPositionTypedDict]
    ]
    r"""ERC-4626 vault positions."""
    pendle_pt: NotRequired[List[PendlePTPositionTypedDict]]
    r"""Pendle Principal Token positions."""


class EarnPositionsResponse(BaseModel):
    r"""Grouped positions by protocol.

    This new structure groups positions by protocol type for better organization and
    removes the need for a discriminated union in SDK consumers.
    """

    aave: Optional[List[AavePosition]] = None
    r"""Aave V3 lending positions."""

    vaults: Optional[
        List[CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPosition]
    ] = None
    r"""ERC-4626 vault positions."""

    pendle_pt: Optional[List[PendlePTPosition]] = None
    r"""Pendle Principal Token positions."""
