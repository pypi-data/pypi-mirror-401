{
    "name" : "local_fetch",
    "label": "Fetch local collection",
    "sys_path": "/",
    "inputs": "keyboard",
    "dag": {
        "nodes": {
            "fetch"    : "pypers.core.test.ftp.FTP",
            "group"    : "fetch.common.GroupByMask",
            "extract"  : "fetch.extract.ipas.Trademarks",
            "organize" : "fetch.common.Organize",
            "clean"    : "fetch.common.Cleanup"
        },

        "edges": [
            {
                "from"     : "fetch",
                "to"       : "group",
                "bindings" : { "group.input_files" : "fetch.output_files" }
            },
            {
                "from"     : "group",
                "to"       : "extract",
                "bindings" : { "extract.archives" : "group.output_files" }
            },
            {
                "from"     : "extract",
                "to"       : "organize",
                "bindings" : { "organize.manifest"  : "extract.manifest" }
            },
            {
                "from": "organize",
                "to": "clean",
                "bindings": { "clean.manifest_list": "organize.manifest" }
            },
            {
                "from"     : "fetch",
                "to"       : "clean",
                "bindings" : { "clean.processed_list" : "fetch.output_files" }
            },
            {
                "from"     : "extract",
                "to"       : "clean",
                "bindings" : { "clean.extracted_list": "extract.manifest" }
            }
        ]
    },
    "config" : {
	    "steps": {
            "fetch": {
                "limit": 1.0
            }
        }
    }
}

