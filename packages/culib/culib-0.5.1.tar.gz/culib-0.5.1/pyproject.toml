[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "culib"
dynamic = ["version"]
description = "Coils Utilities Library (CULib) is a Python package for modeling air-core electromagnet coils and calculating their physical characteristics based on their geometry and wire informations."
readme = "README.md"
license = { file = "LICENSE" }
requires-python = ">=3.11"
keywords = ["coil", "magnetic", "field", "electromagnet", "physics", "simulation", "bobbin", "wire"]
authors = [
    {name = "Pierre Letousey"},
]
classifiers = [
    "Development Status :: 4 - Beta",
    "Programming Language :: Python :: 3",
    "Intended Audience :: Science/Research",
    "Topic :: Scientific/Engineering :: Physics",
]
dependencies = [
    "pandas >= 2",
    "numpy >= 2",
    "scipy >= 1.12",
    "altair >= 5.1",
    "vl-convert-python >= 1.7.0",
]

[project.optional-dependencies]
dev = [
    "black >= 22",
    "ruff >= 0.12.0",
    "pytest>=8.4",
    "coverage>=7.10",
]
doc = [
    "mkdocs >= 1.5",
    "mkdocs-bootswatch >= 1.0",
    "mkdocstrings[python] >= 0.23, <0.28",
]

[tool.hatch.version]
path = "src/culib/__init__.py"

[tool.black]
extend-exclude = "examples"

[tool.ruff]
format.exclude = ["examples/*"]

[tool.pytest.ini_options]
addopts = "--doctest-modules"
doctest_optionflags = "NUMBER"
testpaths = ["src", "tests"]
markers = ["slow", "save"]

[tool.tox]
legacy_tox_ini = """
    [tox]
    env_list = py{311, 312, 313}

    [testenv]
    description = run pytest over multiple versions of python
    deps = pytest
    commands = pytest {posargs}
"""
