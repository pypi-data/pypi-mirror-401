Metadata-Version: 2.4
Name: x-api-rs
Version: 1.0.4.dev0
Classifier: Programming Language :: Rust
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Dist: pytest>=7.0 ; extra == 'test'
Requires-Dist: pytest-asyncio>=0.21 ; extra == 'test'
Provides-Extra: test
Summary: Twitter/X API å®¢æˆ·ç«¯åº“ (Rust å®ç°, æä¾› Python ç»‘å®š)
Author-email: robin <robin528919@gmail.com>
Requires-Python: >=3.8
Description-Content-Type: text/markdown; charset=UTF-8; variant=GFM
Project-URL: Homepage, https://github.com/Robin528919/x-api-rs
Project-URL: Issues, https://github.com/Robin528919/x-api-rs/issues
Project-URL: Repository, https://github.com/Robin528919/x-api-rs.git

# X API - Twitter API Python å®¢æˆ·ç«¯

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org)
[![Rust](https://img.shields.io/badge/rust-1.70+-orange.svg)](https://www.rust-lang.org)

é«˜æ€§èƒ½çš„ Twitter (X) API Python å®¢æˆ·ç«¯ï¼Œä½¿ç”¨ Rust + PyO3 å®ç°ï¼Œæä¾›å®Œæ•´çš„ Twitter å¹³å°åŠŸèƒ½æ”¯æŒã€‚

## âœ¨ ç‰¹æ€§

- **ğŸš€ é«˜æ€§èƒ½** - Rust å®ç°ï¼Œæä¾›åŸç”Ÿæ€§èƒ½
- **ğŸ”’ å®‰å…¨å¯é ** - å†…ç½® JA3/TLS æŒ‡çº¹æ¨¡æ‹Ÿï¼Œå¢å¼ºåæ£€æµ‹èƒ½åŠ›
- **ğŸ Python å‹å¥½** - å®Œæ•´çš„å¼‚æ­¥ APIï¼Œç¬¦åˆ Python æƒ¯ç”¨é£æ ¼
- **ğŸ“¦ æ¨¡å—åŒ–è®¾è®¡** - æ¸…æ™°çš„æ¨¡å—åˆ’åˆ†ï¼Œæ˜“äºä½¿ç”¨å’Œæ‰©å±•
- **ğŸ’ª å¼ºç±»å‹** - å®Œæ•´çš„ç±»å‹æç¤ºæ”¯æŒ
- **ğŸ“ è¯¦ç»†æ—¥å¿—** - å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œé”™è¯¯è¿½è¸ª

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
| ------ | ------ | ------ |
| **dm** | ç§ä¿¡å‘é€ï¼ˆå•æ¡ã€æ‰¹é‡ã€è‡ªå®šä¹‰æ–‡æ¡ˆï¼‰ | âœ… å·²å®Œæˆ |
| **upload** | å›¾ç‰‡å’Œè§†é¢‘ä¸Šä¼  | âœ… å·²å®Œæˆ |
| **posts** | å‘å¸–ã€åˆ å¸–ã€ç‚¹èµã€è½¬å‘ | âœ… å·²å®Œæˆ |
| **user** | ç”¨æˆ·èµ„æ–™æŸ¥è¯¢å’Œç¼–è¾‘ | âœ… å·²å®Œæˆ |
| **inbox** | æ”¶ä»¶ç®±æŸ¥è¯¢ | âœ… å·²å®Œæˆ |

## ğŸ“¥ å®‰è£…

### ä»æºç å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Robin528919/x-api-rs.git
cd x-api-rs

# å®‰è£… maturinï¼ˆPython æ‰“åŒ…å·¥å…·ï¼‰
pip install maturin

# å¼€å‘æ¨¡å¼å®‰è£…ï¼ˆæ”¯æŒä¿®æ”¹ä»£ç åçƒ­æ›´æ–°ï¼‰
maturin develop --features python

# æˆ–ç”Ÿäº§æ„å»º
maturin build --release --features python
pip install target/wheels/x_api-*.whl
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€ä½¿ç”¨

```python
import asyncio
from x_api_rs import Twitter

async def main():
    # åˆ›å»ºå®¢æˆ·ç«¯ï¼ˆä½¿ç”¨ cookies è®¤è¯ï¼‰
    client = Twitter(cookies="your_cookies_here")

    # å‘é€ç§ä¿¡
    result = await client.dm.send_message("123456", "Hello!")
    if result.success:
        print(f"å‘é€æˆåŠŸï¼Œäº‹ä»¶ID: {result.event_id}")

    # ä¸Šä¼ å›¾ç‰‡
    with open("image.jpg", "rb") as f:
        image_bytes = f.read()
    upload_result = await client.upload.image(image_bytes, "tweet_image")

    # å‘å¸–ï¼ˆå¸¦å›¾ç‰‡ï¼‰
    tweet_result = await client.posts.create_tweet(
        text="Hello World!",
        media_ids=[upload_result.media_id_string]
    )

    # è·å–ç”¨æˆ·èµ„æ–™
    user = await client.user.get_profile("elonmusk")
    print(f"ç”¨æˆ·: {user.name}, ç²‰ä¸: {user.followers_count}")

asyncio.run(main())
```

### æ‰¹é‡æ“ä½œ

```python
# æ‰¹é‡å‘é€ç§ä¿¡ï¼ˆç›¸åŒå†…å®¹ï¼‰
user_ids = ["123", "456", "789"]
result = await client.dm.send_batch(user_ids, "æ‰¹é‡æ¶ˆæ¯")
print(f"æˆåŠŸ: {result.success_count}, å¤±è´¥: {result.failure_count}")

# æ‰¹é‡å‘é€è‡ªå®šä¹‰æ–‡æ¡ˆ
user_ids = ["123", "456"]
texts = ["ä½ å¥½ï¼Œå¼ ä¸‰ï¼", "ä½ å¥½ï¼Œæå››ï¼"]
result = await client.dm.send_batch_with_custom_texts(user_ids, texts)
```

### ä½¿ç”¨ä»£ç†

```python
# åˆ›å»ºå®¢æˆ·ç«¯æ—¶æŒ‡å®šä»£ç†
client = Twitter(
    cookies="your_cookies_here",
    proxy_url="http://proxy:8080"
)
```

### auth_token è½¬æ¢

```python
# å°† auth_token è½¬æ¢ä¸ºå®Œæ•´çš„ cookies
result = await Twitter.auth_token_to_cookies(
    "your_auth_token",
    proxy_url="http://proxy:8080"  # å¯é€‰
)
print(f"ç”¨æˆ· ID: {result.user_id}")
print(f"Cookies: {result.cookies}")

# ä½¿ç”¨è½¬æ¢åçš„ cookies åˆ›å»ºå®¢æˆ·ç«¯
client = Twitter(result.cookies)
```

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **[æ¨¡å—æ€»è§ˆ](docs/modules.md)** - äº†è§£å„æ¨¡å—åŠŸèƒ½å’Œæ¶æ„
- **[API æ–‡æ¡£](docs/api/)** - è¯¦ç»†çš„ API æ¥å£è¯´æ˜
  - [DM ç§ä¿¡æ¨¡å—](docs/api/dm.md)
  - [Upload ä¸Šä¼ æ¨¡å—](docs/api/upload.md)
  - [Posts å¸–å­æ¨¡å—](docs/api/posts.md)
  - [User ç”¨æˆ·æ¨¡å—](docs/api/user.md)
  - [Inbox æ”¶ä»¶ç®±æ¨¡å—](docs/api/inbox.md)
- **[ç¤ºä¾‹ä»£ç ](docs/examples/)** - å„ç§ä½¿ç”¨åœºæ™¯çš„ç¤ºä¾‹
  - [å¿«é€Ÿå¼€å§‹](docs/examples/quickstart.md)
  - [DM ç¤ºä¾‹](docs/examples/dm_demo.md)
  - [ä¸Šä¼ ç¤ºä¾‹](docs/examples/upload_demo.md)
  - [æ‰¹é‡æ“ä½œ](docs/examples/batch_operations.md)

## ğŸ—ï¸ æ¶æ„è®¾è®¡

æœ¬é¡¹ç›®é‡‡ç”¨å››å±‚æ¶æ„è®¾è®¡ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Twitter (Facade å±‚)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  dm  â”‚ posts  â”‚  user  â”‚  inbox   â”‚  future modules  â”‚    â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚       â”‚        â”‚        â”‚
       â”‚       â”‚        â”‚        â”‚     Service å±‚ï¼ˆä¸šåŠ¡æ¨¡å—ï¼‰
   â”Œâ”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ DM   â”‚ â”‚Posts â”‚ â”‚User  â”‚ â”‚ Inbox   â”‚
   â”‚Clientâ”‚ â”‚Clientâ”‚ â”‚Clientâ”‚ â”‚ Client  â”‚
   â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”€â”˜ â””â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚       â”‚       â”‚        â”‚
       â””â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
           â”‚       â”‚        â”‚
      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  Capability å±‚ï¼ˆå…±äº«èƒ½åŠ›ï¼‰
      â”‚  MediaUpload Capability   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Common å±‚ï¼ˆé€šç”¨åŸºç¡€ï¼‰
         â”‚  Auth + HttpClient     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦ç»†æ¶æ„æ–‡æ¡£è¯·å‚è€ƒï¼š

- [æ¶æ„è®¾è®¡æ–‡æ¡£](docs/ARCHITECTURE_INDEX.md)
- [è¿ç§»æŒ‡å—](docs/MIGRATION_GUIDE.md)

## ğŸ”§ å¼€å‘

### ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£… Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£… Python 3.8+
# å®‰è£… maturin
pip install maturin
```

### æœ¬åœ°å¼€å‘

```bash
# å¼€å‘æ¨¡å¼æ„å»º
maturin develop --features python

# è¿è¡Œæµ‹è¯•
cargo test

# è¿è¡Œ Python æµ‹è¯•
pytest python_tests/

# è¿è¡Œç¤ºä¾‹
python examples/python/async_example.py
```

### ä»£ç è§„èŒƒ

- Rust ä»£ç ï¼šéµå¾ª `rustfmt` å’Œ `clippy` è§„èŒƒ
- Python ä»£ç ï¼šéµå¾ª PEP 8 è§„èŒƒ
- æäº¤ä¿¡æ¯ï¼šä½¿ç”¨ Conventional Commits æ ¼å¼

è¯¦ç»†å¼€å‘æŒ‡å—è¯·å‚è€ƒï¼š[å¼€å‘æ–‡æ¡£](docs/DEVELOPMENT.md)

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œ Rust å•å…ƒæµ‹è¯•
cargo test

# è¿è¡Œ Rust é›†æˆæµ‹è¯•ï¼ˆéœ€è¦é…ç½® cookiesï¼‰
cargo test -- --ignored

# è¿è¡Œ Python æµ‹è¯•
pytest python_tests/ -v

# å¸¦æ—¥å¿—è¾“å‡º
RUST_LOG=debug cargo test -- --nocapture
```

è¯¦ç»†æµ‹è¯•è¯´æ˜è¯·å‚è€ƒï¼š[æµ‹è¯•æ–‡æ¡£](docs/TESTING.md)

## ğŸ“Š æ€§èƒ½

- ä½¿ç”¨ Rust å®ç°æ ¸å¿ƒé€»è¾‘ï¼Œæä¾›åŸç”Ÿæ€§èƒ½
- æ”¯æŒå¼‚æ­¥å¹¶å‘æ“ä½œï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸æ€§èƒ½
- æ‰¹é‡æ“ä½œä½¿ç”¨ Tokio å¹¶å‘æ‰§è¡Œ
- HTTP è¿æ¥æ± å¤ç”¨ï¼Œå‡å°‘è¿æ¥å¼€é”€

## ğŸ›¡ï¸ å®‰å…¨æ€§

- æ”¯æŒ JA3/TLS æŒ‡çº¹æ¨¡æ‹Ÿï¼ˆChrome 136ï¼‰
- ä¸åœ¨æ—¥å¿—ä¸­è¾“å‡ºæ•æ„Ÿä¿¡æ¯ï¼ˆcookiesã€tokenï¼‰
- å®Œæ•´çš„å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†
- éµå¾ª Twitter API ä½¿ç”¨é™åˆ¶

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. é€šè¿‡æ‰€æœ‰æµ‹è¯•
2. éµå¾ªä»£ç è§„èŒƒ
3. æ›´æ–°ç›¸å…³æ–‡æ¡£
4. ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯

## ğŸ“® è”ç³»æ–¹å¼

- é—®é¢˜åé¦ˆï¼š[GitHub Issues](https://github.com/Robin528919/x-api-rs/issues)
- åŠŸèƒ½å»ºè®®ï¼š[GitHub Discussions](https://github.com/Robin528919/x-api-rs/discussions)

## ğŸ™ è‡´è°¢

- [PyO3](https://github.com/PyO3/pyo3) - Rust å’Œ Python ç»‘å®šæ¡†æ¶
- [rquest](https://github.com/0x676e67/rquest) - æ”¯æŒ JA3 æŒ‡çº¹çš„ HTTP å®¢æˆ·ç«¯
- [Tokio](https://tokio.rs/) - å¼‚æ­¥è¿è¡Œæ—¶

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚ä½¿ç”¨æœ¬é¡¹ç›®è®¿é—® Twitter API æ—¶ï¼Œè¯·éµå®ˆ Twitter çš„æœåŠ¡æ¡æ¬¾å’Œä½¿ç”¨æ”¿ç­–ã€‚å¼€å‘è€…ä¸å¯¹ä½¿ç”¨æœ¬é¡¹ç›®é€ æˆçš„ä»»ä½•åæœè´Ÿè´£ã€‚

