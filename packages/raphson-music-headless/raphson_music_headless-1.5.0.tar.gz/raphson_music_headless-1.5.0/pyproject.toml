[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "raphson_music_headless"
version = "1.5.0"
authors = [
    { name = "Robin Slot", email = "robin@rslot.nl" },
]
description = "Headless music player server for the Raphson music player"
readme = "README.md"
requires-python = ">=3.11"
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Environment :: No Input/Output (Daemon)",
    "Framework :: AsyncIO",
    "Intended Audience :: System Administrators",
    "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
    "Natural Language :: English",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
    "Topic :: Multimedia :: Sound/Audio :: Players",
    "Typing :: Typed",
]
dependencies = [
    "aiohttp~=3.0",
    "raphson_mp~=2.12.0",
    "typing_extensions~=4.0"
]

[project.optional-dependencies]
vlc = [
    "python-vlc~=3.0"
]
mpv = [
    "python-mpv>=1.0.8,<2.0"  # 1.0.8 contains an essential bugfix to play_bytes: https://github.com/jaseg/python-mpv/issues/292
]
dev = [
    "raphson_music_headless[vlc]",
    "raphson_music_headless[mpv]",
    "build",
    "twine",
]

[project.scripts]
raphson-music-headless = "raphson_music_headless.__main__:main"

[project.urls]
Homepage = "https://codeberg.org/raphson/music-headless"
Issues = "https://codeberg.org/raphson/music-headless/issues"

[tool.black]
line-length = 100

[tool.basedpyright]
include = ["raphson_music_headless"]
pythonVersion = "3.11"
reportUnusedCallResult = false
reportAny = false
reportExplicitAny = false
# mpv and vlc libraries don't have good typing
reportUnknownMemberType = false
reportMissingTypeStubs = false
