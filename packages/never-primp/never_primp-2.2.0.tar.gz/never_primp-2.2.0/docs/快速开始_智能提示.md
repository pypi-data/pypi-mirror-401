# å¿«é€Ÿå¼€å§‹ - IDEæ™ºèƒ½æç¤º

## 3åˆ†é’Ÿä¸Šæ‰‹never_primpçš„æ™ºèƒ½æç¤º

### æ­¥éª¤1ï¼šå®‰è£…åº“

```bash
cd G:\never_primp
python -m maturin develop --release
```

### æ­¥éª¤2ï¼šéªŒè¯æ™ºèƒ½æç¤º

åœ¨ä½ çš„IDEï¼ˆPyCharmã€VSCodeç­‰ï¼‰ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼š

```python
import never_primp

# è¾“å…¥"never_primp."ç„¶åæŒ‰Ctrl+Space
# ä½ åº”è¯¥çœ‹åˆ°ï¼šClient, AsyncClient, get, post, put, delete, ...

response = never_primp.get("https://httpbin.org/get")

# è¾“å…¥"response."ç„¶åæŒ‰Ctrl+Space
# ä½ åº”è¯¥çœ‹åˆ°ï¼šurl, status_code, content, text, encoding, headers, cookies, json()
```

### æ­¥éª¤3ï¼šäº«å—æ™ºèƒ½æç¤ºï¼

#### æµè§ˆå™¨é€‰é¡¹è‡ªåŠ¨å®Œæˆ

```python
client = never_primp.Client(
    impersonate="",  # â† åœ¨å¼•å·å†…æŒ‰Ctrl+Spaceï¼Œçœ‹åˆ°100+æµè§ˆå™¨é€‰é¡¹
    # ä¾‹å¦‚: chrome, chrome_143, firefox_146, safari_26, etc.
)
```

#### æ‰€æœ‰å±æ€§éƒ½æœ‰ç±»å‹æç¤º

```python
response = never_primp.get("https://httpbin.org/get")

# é¼ æ ‡æ‚¬åœæˆ–æŒ‰Ctrl+QæŸ¥çœ‹ç±»å‹å’Œæ–‡æ¡£ï¼š
response.status_code  # int - HTTP status code
response.text         # str - Decoded response text
response.headers      # Dict[str, str] - Response headers
response.encoding     # Optional[str] - Character encoding
```

#### Responseå±æ€§å¯ä»¥ä»»æ„é¡ºåºè®¿é—®

```python
response = never_primp.get("https://httpbin.org/get")

# âœ“ æ‰€æœ‰è¿™äº›è®¿é—®éƒ½å¯ä»¥ï¼
print(response.content)   # bytes
print(response.text)      # str
print(response.headers)   # Dict[str, str]
print(response.encoding)  # Optional[str]
print(response.json())    # Any

# é¡ºåºæ— å…³ç´§è¦ï¼Œéƒ½èƒ½æ­£å¸¸å·¥ä½œï¼
```

## å¸¸è§ä½¿ç”¨æ¨¡å¼

### æ¨¡å¼1ï¼šæ£€æŸ¥çŠ¶æ€ç 

```python
response = never_primp.get("https://api.example.com/data")

if response.status_code == 200:
    # IDEçŸ¥é“json()è¿”å›Anyï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå·±çš„ç±»å‹æ³¨è§£
    data = response.json()
    print(data)
elif response.status_code >= 400:
    print(f"Error {response.status_code}: {response.text}")
```

### æ¨¡å¼2ï¼šè®¿é—®Headers

```python
response = never_primp.get("https://example.com")

# IDEçŸ¥é“headersæ˜¯Dict[str, str]
content_type = response.headers.get("content-type", "")

if "json" in content_type:
    data = response.json()
elif "html" in content_type:
    html = response.text
```

### æ¨¡å¼3ï¼šæµè§ˆå™¨ä¼ªè£…

```python
# ä¼ªè£…æˆChromeæµè§ˆå™¨
response = never_primp.get(
    "https://httpbin.org/headers",
    impersonate="chrome_143",
    impersonate_os="windows"
)

# æŸ¥çœ‹User-Agent
headers = response.json()["headers"]
print(headers["User-Agent"])  # Mozilla/5.0 (Windows NT ...) Chrome/143...
```

### æ¨¡å¼4ï¼šä½¿ç”¨Clientå®ä¾‹

```python
# Context managerè‡ªåŠ¨ç®¡ç†èµ„æº
with never_primp.Client(
    impersonate="firefox",
    timeout=30.0,
    verify=True
) as client:
    # å¤šä¸ªè¯·æ±‚å…±äº«é…ç½®
    response1 = client.get("https://example.com/api/1")
    response2 = client.post("https://example.com/api/2")

    # IDEçŸ¥é“æ‰€æœ‰Responseå±æ€§
    print(response1.status_code)  # int
    print(response2.text)          # str
```

## IDEå¿«æ·é”®

### PyCharm

- **è‡ªåŠ¨å®Œæˆ**: `Ctrl+Space`
- **æŸ¥çœ‹æ–‡æ¡£**: `Ctrl+Q`
- **æŸ¥çœ‹å‚æ•°**: `Ctrl+P`
- **è·³è½¬å®šä¹‰**: `Ctrl+B` æˆ– `Ctrl+Click`

### VSCode

- **è‡ªåŠ¨å®Œæˆ**: `Ctrl+Space`
- **æŸ¥çœ‹æ–‡æ¡£**: Hoveræˆ– `Ctrl+K Ctrl+I`
- **æŸ¥çœ‹å‚æ•°**: `Ctrl+Shift+Space`
- **è·³è½¬å®šä¹‰**: `F12` æˆ– `Ctrl+Click`

## éªŒè¯æ™ºèƒ½æç¤ºæ˜¯å¦å·¥ä½œ

è¿è¡Œè¿™ä¸ªæµ‹è¯•è„šæœ¬ï¼š

```python
# test_ide_hints.py
import never_primp

print("Testing IDE hints...")

# 1. Response properties
response = never_primp.get("https://httpbin.org/get")
print(f"âœ“ url: {type(response.url).__name__} = {response.url}")
print(f"âœ“ status_code: {type(response.status_code).__name__} = {response.status_code}")
print(f"âœ“ encoding: {type(response.encoding).__name__} = {response.encoding}")
print(f"âœ“ content: {type(response.content).__name__} (length: {len(response.content)})")
print(f"âœ“ text: {type(response.text).__name__} (length: {len(response.text)})")
print(f"âœ“ headers: {type(response.headers).__name__} (count: {len(response.headers)})")
print(f"âœ“ cookies: {type(response.cookies).__name__} (count: {len(response.cookies)})")

data = response.json()
print(f"âœ“ json: {type(data).__name__}")

print("\nAll properties work! IDE hints are ready.")
```

é¢„æœŸè¾“å‡ºï¼š

```
Testing IDE hints...
âœ“ url: str = https://httpbin.org/get
âœ“ status_code: int = 200
âœ“ encoding: str = utf-8
âœ“ content: bytes (length: 248)
âœ“ text: str (length: 248)
âœ“ headers: dict (count: 6)
âœ“ cookies: dict (count: 0)
âœ“ json: dict

All properties work! IDE hints are ready.
```

## æ›´å¤šèµ„æº

- ğŸ“– **å®Œæ•´æŒ‡å—**: `docs/IDE_GUIDE.md`
- ğŸ“– **æŠ€æœ¯æ€»ç»“**: `docs/å®Œå–„å°è£…æ€»ç»“.md`
- ğŸ“ **ç¤ºä¾‹ä»£ç **: `example/type_hints_demo.py`
- ğŸ“ **ResponseæŒ‡å—**: `example/response_guide.py`
- ğŸ“ **åŸºæœ¬ç”¨æ³•**: `example/basic_usage.py`

## å¸¸è§é—®é¢˜

### Q: æ™ºèƒ½æç¤ºä¸å·¥ä½œï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. ç¡®è®¤å®‰è£…äº†æ­£ç¡®çš„åŒ…ï¼š
   ```python
   import never_primp
   print(never_primp.__file__)  # æ˜¾ç¤ºå®‰è£…ä½ç½®
   ```

2. æ£€æŸ¥æ˜¯å¦æœ‰ç±»å‹æ–‡ä»¶ï¼š
   ```bash
   # åº”è¯¥çœ‹åˆ°never_primp.pyiå’Œpy.typed
   ls -la $(python -c "import never_primp, os; print(os.path.dirname(never_primp.__file__))")
   ```

3. é‡å¯IDEæˆ–é‡æ–°åŠ è½½çª—å£

4. VSCodeç”¨æˆ·ï¼šç¡®ä¿å®‰è£…äº†Pylanceæ‰©å±•

### Q: çœ‹ä¸åˆ°æ‰€æœ‰æµè§ˆå™¨é€‰é¡¹ï¼Ÿ

**A**: Literalç±»å‹æç¤ºåœ¨æŸäº›æ—§ç‰ˆæœ¬IDEä¸­æ”¯æŒæœ‰é™ã€‚å»ºè®®ï¼š

- PyCharm: 2021.1+
- VSCode: ä½¿ç”¨Pylanceï¼ˆæœ€æ–°ç‰ˆï¼‰
- æˆ–æŸ¥çœ‹ä»£ç ä¸­çš„IMPERSONATEç±»å‹å®šä¹‰

### Q: mypyæŠ¥é”™ï¼Ÿ

**A**: ç¡®ä¿å®‰è£…äº†ç±»å‹æ£€æŸ¥å™¨ï¼š

```bash
pip install mypy
mypy your_script.py
```

## å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å·²ç»å‡†å¤‡å¥½äº†ï¼å¼€å§‹åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨never_primpå§ï¼š

```python
import never_primp

# ç®€å•å¼€å§‹
response = never_primp.get("https://api.example.com/data")

# äº«å—æ™ºèƒ½æç¤ºï¼
# è¾“å…¥ "response." çœ‹çœ‹IDEèƒ½ä¸ºä½ åšä»€ä¹ˆ ğŸ˜Š
```

Happy coding! ğŸ‰
