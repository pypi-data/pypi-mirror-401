Metadata-Version: 2.1
Name: malariagen_data
Version: 15.6.0
Summary: A package for accessing and analysing MalariaGEN data.
Home-page: https://github.com/malariagen/malariagen-data-python
License: MIT
Author: Alistair Miles
Author-email: alistair.miles@sanger.ac.uk
Requires-Python: >=3.10,<3.13
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Provides-Extra: dev
Requires-Dist: BioPython
Requires-Dist: anjl (>=1.2.0)
Requires-Dist: bed_reader
Requires-Dist: bokeh (<3.7.0)
Requires-Dist: dash (<3.0.0)
Requires-Dist: dash-cytoscape (>=1.0.0)
Requires-Dist: dask[array]
Requires-Dist: distributed
Requires-Dist: fsspec
Requires-Dist: gcsfs
Requires-Dist: google-auth
Requires-Dist: igv-notebook (>=0.2.3)
Requires-Dist: ipinfo (!=4.4.1)
Requires-Dist: ipyleaflet (>=0.17.0)
Requires-Dist: ipywidgets
Requires-Dist: jupyterlab ; extra == "dev"
Requires-Dist: llvmlite
Requires-Dist: memory-profiler ; extra == "dev"
Requires-Dist: mypy ; extra == "dev"
Requires-Dist: notebook ; extra == "dev"
Requires-Dist: numba (>=0.60.0)
Requires-Dist: numcodecs (<0.16)
Requires-Dist: numpy (<2.2)
Requires-Dist: numpydoc_decorator (>=2.1.0)
Requires-Dist: orjson
Requires-Dist: pandas
Requires-Dist: pandas-stubs ; extra == "dev"
Requires-Dist: plotly
Requires-Dist: pre-commit ; extra == "dev"
Requires-Dist: protopunica (>=0.14.8.post2)
Requires-Dist: pydata-sphinx-theme ; extra == "dev"
Requires-Dist: pytest ; extra == "dev"
Requires-Dist: pytest-cases ; extra == "dev"
Requires-Dist: pytest-cov ; extra == "dev"
Requires-Dist: pytest-mock
Requires-Dist: pytest-xdist ; extra == "dev"
Requires-Dist: ruff ; extra == "dev"
Requires-Dist: s3fs
Requires-Dist: scikit-allel (>=1.3.13)
Requires-Dist: scipy
Requires-Dist: snakeviz ; extra == "dev"
Requires-Dist: sphinx ; extra == "dev"
Requires-Dist: sphinx_design ; extra == "dev"
Requires-Dist: statsmodels
Requires-Dist: tqdm
Requires-Dist: typeguard (>=4.0.0)
Requires-Dist: typing_extensions
Requires-Dist: xarray
Requires-Dist: yaspin
Requires-Dist: zarr (>=2.11,<3.0.0)
Project-URL: Documentation, https://malariagen.github.io/malariagen-data-python/latest/
Project-URL: Repository, https://github.com/malariagen/malariagen-data-python
Description-Content-Type: text/markdown

# `malariagen_data` - analyse MalariaGEN data from Python

This Python package provides methods for accessing and analysing data from MalariaGEN.

## Installation

The `malariagen_data` Python package is available from the Python
package index (PyPI) and can be installed via `pip`, e.g.:

```bash
pip install malariagen-data
```

## Documentation

Documentation of classes and methods in the public API are available
from the following locations:

-   [Ag3 API
    docs](https://malariagen.github.io/malariagen-data-python/latest/Ag3.html)

-   [Amin1 API
    docs](https://malariagen.github.io/malariagen-data-python/latest/Amin1.html)

-   [Pf7 API
    docs](https://malariagen.github.io/parasite-data/pf7/api.html)

-   [Pv4 API
    docs](https://malariagen.github.io/parasite-data/pv4/api.html)

## Release notes (change log)

See [GitHub releases](https://github.com/malariagen/malariagen-data-python/releases)
for release notes.

## Developer setup

To get setup for development, see [this video if you prefer VS Code](https://youtu.be/zddl3n1DCFM), or [this older video if you prefer PyCharm](https://youtu.be/QniQi-Hoo9A), and the instructions below.

Fork and clone this repo:

```bash
git clone git@github.com:[username]/malariagen-data-python.git
```

Install Python, e.g.:

```bash
sudo add-apt-repository ppa:deadsnakes/ppa
sudo apt install python3.10 python3.10-venv
```

Install pipx, e.g.:

```bash
python3.10 -m pip install --user pipx
python3.10 -m pipx ensurepath
```

Install [poetry](https://python-poetry.org/docs/#installation), e.g.:

```bash
pipx install poetry
```

Create development environment:

```bash
cd malariagen-data-python
poetry use 3.10
poetry install
```

Activate development environment:

```bash
poetry shell
```

Install pre-commit and pre-commit hooks:

```bash
pipx install pre-commit
pre-commit install
```

Run pre-commit checks (isort, black, blackdoc, flake8, ...) manually:

```bash
pre-commit run --all-files
```

Run fast unit tests using simulated data:

```bash
poetry run pytest -v tests/anoph
```

To run legacy tests which read data from GCS, you'll need to [request access to MalariaGEN data on GCS](https://malariagen.github.io/vector-data/vobs/vobs-data-access.html).

Once access has been granted, [install the Google Cloud CLI](https://cloud.google.com/sdk/docs/install). E.g., if on Linux:

```bash
./install_gcloud.sh
```

You'll then need to obtain application-default credentials, e.g.:

```bash
./google-cloud-sdk/bin/gcloud auth application-default login
```

Once this is done, you can run legacy tests:

```bash
poetry run pytest --ignore=tests/anoph -v tests
```

Tests will run slowly the first time, as data required for testing
will be read from GCS. Subsequent runs will be faster as data will be
cached locally in the "gcs_cache" folder.

## Release process

Create a new GitHub release. That's it. This will automatically
trigger publishing of a new release to PyPI and a new version of
the documentation via GitHub Actions.

The version switcher for the documentation can then be updated by
modifying the `docs/source/_static/switcher.json` file accordingly.

## Citation

If you use the `malariagen_data` package in a publication
or include any of its functions or code in other materials (_e.g._ training resources),
please cite: [doi.org/10.5281/zenodo.11173411](doi.org/10.5281/zenodo.11173411)

Some functions may require additional citations to acknowledge specific contributions. These are indicated in the description for each relevant function.

For any questions, please feel free to contact us at: [support@malariagen.net](mailto:support@malariagen.net)


## Sponsorship

This project is currently supported by the following grants:

* [BMGF INV-068808](https://www.gatesfoundation.org/about/committed-grants/2024/04/inv-068808)
* [BMGF INV-062921](https://www.gatesfoundation.org/about/committed-grants/2024/07/inv-062921)

This project was previously supported by the following grants:

* [BMGF INV-001927](https://www.gatesfoundation.org/about/committed-grants/2019/11/inv001927)

