[build-system]
requires = ["setuptools >=77.0.3"]
build-backend = "setuptools.build_meta"

[project]
name = "cate"
description = "Tool to draw the templates of chaotic attractors"
readme = "README.rst"
keywords = [
  "chaotic attractor",
  "dynamical system",
  "graph drawing",
  "template",
]
maintainers = [
  { name = "RaphaÃ«l Bleuse", email = "cs@research.bleuse.net" },
]
license = "LGPL-3.0-only"
classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Environment :: Console",
  "Intended Audience :: Science/Research",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
  "Topic :: Scientific/Engineering :: Mathematics",
  "Topic :: Scientific/Engineering :: Physics",
  "Topic :: Scientific/Engineering :: Visualization",
  "Topic :: Utilities",
]
requires-python = ">=3.10"
dependencies = [
  "multiset ==3.2.0",
  "svgwrite ==1.4.3",
]
dynamic = [
  "version",  # TODO: inverse dependency to statically define version
]

[project.urls]
homepage = "https://gitlab.inria.fr/cate/cate"
repository = "https://gitlab.inria.fr/cate/cate.git"
issues = "https://gitlab.inria.fr/cate/cate/-/issues"
changelog = "https://gitlab.inria.fr/cate/cate/-/blob/master/Changelog.rst"

[project.scripts]
cate = "cate.cli:cli"

[dependency-groups]
lint = [
  "ruff ~=0.14.11",
  "black >=25.12.0,<26.0.0",
]
test = [
  "coverage ==7.13.1",
  "pytest ==9.0.2",
  "pytest-cov ==7.0.0",
]
dev = [
  { include-group = "lint" },
  { include-group = "test" },
]

[tool.setuptools.dynamic]
version = { attr = "cate.__version__" }

[tool.setuptools]
package-dir = { "" = "src" }
packages = [
  "cate",
]

[tool.pytest.ini_options]
addopts = "--verbose -r fxX --maxfail=25 --cov-report=html --cov=cate"

[tool.coverage.run]
branch = true
source = [
  "src",
]

[tool.ruff.format]
quote-style = "single"

[tool.ruff.lint]
extend-select = [
  "YTT",
  "BLE",
  "FBT",
  "B",
  "A",
  "C4",
  "EM",
  "EXE",
  "FIX",
  "RET",
  "SLF",
  "SIM",
  "TID",
  "ARG",
  "I",
  "N",
  "PERF",
  "E",
  "W",
  "PL",
  "UP",
  "RUF",
  "TRY",
]
